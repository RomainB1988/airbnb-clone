var Kb=Object.defineProperty;var Gb=(r,e,t)=>e in r?Kb(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var Ee=(r,e,t)=>Gb(r,typeof e!="symbol"?e+"":e,t);function Qb(r,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in r)){const o=Object.getOwnPropertyDescriptor(n,i);o&&Object.defineProperty(r,i,o.get?o:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();function mS(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Qp={exports:{}},cu={},Xp={exports:{}},He={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R_;function Xb(){if(R_)return He;R_=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.iterator;function E(U){return U===null||typeof U!="object"?null:(U=v&&U[v]||U["@@iterator"],typeof U=="function"?U:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,L={};function P(U,J,oe){this.props=U,this.context=J,this.refs=L,this.updater=oe||S}P.prototype.isReactComponent={},P.prototype.setState=function(U,J){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,J,"setState")},P.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function V(){}V.prototype=P.prototype;function F(U,J,oe){this.props=U,this.context=J,this.refs=L,this.updater=oe||S}var H=F.prototype=new V;H.constructor=F,T(H,P.prototype),H.isPureReactComponent=!0;var j=Array.isArray,z=Object.prototype.hasOwnProperty,$={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function I(U,J,oe){var we,X={},xe=null,Le=null;if(J!=null)for(we in J.ref!==void 0&&(Le=J.ref),J.key!==void 0&&(xe=""+J.key),J)z.call(J,we)&&!D.hasOwnProperty(we)&&(X[we]=J[we]);var ye=arguments.length-2;if(ye===1)X.children=oe;else if(1<ye){for(var Ve=Array(ye),Se=0;Se<ye;Se++)Ve[Se]=arguments[Se+2];X.children=Ve}if(U&&U.defaultProps)for(we in ye=U.defaultProps,ye)X[we]===void 0&&(X[we]=ye[we]);return{$$typeof:r,type:U,key:xe,ref:Le,props:X,_owner:$.current}}function k(U,J){return{$$typeof:r,type:U.type,key:J,ref:U.ref,props:U.props,_owner:U._owner}}function R(U){return typeof U=="object"&&U!==null&&U.$$typeof===r}function A(U){var J={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(oe){return J[oe]})}var N=/\/+/g;function M(U,J){return typeof U=="object"&&U!==null&&U.key!=null?A(""+U.key):J.toString(36)}function fe(U,J,oe,we,X){var xe=typeof U;(xe==="undefined"||xe==="boolean")&&(U=null);var Le=!1;if(U===null)Le=!0;else switch(xe){case"string":case"number":Le=!0;break;case"object":switch(U.$$typeof){case r:case e:Le=!0}}if(Le)return Le=U,X=X(Le),U=we===""?"."+M(Le,0):we,j(X)?(oe="",U!=null&&(oe=U.replace(N,"$&/")+"/"),fe(X,J,oe,"",function(Se){return Se})):X!=null&&(R(X)&&(X=k(X,oe+(!X.key||Le&&Le.key===X.key?"":(""+X.key).replace(N,"$&/")+"/")+U)),J.push(X)),1;if(Le=0,we=we===""?".":we+":",j(U))for(var ye=0;ye<U.length;ye++){xe=U[ye];var Ve=we+M(xe,ye);Le+=fe(xe,J,oe,Ve,X)}else if(Ve=E(U),typeof Ve=="function")for(U=Ve.call(U),ye=0;!(xe=U.next()).done;)xe=xe.value,Ve=we+M(xe,ye++),Le+=fe(xe,J,oe,Ve,X);else if(xe==="object")throw J=String(U),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.");return Le}function me(U,J,oe){if(U==null)return U;var we=[],X=0;return fe(U,we,"","",function(xe){return J.call(oe,xe,X++)}),we}function ce(U){if(U._status===-1){var J=U._result;J=J(),J.then(function(oe){(U._status===0||U._status===-1)&&(U._status=1,U._result=oe)},function(oe){(U._status===0||U._status===-1)&&(U._status=2,U._result=oe)}),U._status===-1&&(U._status=0,U._result=J)}if(U._status===1)return U._result.default;throw U._result}var he={current:null},G={transition:null},ae={ReactCurrentDispatcher:he,ReactCurrentBatchConfig:G,ReactCurrentOwner:$};function re(){throw Error("act(...) is not supported in production builds of React.")}return He.Children={map:me,forEach:function(U,J,oe){me(U,function(){J.apply(this,arguments)},oe)},count:function(U){var J=0;return me(U,function(){J++}),J},toArray:function(U){return me(U,function(J){return J})||[]},only:function(U){if(!R(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},He.Component=P,He.Fragment=t,He.Profiler=i,He.PureComponent=F,He.StrictMode=n,He.Suspense=d,He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ae,He.act=re,He.cloneElement=function(U,J,oe){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var we=T({},U.props),X=U.key,xe=U.ref,Le=U._owner;if(J!=null){if(J.ref!==void 0&&(xe=J.ref,Le=$.current),J.key!==void 0&&(X=""+J.key),U.type&&U.type.defaultProps)var ye=U.type.defaultProps;for(Ve in J)z.call(J,Ve)&&!D.hasOwnProperty(Ve)&&(we[Ve]=J[Ve]===void 0&&ye!==void 0?ye[Ve]:J[Ve])}var Ve=arguments.length-2;if(Ve===1)we.children=oe;else if(1<Ve){ye=Array(Ve);for(var Se=0;Se<Ve;Se++)ye[Se]=arguments[Se+2];we.children=ye}return{$$typeof:r,type:U.type,key:X,ref:xe,props:we,_owner:Le}},He.createContext=function(U){return U={$$typeof:l,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:o,_context:U},U.Consumer=U},He.createElement=I,He.createFactory=function(U){var J=I.bind(null,U);return J.type=U,J},He.createRef=function(){return{current:null}},He.forwardRef=function(U){return{$$typeof:c,render:U}},He.isValidElement=R,He.lazy=function(U){return{$$typeof:m,_payload:{_status:-1,_result:U},_init:ce}},He.memo=function(U,J){return{$$typeof:p,type:U,compare:J===void 0?null:J}},He.startTransition=function(U){var J=G.transition;G.transition={};try{U()}finally{G.transition=J}},He.unstable_act=re,He.useCallback=function(U,J){return he.current.useCallback(U,J)},He.useContext=function(U){return he.current.useContext(U)},He.useDebugValue=function(){},He.useDeferredValue=function(U){return he.current.useDeferredValue(U)},He.useEffect=function(U,J){return he.current.useEffect(U,J)},He.useId=function(){return he.current.useId()},He.useImperativeHandle=function(U,J,oe){return he.current.useImperativeHandle(U,J,oe)},He.useInsertionEffect=function(U,J){return he.current.useInsertionEffect(U,J)},He.useLayoutEffect=function(U,J){return he.current.useLayoutEffect(U,J)},He.useMemo=function(U,J){return he.current.useMemo(U,J)},He.useReducer=function(U,J,oe){return he.current.useReducer(U,J,oe)},He.useRef=function(U){return he.current.useRef(U)},He.useState=function(U){return he.current.useState(U)},He.useSyncExternalStore=function(U,J,oe){return he.current.useSyncExternalStore(U,J,oe)},He.useTransition=function(){return he.current.useTransition()},He.version="18.3.1",He}var M_;function ug(){return M_||(M_=1,Xp.exports=Xb()),Xp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A_;function Zb(){if(A_)return cu;A_=1;var r=ug(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(c,d,p){var m,v={},E=null,S=null;p!==void 0&&(E=""+p),d.key!==void 0&&(E=""+d.key),d.ref!==void 0&&(S=d.ref);for(m in d)n.call(d,m)&&!o.hasOwnProperty(m)&&(v[m]=d[m]);if(c&&c.defaultProps)for(m in d=c.defaultProps,d)v[m]===void 0&&(v[m]=d[m]);return{$$typeof:e,type:c,key:E,ref:S,props:v,_owner:i.current}}return cu.Fragment=t,cu.jsx=l,cu.jsxs=l,cu}var O_;function Jb(){return O_||(O_=1,Qp.exports=Zb()),Qp.exports}var Q=Jb(),y=ug();const ne=mS(y),gS=Qb({__proto__:null,default:ne},[y]);var kd={},Zp={exports:{}},Mn={},Jp={exports:{}},em={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N_;function eI(){return N_||(N_=1,function(r){function e(G,ae){var re=G.length;G.push(ae);e:for(;0<re;){var U=re-1>>>1,J=G[U];if(0<i(J,ae))G[U]=ae,G[re]=J,re=U;else break e}}function t(G){return G.length===0?null:G[0]}function n(G){if(G.length===0)return null;var ae=G[0],re=G.pop();if(re!==ae){G[0]=re;e:for(var U=0,J=G.length,oe=J>>>1;U<oe;){var we=2*(U+1)-1,X=G[we],xe=we+1,Le=G[xe];if(0>i(X,re))xe<J&&0>i(Le,X)?(G[U]=Le,G[xe]=re,U=xe):(G[U]=X,G[we]=re,U=we);else if(xe<J&&0>i(Le,re))G[U]=Le,G[xe]=re,U=xe;else break e}}return ae}function i(G,ae){var re=G.sortIndex-ae.sortIndex;return re!==0?re:G.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;r.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();r.unstable_now=function(){return l.now()-c}}var d=[],p=[],m=1,v=null,E=3,S=!1,T=!1,L=!1,P=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function H(G){for(var ae=t(p);ae!==null;){if(ae.callback===null)n(p);else if(ae.startTime<=G)n(p),ae.sortIndex=ae.expirationTime,e(d,ae);else break;ae=t(p)}}function j(G){if(L=!1,H(G),!T)if(t(d)!==null)T=!0,ce(z);else{var ae=t(p);ae!==null&&he(j,ae.startTime-G)}}function z(G,ae){T=!1,L&&(L=!1,V(I),I=-1),S=!0;var re=E;try{for(H(ae),v=t(d);v!==null&&(!(v.expirationTime>ae)||G&&!A());){var U=v.callback;if(typeof U=="function"){v.callback=null,E=v.priorityLevel;var J=U(v.expirationTime<=ae);ae=r.unstable_now(),typeof J=="function"?v.callback=J:v===t(d)&&n(d),H(ae)}else n(d);v=t(d)}if(v!==null)var oe=!0;else{var we=t(p);we!==null&&he(j,we.startTime-ae),oe=!1}return oe}finally{v=null,E=re,S=!1}}var $=!1,D=null,I=-1,k=5,R=-1;function A(){return!(r.unstable_now()-R<k)}function N(){if(D!==null){var G=r.unstable_now();R=G;var ae=!0;try{ae=D(!0,G)}finally{ae?M():($=!1,D=null)}}else $=!1}var M;if(typeof F=="function")M=function(){F(N)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,me=fe.port2;fe.port1.onmessage=N,M=function(){me.postMessage(null)}}else M=function(){P(N,0)};function ce(G){D=G,$||($=!0,M())}function he(G,ae){I=P(function(){G(r.unstable_now())},ae)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_continueExecution=function(){T||S||(T=!0,ce(z))},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return E},r.unstable_getFirstCallbackNode=function(){return t(d)},r.unstable_next=function(G){switch(E){case 1:case 2:case 3:var ae=3;break;default:ae=E}var re=E;E=ae;try{return G()}finally{E=re}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(G,ae){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var re=E;E=G;try{return ae()}finally{E=re}},r.unstable_scheduleCallback=function(G,ae,re){var U=r.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?U+re:U):re=U,G){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=re+J,G={id:m++,callback:ae,priorityLevel:G,startTime:re,expirationTime:J,sortIndex:-1},re>U?(G.sortIndex=re,e(p,G),t(d)===null&&G===t(p)&&(L?(V(I),I=-1):L=!0,he(j,re-U))):(G.sortIndex=J,e(d,G),T||S||(T=!0,ce(z))),G},r.unstable_shouldYield=A,r.unstable_wrapCallback=function(G){var ae=E;return function(){var re=E;E=ae;try{return G.apply(this,arguments)}finally{E=re}}}}(em)),em}var V_;function tI(){return V_||(V_=1,Jp.exports=eI()),Jp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F_;function nI(){if(F_)return Mn;F_=1;var r=ug(),e=tI();function t(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,u=1;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function o(s,a){l(s,a),l(s+"Capture",a)}function l(s,a){for(i[s]=a,s=0;s<a.length;s++)n.add(a[s])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},v={};function E(s){return d.call(v,s)?!0:d.call(m,s)?!1:p.test(s)?v[s]=!0:(m[s]=!0,!1)}function S(s,a,u,h){if(u!==null&&u.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return h?!1:u!==null?!u.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function T(s,a,u,h){if(a===null||typeof a>"u"||S(s,a,u,h))return!0;if(h)return!1;if(u!==null)switch(u.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function L(s,a,u,h,g,w,b){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=h,this.attributeNamespace=g,this.mustUseProperty=u,this.propertyName=s,this.type=a,this.sanitizeURL=w,this.removeEmptyString=b}var P={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){P[s]=new L(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];P[a]=new L(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){P[s]=new L(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){P[s]=new L(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){P[s]=new L(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){P[s]=new L(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){P[s]=new L(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){P[s]=new L(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){P[s]=new L(s,5,!1,s.toLowerCase(),null,!1,!1)});var V=/[\-:]([a-z])/g;function F(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(V,F);P[a]=new L(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(V,F);P[a]=new L(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(V,F);P[a]=new L(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){P[s]=new L(s,1,!1,s.toLowerCase(),null,!1,!1)}),P.xlinkHref=new L("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){P[s]=new L(s,1,!1,s.toLowerCase(),null,!0,!0)});function H(s,a,u,h){var g=P.hasOwnProperty(a)?P[a]:null;(g!==null?g.type!==0:h||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(T(a,u,g,h)&&(u=null),h||g===null?E(a)&&(u===null?s.removeAttribute(a):s.setAttribute(a,""+u)):g.mustUseProperty?s[g.propertyName]=u===null?g.type===3?!1:"":u:(a=g.attributeName,h=g.attributeNamespace,u===null?s.removeAttribute(a):(g=g.type,u=g===3||g===4&&u===!0?"":""+u,h?s.setAttributeNS(h,a,u):s.setAttribute(a,u))))}var j=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,z=Symbol.for("react.element"),$=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),A=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),fe=Symbol.for("react.suspense_list"),me=Symbol.for("react.memo"),ce=Symbol.for("react.lazy"),he=Symbol.for("react.offscreen"),G=Symbol.iterator;function ae(s){return s===null||typeof s!="object"?null:(s=G&&s[G]||s["@@iterator"],typeof s=="function"?s:null)}var re=Object.assign,U;function J(s){if(U===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);U=a&&a[1]||""}return`
`+U+s}var oe=!1;function we(s,a){if(!s||oe)return"";oe=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(Z){var h=Z}Reflect.construct(s,[],a)}else{try{a.call()}catch(Z){h=Z}s.call(a.prototype)}else{try{throw Error()}catch(Z){h=Z}s()}}catch(Z){if(Z&&h&&typeof Z.stack=="string"){for(var g=Z.stack.split(`
`),w=h.stack.split(`
`),b=g.length-1,O=w.length-1;1<=b&&0<=O&&g[b]!==w[O];)O--;for(;1<=b&&0<=O;b--,O--)if(g[b]!==w[O]){if(b!==1||O!==1)do if(b--,O--,0>O||g[b]!==w[O]){var B=`
`+g[b].replace(" at new "," at ");return s.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",s.displayName)),B}while(1<=b&&0<=O);break}}}finally{oe=!1,Error.prepareStackTrace=u}return(s=s?s.displayName||s.name:"")?J(s):""}function X(s){switch(s.tag){case 5:return J(s.type);case 16:return J("Lazy");case 13:return J("Suspense");case 19:return J("SuspenseList");case 0:case 2:case 15:return s=we(s.type,!1),s;case 11:return s=we(s.type.render,!1),s;case 1:return s=we(s.type,!0),s;default:return""}}function xe(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case D:return"Fragment";case $:return"Portal";case k:return"Profiler";case I:return"StrictMode";case M:return"Suspense";case fe:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case A:return(s.displayName||"Context")+".Consumer";case R:return(s._context.displayName||"Context")+".Provider";case N:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case me:return a=s.displayName||null,a!==null?a:xe(s.type)||"Memo";case ce:a=s._payload,s=s._init;try{return xe(s(a))}catch{}}return null}function Le(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xe(a);case 8:return a===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function ye(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ve(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Se(s){var a=Ve(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),h=""+s[a];if(!s.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,w=u.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return g.call(this)},set:function(b){h=""+b,w.call(this,b)}}),Object.defineProperty(s,a,{enumerable:u.enumerable}),{getValue:function(){return h},setValue:function(b){h=""+b},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function ze(s){s._valueTracker||(s._valueTracker=Se(s))}function $t(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var u=a.getValue(),h="";return s&&(h=Ve(s)?s.checked?"true":"false":s.value),s=h,s!==u?(a.setValue(s),!0):!1}function Yt(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Vn(s,a){var u=a.checked;return re({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??s._wrapperState.initialChecked})}function Qe(s,a){var u=a.defaultValue==null?"":a.defaultValue,h=a.checked!=null?a.checked:a.defaultChecked;u=ye(a.value!=null?a.value:u),s._wrapperState={initialChecked:h,initialValue:u,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function es(s,a){a=a.checked,a!=null&&H(s,"checked",a,!1)}function jr(s,a){es(s,a);var u=ye(a.value),h=a.type;if(u!=null)h==="number"?(u===0&&s.value===""||s.value!=u)&&(s.value=""+u):s.value!==""+u&&(s.value=""+u);else if(h==="submit"||h==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?mr(s,a.type,u):a.hasOwnProperty("defaultValue")&&mr(s,a.type,ye(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function lo(s,a,u){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var h=a.type;if(!(h!=="submit"&&h!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,u||a===s.value||(s.value=a),s.defaultValue=a}u=s.name,u!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,u!==""&&(s.name=u)}function mr(s,a,u){(a!=="number"||Yt(s.ownerDocument)!==s)&&(u==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+u&&(s.defaultValue=""+u))}var Qn=Array.isArray;function kn(s,a,u,h){if(s=s.options,a){a={};for(var g=0;g<u.length;g++)a["$"+u[g]]=!0;for(u=0;u<s.length;u++)g=a.hasOwnProperty("$"+s[u].value),s[u].selected!==g&&(s[u].selected=g),g&&h&&(s[u].defaultSelected=!0)}else{for(u=""+ye(u),a=null,g=0;g<s.length;g++){if(s[g].value===u){s[g].selected=!0,h&&(s[g].defaultSelected=!0);return}a!==null||s[g].disabled||(a=s[g])}a!==null&&(a.selected=!0)}}function ts(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return re({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function gr(s,a){var u=a.value;if(u==null){if(u=a.children,a=a.defaultValue,u!=null){if(a!=null)throw Error(t(92));if(Qn(u)){if(1<u.length)throw Error(t(93));u=u[0]}a=u}a==null&&(a=""),u=a}s._wrapperState={initialValue:ye(u)}}function wi(s,a){var u=ye(a.value),h=ye(a.defaultValue);u!=null&&(u=""+u,u!==s.value&&(s.value=u),a.defaultValue==null&&s.defaultValue!==u&&(s.defaultValue=u)),h!=null&&(s.defaultValue=""+h)}function ns(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function It(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _t(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?It(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Xn,Br=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,u,h,g){MSApp.execUnsafeLocalFunction(function(){return s(a,u,h,g)})}:s}(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(Xn=Xn||document.createElement("div"),Xn.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Xn.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function vr(s,a){if(a){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=a;return}}s.textContent=a}var Zn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zr=["Webkit","ms","Moz","O"];Object.keys(Zn).forEach(function(s){zr.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),Zn[a]=Zn[s]})});function Wr(s,a,u){return a==null||typeof a=="boolean"||a===""?"":u||typeof a!="number"||a===0||Zn.hasOwnProperty(s)&&Zn[s]?(""+a).trim():a+"px"}function rs(s,a){s=s.style;for(var u in a)if(a.hasOwnProperty(u)){var h=u.indexOf("--")===0,g=Wr(u,a[u],h);u==="float"&&(u="cssFloat"),h?s.setProperty(u,g):s[u]=g}}var Hr=re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function is(s,a){if(a){if(Hr[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function $r(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yr=null;function yr(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Ei=null,vn=null,Fn=null;function _r(s){if(s=Gl(s)){if(typeof Ei!="function")throw Error(t(280));var a=s.stateNode;a&&(a=jc(a),Ei(s.stateNode,s.type,a))}}function Un(s){vn?Fn?Fn.push(s):Fn=[s]:vn=s}function qr(){if(vn){var s=vn,a=Fn;if(Fn=vn=null,_r(s),a)for(s=0;s<a.length;s++)_r(a[s])}}function Kr(s,a){return s(a)}function Gr(){}var Jn=!1;function uo(s,a,u){if(Jn)return s(a,u);Jn=!0;try{return Kr(s,a,u)}finally{Jn=!1,(vn!==null||Fn!==null)&&(Gr(),qr())}}function ft(s,a){var u=s.stateNode;if(u===null)return null;var h=jc(u);if(h===null)return null;u=h[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(t(231,a,typeof u));return u}var Oe=!1;if(c)try{var wr={};Object.defineProperty(wr,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",wr,wr),window.removeEventListener("test",wr,wr)}catch{Oe=!1}function co(s,a,u,h,g,w,b,O,B){var Z=Array.prototype.slice.call(arguments,3);try{a.apply(u,Z)}catch(ue){this.onError(ue)}}var fo=!1,ta=null,Er=!1,Dl=null,Th={onError:function(s){fo=!0,ta=s}};function na(s,a,u,h,g,w,b,O,B){fo=!1,ta=null,co.apply(Th,arguments)}function dc(s,a,u,h,g,w,b,O,B){if(na.apply(this,arguments),fo){if(fo){var Z=ta;fo=!1,ta=null}else throw Error(t(198));Er||(Er=!0,Dl=Z)}}function Cr(s){var a=s,u=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,a.flags&4098&&(u=a.return),s=a.return;while(s)}return a.tag===3?u:null}function ho(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function Sr(s){if(Cr(s)!==s)throw Error(t(188))}function fc(s){var a=s.alternate;if(!a){if(a=Cr(s),a===null)throw Error(t(188));return a!==s?null:s}for(var u=s,h=a;;){var g=u.return;if(g===null)break;var w=g.alternate;if(w===null){if(h=g.return,h!==null){u=h;continue}break}if(g.child===w.child){for(w=g.child;w;){if(w===u)return Sr(g),s;if(w===h)return Sr(g),a;w=w.sibling}throw Error(t(188))}if(u.return!==h.return)u=g,h=w;else{for(var b=!1,O=g.child;O;){if(O===u){b=!0,u=g,h=w;break}if(O===h){b=!0,h=g,u=w;break}O=O.sibling}if(!b){for(O=w.child;O;){if(O===u){b=!0,u=w,h=g;break}if(O===h){b=!0,h=w,u=g;break}O=O.sibling}if(!b)throw Error(t(189))}}if(u.alternate!==h)throw Error(t(190))}if(u.tag!==3)throw Error(t(188));return u.stateNode.current===u?s:a}function xl(s){return s=fc(s),s!==null?ra(s):null}function ra(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=ra(s);if(a!==null)return a;s=s.sibling}return null}var ia=e.unstable_scheduleCallback,Ll=e.unstable_cancelCallback,hc=e.unstable_shouldYield,kh=e.unstable_requestPaint,pt=e.unstable_now,pc=e.unstable_getCurrentPriorityLevel,po=e.unstable_ImmediatePriority,ss=e.unstable_UserBlockingPriority,er=e.unstable_NormalPriority,Rl=e.unstable_LowPriority,mc=e.unstable_IdlePriority,mo=null,jn=null;function gc(s){if(jn&&typeof jn.onCommitFiberRoot=="function")try{jn.onCommitFiberRoot(mo,s,void 0,(s.current.flags&128)===128)}catch{}}var yn=Math.clz32?Math.clz32:yc,Ml=Math.log,vc=Math.LN2;function yc(s){return s>>>=0,s===0?32:31-(Ml(s)/vc|0)|0}var sa=64,oa=4194304;function os(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function go(s,a){var u=s.pendingLanes;if(u===0)return 0;var h=0,g=s.suspendedLanes,w=s.pingedLanes,b=u&268435455;if(b!==0){var O=b&~g;O!==0?h=os(O):(w&=b,w!==0&&(h=os(w)))}else b=u&~g,b!==0?h=os(b):w!==0&&(h=os(w));if(h===0)return 0;if(a!==0&&a!==h&&!(a&g)&&(g=h&-h,w=a&-a,g>=w||g===16&&(w&4194240)!==0))return a;if(h&4&&(h|=u&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=h;0<a;)u=31-yn(a),g=1<<u,h|=s[u],a&=~g;return h}function bh(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ci(s,a){for(var u=s.suspendedLanes,h=s.pingedLanes,g=s.expirationTimes,w=s.pendingLanes;0<w;){var b=31-yn(w),O=1<<b,B=g[b];B===-1?(!(O&u)||O&h)&&(g[b]=bh(O,a)):B<=a&&(s.expiredLanes|=O),w&=~O}}function Bn(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function vo(){var s=sa;return sa<<=1,!(sa&4194240)&&(sa=64),s}function as(s){for(var a=[],u=0;31>u;u++)a.push(s);return a}function ls(s,a,u){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-yn(a),s[a]=u}function ht(s,a){var u=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var h=s.eventTimes;for(s=s.expirationTimes;0<u;){var g=31-yn(u),w=1<<g;a[g]=0,h[g]=-1,s[g]=-1,u&=~w}}function us(s,a){var u=s.entangledLanes|=a;for(s=s.entanglements;u;){var h=31-yn(u),g=1<<h;g&a|s[h]&a&&(s[h]|=a),u&=~g}}var Xe=0;function cs(s){return s&=-s,1<s?4<s?s&268435455?16:536870912:4:1}var _c,aa,wc,Ec,Cc,Al=!1,Qr=[],en=null,Tr=null,kr=null,ds=new Map,tr=new Map,Xr=[],Ih="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(s,a){switch(s){case"focusin":case"focusout":en=null;break;case"dragenter":case"dragleave":Tr=null;break;case"mouseover":case"mouseout":kr=null;break;case"pointerover":case"pointerout":ds.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":tr.delete(a.pointerId)}}function bn(s,a,u,h,g,w){return s===null||s.nativeEvent!==w?(s={blockedOn:a,domEventName:u,eventSystemFlags:h,nativeEvent:w,targetContainers:[g]},a!==null&&(a=Gl(a),a!==null&&aa(a)),s):(s.eventSystemFlags|=h,a=s.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),s)}function Ph(s,a,u,h,g){switch(a){case"focusin":return en=bn(en,s,a,u,h,g),!0;case"dragenter":return Tr=bn(Tr,s,a,u,h,g),!0;case"mouseover":return kr=bn(kr,s,a,u,h,g),!0;case"pointerover":var w=g.pointerId;return ds.set(w,bn(ds.get(w)||null,s,a,u,h,g)),!0;case"gotpointercapture":return w=g.pointerId,tr.set(w,bn(tr.get(w)||null,s,a,u,h,g)),!0}return!1}function Tc(s){var a=Co(s.target);if(a!==null){var u=Cr(a);if(u!==null){if(a=u.tag,a===13){if(a=ho(u),a!==null){s.blockedOn=a,Cc(s.priority,function(){wc(u)});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Si(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var u=la(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(u===null){u=s.nativeEvent;var h=new u.constructor(u.type,u);Yr=h,u.target.dispatchEvent(h),Yr=null}else return a=Gl(u),a!==null&&aa(a),s.blockedOn=u,!1;a.shift()}return!0}function yo(s,a,u){Si(s)&&u.delete(a)}function kc(){Al=!1,en!==null&&Si(en)&&(en=null),Tr!==null&&Si(Tr)&&(Tr=null),kr!==null&&Si(kr)&&(kr=null),ds.forEach(yo),tr.forEach(yo)}function br(s,a){s.blockedOn===a&&(s.blockedOn=null,Al||(Al=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,kc)))}function Ir(s){function a(g){return br(g,s)}if(0<Qr.length){br(Qr[0],s);for(var u=1;u<Qr.length;u++){var h=Qr[u];h.blockedOn===s&&(h.blockedOn=null)}}for(en!==null&&br(en,s),Tr!==null&&br(Tr,s),kr!==null&&br(kr,s),ds.forEach(a),tr.forEach(a),u=0;u<Xr.length;u++)h=Xr[u],h.blockedOn===s&&(h.blockedOn=null);for(;0<Xr.length&&(u=Xr[0],u.blockedOn===null);)Tc(u),u.blockedOn===null&&Xr.shift()}var Ti=j.ReactCurrentBatchConfig,fs=!0;function wt(s,a,u,h){var g=Xe,w=Ti.transition;Ti.transition=null;try{Xe=1,Ol(s,a,u,h)}finally{Xe=g,Ti.transition=w}}function Dh(s,a,u,h){var g=Xe,w=Ti.transition;Ti.transition=null;try{Xe=4,Ol(s,a,u,h)}finally{Xe=g,Ti.transition=w}}function Ol(s,a,u,h){if(fs){var g=la(s,a,u,h);if(g===null)jh(s,a,h,_o,u),Sc(s,h);else if(Ph(g,s,a,u,h))h.stopPropagation();else if(Sc(s,h),a&4&&-1<Ih.indexOf(s)){for(;g!==null;){var w=Gl(g);if(w!==null&&_c(w),w=la(s,a,u,h),w===null&&jh(s,a,h,_o,u),w===g)break;g=w}g!==null&&h.stopPropagation()}else jh(s,a,h,null,u)}}var _o=null;function la(s,a,u,h){if(_o=null,s=yr(h),s=Co(s),s!==null)if(a=Cr(s),a===null)s=null;else if(u=a.tag,u===13){if(s=ho(a),s!==null)return s;s=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return _o=s,null}function Nl(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(pc()){case po:return 1;case ss:return 4;case er:case Rl:return 16;case mc:return 536870912;default:return 16}default:return 16}}var zn=null,ua=null,In=null;function Vl(){if(In)return In;var s,a=ua,u=a.length,h,g="value"in zn?zn.value:zn.textContent,w=g.length;for(s=0;s<u&&a[s]===g[s];s++);var b=u-s;for(h=1;h<=b&&a[u-h]===g[w-h];h++);return In=g.slice(s,1<h?1-h:void 0)}function ca(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function Zr(){return!0}function Fl(){return!1}function tn(s){function a(u,h,g,w,b){this._reactName=u,this._targetInst=g,this.type=h,this.nativeEvent=w,this.target=b,this.currentTarget=null;for(var O in s)s.hasOwnProperty(O)&&(u=s[O],this[O]=u?u(w):w[O]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Zr:Fl,this.isPropagationStopped=Fl,this}return re(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Zr)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Zr)},persist:function(){},isPersistent:Zr}),a}var Pr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},da=tn(Pr),Jr=re({},Pr,{view:0,detail:0}),xh=tn(Jr),fa,ki,hs,wo=re({},Jr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ei,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==hs&&(hs&&s.type==="mousemove"?(fa=s.screenX-hs.screenX,ki=s.screenY-hs.screenY):ki=fa=0,hs=s),fa)},movementY:function(s){return"movementY"in s?s.movementY:ki}}),ha=tn(wo),Ul=re({},wo,{dataTransfer:0}),bc=tn(Ul),pa=re({},Jr,{relatedTarget:0}),ma=tn(pa),Ic=re({},Pr,{animationName:0,elapsedTime:0,pseudoElement:0}),bi=tn(Ic),Pc=re({},Pr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Dc=tn(Pc),xc=re({},Pr,{data:0}),jl=tn(xc),ga={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rc(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=Lc[s])?!!a[s]:!1}function ei(){return Rc}var f=re({},Jr,{key:function(s){if(s.key){var a=ga[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=ca(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?_n[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ei,charCode:function(s){return s.type==="keypress"?ca(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ca(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),_=tn(f),C=re({},wo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),x=tn(C),Y=re({},Jr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ei}),ee=tn(Y),ge=re({},Pr,{propertyName:0,elapsedTime:0,pseudoElement:0}),ut=tn(ge),Ut=re({},wo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Je=tn(Ut),qt=[9,13,27,32],Ot=c&&"CompositionEvent"in window,nr=null;c&&"documentMode"in document&&(nr=document.documentMode);var Wn=c&&"TextEvent"in window&&!nr,Eo=c&&(!Ot||nr&&8<nr&&11>=nr),va=" ",bv=!1;function Iv(s,a){switch(s){case"keyup":return qt.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pv(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ya=!1;function $k(s,a){switch(s){case"compositionend":return Pv(a);case"keypress":return a.which!==32?null:(bv=!0,va);case"textInput":return s=a.data,s===va&&bv?null:s;default:return null}}function Yk(s,a){if(ya)return s==="compositionend"||!Ot&&Iv(s,a)?(s=Vl(),In=ua=zn=null,ya=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Eo&&a.locale!=="ko"?null:a.data;default:return null}}var qk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dv(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!qk[s.type]:a==="textarea"}function xv(s,a,u,h){Un(h),a=Vc(a,"onChange"),0<a.length&&(u=new da("onChange","change",null,u,h),s.push({event:u,listeners:a}))}var Bl=null,zl=null;function Kk(s){Kv(s,0)}function Mc(s){var a=Sa(s);if($t(a))return s}function Gk(s,a){if(s==="change")return a}var Lv=!1;if(c){var Lh;if(c){var Rh="oninput"in document;if(!Rh){var Rv=document.createElement("div");Rv.setAttribute("oninput","return;"),Rh=typeof Rv.oninput=="function"}Lh=Rh}else Lh=!1;Lv=Lh&&(!document.documentMode||9<document.documentMode)}function Mv(){Bl&&(Bl.detachEvent("onpropertychange",Av),zl=Bl=null)}function Av(s){if(s.propertyName==="value"&&Mc(zl)){var a=[];xv(a,zl,s,yr(s)),uo(Kk,a)}}function Qk(s,a,u){s==="focusin"?(Mv(),Bl=a,zl=u,Bl.attachEvent("onpropertychange",Av)):s==="focusout"&&Mv()}function Xk(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Mc(zl)}function Zk(s,a){if(s==="click")return Mc(a)}function Jk(s,a){if(s==="input"||s==="change")return Mc(a)}function eb(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var Dr=typeof Object.is=="function"?Object.is:eb;function Wl(s,a){if(Dr(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var u=Object.keys(s),h=Object.keys(a);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var g=u[h];if(!d.call(a,g)||!Dr(s[g],a[g]))return!1}return!0}function Ov(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Nv(s,a){var u=Ov(s);s=0;for(var h;u;){if(u.nodeType===3){if(h=s+u.textContent.length,s<=a&&h>=a)return{node:u,offset:a-s};s=h}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Ov(u)}}function Vv(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?Vv(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function Fv(){for(var s=window,a=Yt();a instanceof s.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)s=a.contentWindow;else break;a=Yt(s.document)}return a}function Mh(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function tb(s){var a=Fv(),u=s.focusedElem,h=s.selectionRange;if(a!==u&&u&&u.ownerDocument&&Vv(u.ownerDocument.documentElement,u)){if(h!==null&&Mh(u)){if(a=h.start,s=h.end,s===void 0&&(s=a),"selectionStart"in u)u.selectionStart=a,u.selectionEnd=Math.min(s,u.value.length);else if(s=(a=u.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var g=u.textContent.length,w=Math.min(h.start,g);h=h.end===void 0?w:Math.min(h.end,g),!s.extend&&w>h&&(g=h,h=w,w=g),g=Nv(u,w);var b=Nv(u,h);g&&b&&(s.rangeCount!==1||s.anchorNode!==g.node||s.anchorOffset!==g.offset||s.focusNode!==b.node||s.focusOffset!==b.offset)&&(a=a.createRange(),a.setStart(g.node,g.offset),s.removeAllRanges(),w>h?(s.addRange(a),s.extend(b.node,b.offset)):(a.setEnd(b.node,b.offset),s.addRange(a)))}}for(a=[],s=u;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<a.length;u++)s=a[u],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var nb=c&&"documentMode"in document&&11>=document.documentMode,_a=null,Ah=null,Hl=null,Oh=!1;function Uv(s,a,u){var h=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Oh||_a==null||_a!==Yt(h)||(h=_a,"selectionStart"in h&&Mh(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Hl&&Wl(Hl,h)||(Hl=h,h=Vc(Ah,"onSelect"),0<h.length&&(a=new da("onSelect","select",null,a,u),s.push({event:a,listeners:h}),a.target=_a)))}function Ac(s,a){var u={};return u[s.toLowerCase()]=a.toLowerCase(),u["Webkit"+s]="webkit"+a,u["Moz"+s]="moz"+a,u}var wa={animationend:Ac("Animation","AnimationEnd"),animationiteration:Ac("Animation","AnimationIteration"),animationstart:Ac("Animation","AnimationStart"),transitionend:Ac("Transition","TransitionEnd")},Nh={},jv={};c&&(jv=document.createElement("div").style,"AnimationEvent"in window||(delete wa.animationend.animation,delete wa.animationiteration.animation,delete wa.animationstart.animation),"TransitionEvent"in window||delete wa.transitionend.transition);function Oc(s){if(Nh[s])return Nh[s];if(!wa[s])return s;var a=wa[s],u;for(u in a)if(a.hasOwnProperty(u)&&u in jv)return Nh[s]=a[u];return s}var Bv=Oc("animationend"),zv=Oc("animationiteration"),Wv=Oc("animationstart"),Hv=Oc("transitionend"),$v=new Map,Yv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ps(s,a){$v.set(s,a),o(a,[s])}for(var Vh=0;Vh<Yv.length;Vh++){var Fh=Yv[Vh],rb=Fh.toLowerCase(),ib=Fh[0].toUpperCase()+Fh.slice(1);ps(rb,"on"+ib)}ps(Bv,"onAnimationEnd"),ps(zv,"onAnimationIteration"),ps(Wv,"onAnimationStart"),ps("dblclick","onDoubleClick"),ps("focusin","onFocus"),ps("focusout","onBlur"),ps(Hv,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sb=new Set("cancel close invalid load scroll toggle".split(" ").concat($l));function qv(s,a,u){var h=s.type||"unknown-event";s.currentTarget=u,dc(h,a,void 0,s),s.currentTarget=null}function Kv(s,a){a=(a&4)!==0;for(var u=0;u<s.length;u++){var h=s[u],g=h.event;h=h.listeners;e:{var w=void 0;if(a)for(var b=h.length-1;0<=b;b--){var O=h[b],B=O.instance,Z=O.currentTarget;if(O=O.listener,B!==w&&g.isPropagationStopped())break e;qv(g,O,Z),w=B}else for(b=0;b<h.length;b++){if(O=h[b],B=O.instance,Z=O.currentTarget,O=O.listener,B!==w&&g.isPropagationStopped())break e;qv(g,O,Z),w=B}}}if(Er)throw s=Dl,Er=!1,Dl=null,s}function gt(s,a){var u=a[Yh];u===void 0&&(u=a[Yh]=new Set);var h=s+"__bubble";u.has(h)||(Gv(a,s,2,!1),u.add(h))}function Uh(s,a,u){var h=0;a&&(h|=4),Gv(u,s,h,a)}var Nc="_reactListening"+Math.random().toString(36).slice(2);function Yl(s){if(!s[Nc]){s[Nc]=!0,n.forEach(function(u){u!=="selectionchange"&&(sb.has(u)||Uh(u,!1,s),Uh(u,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Nc]||(a[Nc]=!0,Uh("selectionchange",!1,a))}}function Gv(s,a,u,h){switch(Nl(a)){case 1:var g=wt;break;case 4:g=Dh;break;default:g=Ol}u=g.bind(null,a,u,s),g=void 0,!Oe||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),h?g!==void 0?s.addEventListener(a,u,{capture:!0,passive:g}):s.addEventListener(a,u,!0):g!==void 0?s.addEventListener(a,u,{passive:g}):s.addEventListener(a,u,!1)}function jh(s,a,u,h,g){var w=h;if(!(a&1)&&!(a&2)&&h!==null)e:for(;;){if(h===null)return;var b=h.tag;if(b===3||b===4){var O=h.stateNode.containerInfo;if(O===g||O.nodeType===8&&O.parentNode===g)break;if(b===4)for(b=h.return;b!==null;){var B=b.tag;if((B===3||B===4)&&(B=b.stateNode.containerInfo,B===g||B.nodeType===8&&B.parentNode===g))return;b=b.return}for(;O!==null;){if(b=Co(O),b===null)return;if(B=b.tag,B===5||B===6){h=w=b;continue e}O=O.parentNode}}h=h.return}uo(function(){var Z=w,ue=yr(u),de=[];e:{var le=$v.get(s);if(le!==void 0){var _e=da,be=s;switch(s){case"keypress":if(ca(u)===0)break e;case"keydown":case"keyup":_e=_;break;case"focusin":be="focus",_e=ma;break;case"focusout":be="blur",_e=ma;break;case"beforeblur":case"afterblur":_e=ma;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_e=ha;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_e=bc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_e=ee;break;case Bv:case zv:case Wv:_e=bi;break;case Hv:_e=ut;break;case"scroll":_e=xh;break;case"wheel":_e=Je;break;case"copy":case"cut":case"paste":_e=Dc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_e=x}var Ie=(a&4)!==0,xt=!Ie&&s==="scroll",q=Ie?le!==null?le+"Capture":null:le;Ie=[];for(var W=Z,K;W!==null;){K=W;var pe=K.stateNode;if(K.tag===5&&pe!==null&&(K=pe,q!==null&&(pe=ft(W,q),pe!=null&&Ie.push(ql(W,pe,K)))),xt)break;W=W.return}0<Ie.length&&(le=new _e(le,be,null,u,ue),de.push({event:le,listeners:Ie}))}}if(!(a&7)){e:{if(le=s==="mouseover"||s==="pointerover",_e=s==="mouseout"||s==="pointerout",le&&u!==Yr&&(be=u.relatedTarget||u.fromElement)&&(Co(be)||be[Ii]))break e;if((_e||le)&&(le=ue.window===ue?ue:(le=ue.ownerDocument)?le.defaultView||le.parentWindow:window,_e?(be=u.relatedTarget||u.toElement,_e=Z,be=be?Co(be):null,be!==null&&(xt=Cr(be),be!==xt||be.tag!==5&&be.tag!==6)&&(be=null)):(_e=null,be=Z),_e!==be)){if(Ie=ha,pe="onMouseLeave",q="onMouseEnter",W="mouse",(s==="pointerout"||s==="pointerover")&&(Ie=x,pe="onPointerLeave",q="onPointerEnter",W="pointer"),xt=_e==null?le:Sa(_e),K=be==null?le:Sa(be),le=new Ie(pe,W+"leave",_e,u,ue),le.target=xt,le.relatedTarget=K,pe=null,Co(ue)===Z&&(Ie=new Ie(q,W+"enter",be,u,ue),Ie.target=K,Ie.relatedTarget=xt,pe=Ie),xt=pe,_e&&be)t:{for(Ie=_e,q=be,W=0,K=Ie;K;K=Ea(K))W++;for(K=0,pe=q;pe;pe=Ea(pe))K++;for(;0<W-K;)Ie=Ea(Ie),W--;for(;0<K-W;)q=Ea(q),K--;for(;W--;){if(Ie===q||q!==null&&Ie===q.alternate)break t;Ie=Ea(Ie),q=Ea(q)}Ie=null}else Ie=null;_e!==null&&Qv(de,le,_e,Ie,!1),be!==null&&xt!==null&&Qv(de,xt,be,Ie,!0)}}e:{if(le=Z?Sa(Z):window,_e=le.nodeName&&le.nodeName.toLowerCase(),_e==="select"||_e==="input"&&le.type==="file")var Pe=Gk;else if(Dv(le))if(Lv)Pe=Jk;else{Pe=Xk;var Me=Qk}else(_e=le.nodeName)&&_e.toLowerCase()==="input"&&(le.type==="checkbox"||le.type==="radio")&&(Pe=Zk);if(Pe&&(Pe=Pe(s,Z))){xv(de,Pe,u,ue);break e}Me&&Me(s,le,Z),s==="focusout"&&(Me=le._wrapperState)&&Me.controlled&&le.type==="number"&&mr(le,"number",le.value)}switch(Me=Z?Sa(Z):window,s){case"focusin":(Dv(Me)||Me.contentEditable==="true")&&(_a=Me,Ah=Z,Hl=null);break;case"focusout":Hl=Ah=_a=null;break;case"mousedown":Oh=!0;break;case"contextmenu":case"mouseup":case"dragend":Oh=!1,Uv(de,u,ue);break;case"selectionchange":if(nb)break;case"keydown":case"keyup":Uv(de,u,ue)}var Ae;if(Ot)e:{switch(s){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else ya?Iv(s,u)&&(Fe="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(Fe="onCompositionStart");Fe&&(Eo&&u.locale!=="ko"&&(ya||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&ya&&(Ae=Vl()):(zn=ue,ua="value"in zn?zn.value:zn.textContent,ya=!0)),Me=Vc(Z,Fe),0<Me.length&&(Fe=new jl(Fe,s,null,u,ue),de.push({event:Fe,listeners:Me}),Ae?Fe.data=Ae:(Ae=Pv(u),Ae!==null&&(Fe.data=Ae)))),(Ae=Wn?$k(s,u):Yk(s,u))&&(Z=Vc(Z,"onBeforeInput"),0<Z.length&&(ue=new jl("onBeforeInput","beforeinput",null,u,ue),de.push({event:ue,listeners:Z}),ue.data=Ae))}Kv(de,a)})}function ql(s,a,u){return{instance:s,listener:a,currentTarget:u}}function Vc(s,a){for(var u=a+"Capture",h=[];s!==null;){var g=s,w=g.stateNode;g.tag===5&&w!==null&&(g=w,w=ft(s,u),w!=null&&h.unshift(ql(s,w,g)),w=ft(s,a),w!=null&&h.push(ql(s,w,g))),s=s.return}return h}function Ea(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Qv(s,a,u,h,g){for(var w=a._reactName,b=[];u!==null&&u!==h;){var O=u,B=O.alternate,Z=O.stateNode;if(B!==null&&B===h)break;O.tag===5&&Z!==null&&(O=Z,g?(B=ft(u,w),B!=null&&b.unshift(ql(u,B,O))):g||(B=ft(u,w),B!=null&&b.push(ql(u,B,O)))),u=u.return}b.length!==0&&s.push({event:a,listeners:b})}var ob=/\r\n?/g,ab=/\u0000|\uFFFD/g;function Xv(s){return(typeof s=="string"?s:""+s).replace(ob,`
`).replace(ab,"")}function Fc(s,a,u){if(a=Xv(a),Xv(s)!==a&&u)throw Error(t(425))}function Uc(){}var Bh=null,zh=null;function Wh(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Hh=typeof setTimeout=="function"?setTimeout:void 0,lb=typeof clearTimeout=="function"?clearTimeout:void 0,Zv=typeof Promise=="function"?Promise:void 0,ub=typeof queueMicrotask=="function"?queueMicrotask:typeof Zv<"u"?function(s){return Zv.resolve(null).then(s).catch(cb)}:Hh;function cb(s){setTimeout(function(){throw s})}function $h(s,a){var u=a,h=0;do{var g=u.nextSibling;if(s.removeChild(u),g&&g.nodeType===8)if(u=g.data,u==="/$"){if(h===0){s.removeChild(g),Ir(a);return}h--}else u!=="$"&&u!=="$?"&&u!=="$!"||h++;u=g}while(u);Ir(a)}function ms(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function Jv(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(a===0)return s;a--}else u==="/$"&&a++}s=s.previousSibling}return null}var Ca=Math.random().toString(36).slice(2),ti="__reactFiber$"+Ca,Kl="__reactProps$"+Ca,Ii="__reactContainer$"+Ca,Yh="__reactEvents$"+Ca,db="__reactListeners$"+Ca,fb="__reactHandles$"+Ca;function Co(s){var a=s[ti];if(a)return a;for(var u=s.parentNode;u;){if(a=u[Ii]||u[ti]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(s=Jv(s);s!==null;){if(u=s[ti])return u;s=Jv(s)}return a}s=u,u=s.parentNode}return null}function Gl(s){return s=s[ti]||s[Ii],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Sa(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function jc(s){return s[Kl]||null}var qh=[],Ta=-1;function gs(s){return{current:s}}function vt(s){0>Ta||(s.current=qh[Ta],qh[Ta]=null,Ta--)}function mt(s,a){Ta++,qh[Ta]=s.current,s.current=a}var vs={},un=gs(vs),Pn=gs(!1),So=vs;function ka(s,a){var u=s.type.contextTypes;if(!u)return vs;var h=s.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===a)return h.__reactInternalMemoizedMaskedChildContext;var g={},w;for(w in u)g[w]=a[w];return h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=g),g}function Dn(s){return s=s.childContextTypes,s!=null}function Bc(){vt(Pn),vt(un)}function ey(s,a,u){if(un.current!==vs)throw Error(t(168));mt(un,a),mt(Pn,u)}function ty(s,a,u){var h=s.stateNode;if(a=a.childContextTypes,typeof h.getChildContext!="function")return u;h=h.getChildContext();for(var g in h)if(!(g in a))throw Error(t(108,Le(s)||"Unknown",g));return re({},u,h)}function zc(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||vs,So=un.current,mt(un,s),mt(Pn,Pn.current),!0}function ny(s,a,u){var h=s.stateNode;if(!h)throw Error(t(169));u?(s=ty(s,a,So),h.__reactInternalMemoizedMergedChildContext=s,vt(Pn),vt(un),mt(un,s)):vt(Pn),mt(Pn,u)}var Pi=null,Wc=!1,Kh=!1;function ry(s){Pi===null?Pi=[s]:Pi.push(s)}function hb(s){Wc=!0,ry(s)}function ys(){if(!Kh&&Pi!==null){Kh=!0;var s=0,a=Xe;try{var u=Pi;for(Xe=1;s<u.length;s++){var h=u[s];do h=h(!0);while(h!==null)}Pi=null,Wc=!1}catch(g){throw Pi!==null&&(Pi=Pi.slice(s+1)),ia(po,ys),g}finally{Xe=a,Kh=!1}}return null}var ba=[],Ia=0,Hc=null,$c=0,rr=[],ir=0,To=null,Di=1,xi="";function ko(s,a){ba[Ia++]=$c,ba[Ia++]=Hc,Hc=s,$c=a}function iy(s,a,u){rr[ir++]=Di,rr[ir++]=xi,rr[ir++]=To,To=s;var h=Di;s=xi;var g=32-yn(h)-1;h&=~(1<<g),u+=1;var w=32-yn(a)+g;if(30<w){var b=g-g%5;w=(h&(1<<b)-1).toString(32),h>>=b,g-=b,Di=1<<32-yn(a)+g|u<<g|h,xi=w+s}else Di=1<<w|u<<g|h,xi=s}function Gh(s){s.return!==null&&(ko(s,1),iy(s,1,0))}function Qh(s){for(;s===Hc;)Hc=ba[--Ia],ba[Ia]=null,$c=ba[--Ia],ba[Ia]=null;for(;s===To;)To=rr[--ir],rr[ir]=null,xi=rr[--ir],rr[ir]=null,Di=rr[--ir],rr[ir]=null}var Hn=null,$n=null,Et=!1,xr=null;function sy(s,a){var u=lr(5,null,null,0);u.elementType="DELETED",u.stateNode=a,u.return=s,a=s.deletions,a===null?(s.deletions=[u],s.flags|=16):a.push(u)}function oy(s,a){switch(s.tag){case 5:var u=s.type;return a=a.nodeType!==1||u.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,Hn=s,$n=ms(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,Hn=s,$n=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(u=To!==null?{id:Di,overflow:xi}:null,s.memoizedState={dehydrated:a,treeContext:u,retryLane:1073741824},u=lr(18,null,null,0),u.stateNode=a,u.return=s,s.child=u,Hn=s,$n=null,!0):!1;default:return!1}}function Xh(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Zh(s){if(Et){var a=$n;if(a){var u=a;if(!oy(s,a)){if(Xh(s))throw Error(t(418));a=ms(u.nextSibling);var h=Hn;a&&oy(s,a)?sy(h,u):(s.flags=s.flags&-4097|2,Et=!1,Hn=s)}}else{if(Xh(s))throw Error(t(418));s.flags=s.flags&-4097|2,Et=!1,Hn=s}}}function ay(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Hn=s}function Yc(s){if(s!==Hn)return!1;if(!Et)return ay(s),Et=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!Wh(s.type,s.memoizedProps)),a&&(a=$n)){if(Xh(s))throw ly(),Error(t(418));for(;a;)sy(s,a),a=ms(a.nextSibling)}if(ay(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"){if(a===0){$n=ms(s.nextSibling);break e}a--}else u!=="$"&&u!=="$!"&&u!=="$?"||a++}s=s.nextSibling}$n=null}}else $n=Hn?ms(s.stateNode.nextSibling):null;return!0}function ly(){for(var s=$n;s;)s=ms(s.nextSibling)}function Pa(){$n=Hn=null,Et=!1}function Jh(s){xr===null?xr=[s]:xr.push(s)}var pb=j.ReactCurrentBatchConfig;function Ql(s,a,u){if(s=u.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(t(309));var h=u.stateNode}if(!h)throw Error(t(147,s));var g=h,w=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===w?a.ref:(a=function(b){var O=g.refs;b===null?delete O[w]:O[w]=b},a._stringRef=w,a)}if(typeof s!="string")throw Error(t(284));if(!u._owner)throw Error(t(290,s))}return s}function qc(s,a){throw s=Object.prototype.toString.call(a),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function uy(s){var a=s._init;return a(s._payload)}function cy(s){function a(q,W){if(s){var K=q.deletions;K===null?(q.deletions=[W],q.flags|=16):K.push(W)}}function u(q,W){if(!s)return null;for(;W!==null;)a(q,W),W=W.sibling;return null}function h(q,W){for(q=new Map;W!==null;)W.key!==null?q.set(W.key,W):q.set(W.index,W),W=W.sibling;return q}function g(q,W){return q=bs(q,W),q.index=0,q.sibling=null,q}function w(q,W,K){return q.index=K,s?(K=q.alternate,K!==null?(K=K.index,K<W?(q.flags|=2,W):K):(q.flags|=2,W)):(q.flags|=1048576,W)}function b(q){return s&&q.alternate===null&&(q.flags|=2),q}function O(q,W,K,pe){return W===null||W.tag!==6?(W=Hp(K,q.mode,pe),W.return=q,W):(W=g(W,K),W.return=q,W)}function B(q,W,K,pe){var Pe=K.type;return Pe===D?ue(q,W,K.props.children,pe,K.key):W!==null&&(W.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===ce&&uy(Pe)===W.type)?(pe=g(W,K.props),pe.ref=Ql(q,W,K),pe.return=q,pe):(pe=vd(K.type,K.key,K.props,null,q.mode,pe),pe.ref=Ql(q,W,K),pe.return=q,pe)}function Z(q,W,K,pe){return W===null||W.tag!==4||W.stateNode.containerInfo!==K.containerInfo||W.stateNode.implementation!==K.implementation?(W=$p(K,q.mode,pe),W.return=q,W):(W=g(W,K.children||[]),W.return=q,W)}function ue(q,W,K,pe,Pe){return W===null||W.tag!==7?(W=Mo(K,q.mode,pe,Pe),W.return=q,W):(W=g(W,K),W.return=q,W)}function de(q,W,K){if(typeof W=="string"&&W!==""||typeof W=="number")return W=Hp(""+W,q.mode,K),W.return=q,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case z:return K=vd(W.type,W.key,W.props,null,q.mode,K),K.ref=Ql(q,null,W),K.return=q,K;case $:return W=$p(W,q.mode,K),W.return=q,W;case ce:var pe=W._init;return de(q,pe(W._payload),K)}if(Qn(W)||ae(W))return W=Mo(W,q.mode,K,null),W.return=q,W;qc(q,W)}return null}function le(q,W,K,pe){var Pe=W!==null?W.key:null;if(typeof K=="string"&&K!==""||typeof K=="number")return Pe!==null?null:O(q,W,""+K,pe);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case z:return K.key===Pe?B(q,W,K,pe):null;case $:return K.key===Pe?Z(q,W,K,pe):null;case ce:return Pe=K._init,le(q,W,Pe(K._payload),pe)}if(Qn(K)||ae(K))return Pe!==null?null:ue(q,W,K,pe,null);qc(q,K)}return null}function _e(q,W,K,pe,Pe){if(typeof pe=="string"&&pe!==""||typeof pe=="number")return q=q.get(K)||null,O(W,q,""+pe,Pe);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case z:return q=q.get(pe.key===null?K:pe.key)||null,B(W,q,pe,Pe);case $:return q=q.get(pe.key===null?K:pe.key)||null,Z(W,q,pe,Pe);case ce:var Me=pe._init;return _e(q,W,K,Me(pe._payload),Pe)}if(Qn(pe)||ae(pe))return q=q.get(K)||null,ue(W,q,pe,Pe,null);qc(W,pe)}return null}function be(q,W,K,pe){for(var Pe=null,Me=null,Ae=W,Fe=W=0,Qt=null;Ae!==null&&Fe<K.length;Fe++){Ae.index>Fe?(Qt=Ae,Ae=null):Qt=Ae.sibling;var it=le(q,Ae,K[Fe],pe);if(it===null){Ae===null&&(Ae=Qt);break}s&&Ae&&it.alternate===null&&a(q,Ae),W=w(it,W,Fe),Me===null?Pe=it:Me.sibling=it,Me=it,Ae=Qt}if(Fe===K.length)return u(q,Ae),Et&&ko(q,Fe),Pe;if(Ae===null){for(;Fe<K.length;Fe++)Ae=de(q,K[Fe],pe),Ae!==null&&(W=w(Ae,W,Fe),Me===null?Pe=Ae:Me.sibling=Ae,Me=Ae);return Et&&ko(q,Fe),Pe}for(Ae=h(q,Ae);Fe<K.length;Fe++)Qt=_e(Ae,q,Fe,K[Fe],pe),Qt!==null&&(s&&Qt.alternate!==null&&Ae.delete(Qt.key===null?Fe:Qt.key),W=w(Qt,W,Fe),Me===null?Pe=Qt:Me.sibling=Qt,Me=Qt);return s&&Ae.forEach(function(Is){return a(q,Is)}),Et&&ko(q,Fe),Pe}function Ie(q,W,K,pe){var Pe=ae(K);if(typeof Pe!="function")throw Error(t(150));if(K=Pe.call(K),K==null)throw Error(t(151));for(var Me=Pe=null,Ae=W,Fe=W=0,Qt=null,it=K.next();Ae!==null&&!it.done;Fe++,it=K.next()){Ae.index>Fe?(Qt=Ae,Ae=null):Qt=Ae.sibling;var Is=le(q,Ae,it.value,pe);if(Is===null){Ae===null&&(Ae=Qt);break}s&&Ae&&Is.alternate===null&&a(q,Ae),W=w(Is,W,Fe),Me===null?Pe=Is:Me.sibling=Is,Me=Is,Ae=Qt}if(it.done)return u(q,Ae),Et&&ko(q,Fe),Pe;if(Ae===null){for(;!it.done;Fe++,it=K.next())it=de(q,it.value,pe),it!==null&&(W=w(it,W,Fe),Me===null?Pe=it:Me.sibling=it,Me=it);return Et&&ko(q,Fe),Pe}for(Ae=h(q,Ae);!it.done;Fe++,it=K.next())it=_e(Ae,q,Fe,it.value,pe),it!==null&&(s&&it.alternate!==null&&Ae.delete(it.key===null?Fe:it.key),W=w(it,W,Fe),Me===null?Pe=it:Me.sibling=it,Me=it);return s&&Ae.forEach(function(qb){return a(q,qb)}),Et&&ko(q,Fe),Pe}function xt(q,W,K,pe){if(typeof K=="object"&&K!==null&&K.type===D&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case z:e:{for(var Pe=K.key,Me=W;Me!==null;){if(Me.key===Pe){if(Pe=K.type,Pe===D){if(Me.tag===7){u(q,Me.sibling),W=g(Me,K.props.children),W.return=q,q=W;break e}}else if(Me.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===ce&&uy(Pe)===Me.type){u(q,Me.sibling),W=g(Me,K.props),W.ref=Ql(q,Me,K),W.return=q,q=W;break e}u(q,Me);break}else a(q,Me);Me=Me.sibling}K.type===D?(W=Mo(K.props.children,q.mode,pe,K.key),W.return=q,q=W):(pe=vd(K.type,K.key,K.props,null,q.mode,pe),pe.ref=Ql(q,W,K),pe.return=q,q=pe)}return b(q);case $:e:{for(Me=K.key;W!==null;){if(W.key===Me)if(W.tag===4&&W.stateNode.containerInfo===K.containerInfo&&W.stateNode.implementation===K.implementation){u(q,W.sibling),W=g(W,K.children||[]),W.return=q,q=W;break e}else{u(q,W);break}else a(q,W);W=W.sibling}W=$p(K,q.mode,pe),W.return=q,q=W}return b(q);case ce:return Me=K._init,xt(q,W,Me(K._payload),pe)}if(Qn(K))return be(q,W,K,pe);if(ae(K))return Ie(q,W,K,pe);qc(q,K)}return typeof K=="string"&&K!==""||typeof K=="number"?(K=""+K,W!==null&&W.tag===6?(u(q,W.sibling),W=g(W,K),W.return=q,q=W):(u(q,W),W=Hp(K,q.mode,pe),W.return=q,q=W),b(q)):u(q,W)}return xt}var Da=cy(!0),dy=cy(!1),Kc=gs(null),Gc=null,xa=null,ep=null;function tp(){ep=xa=Gc=null}function np(s){var a=Kc.current;vt(Kc),s._currentValue=a}function rp(s,a,u){for(;s!==null;){var h=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,h!==null&&(h.childLanes|=a)):h!==null&&(h.childLanes&a)!==a&&(h.childLanes|=a),s===u)break;s=s.return}}function La(s,a){Gc=s,ep=xa=null,s=s.dependencies,s!==null&&s.firstContext!==null&&(s.lanes&a&&(xn=!0),s.firstContext=null)}function sr(s){var a=s._currentValue;if(ep!==s)if(s={context:s,memoizedValue:a,next:null},xa===null){if(Gc===null)throw Error(t(308));xa=s,Gc.dependencies={lanes:0,firstContext:s}}else xa=xa.next=s;return a}var bo=null;function ip(s){bo===null?bo=[s]:bo.push(s)}function fy(s,a,u,h){var g=a.interleaved;return g===null?(u.next=u,ip(a)):(u.next=g.next,g.next=u),a.interleaved=u,Li(s,h)}function Li(s,a){s.lanes|=a;var u=s.alternate;for(u!==null&&(u.lanes|=a),u=s,s=s.return;s!==null;)s.childLanes|=a,u=s.alternate,u!==null&&(u.childLanes|=a),u=s,s=s.return;return u.tag===3?u.stateNode:null}var _s=!1;function sp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hy(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Ri(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function ws(s,a,u){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,tt&2){var g=h.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),h.pending=a,Li(s,u)}return g=h.interleaved,g===null?(a.next=a,ip(h)):(a.next=g.next,g.next=a),h.interleaved=a,Li(s,u)}function Qc(s,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194240)!==0)){var h=a.lanes;h&=s.pendingLanes,u|=h,a.lanes=u,us(s,u)}}function py(s,a){var u=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var g=null,w=null;if(u=u.firstBaseUpdate,u!==null){do{var b={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};w===null?g=w=b:w=w.next=b,u=u.next}while(u!==null);w===null?g=w=a:w=w.next=a}else g=w=a;u={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:w,shared:h.shared,effects:h.effects},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=a:s.next=a,u.lastBaseUpdate=a}function Xc(s,a,u,h){var g=s.updateQueue;_s=!1;var w=g.firstBaseUpdate,b=g.lastBaseUpdate,O=g.shared.pending;if(O!==null){g.shared.pending=null;var B=O,Z=B.next;B.next=null,b===null?w=Z:b.next=Z,b=B;var ue=s.alternate;ue!==null&&(ue=ue.updateQueue,O=ue.lastBaseUpdate,O!==b&&(O===null?ue.firstBaseUpdate=Z:O.next=Z,ue.lastBaseUpdate=B))}if(w!==null){var de=g.baseState;b=0,ue=Z=B=null,O=w;do{var le=O.lane,_e=O.eventTime;if((h&le)===le){ue!==null&&(ue=ue.next={eventTime:_e,lane:0,tag:O.tag,payload:O.payload,callback:O.callback,next:null});e:{var be=s,Ie=O;switch(le=a,_e=u,Ie.tag){case 1:if(be=Ie.payload,typeof be=="function"){de=be.call(_e,de,le);break e}de=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=Ie.payload,le=typeof be=="function"?be.call(_e,de,le):be,le==null)break e;de=re({},de,le);break e;case 2:_s=!0}}O.callback!==null&&O.lane!==0&&(s.flags|=64,le=g.effects,le===null?g.effects=[O]:le.push(O))}else _e={eventTime:_e,lane:le,tag:O.tag,payload:O.payload,callback:O.callback,next:null},ue===null?(Z=ue=_e,B=de):ue=ue.next=_e,b|=le;if(O=O.next,O===null){if(O=g.shared.pending,O===null)break;le=O,O=le.next,le.next=null,g.lastBaseUpdate=le,g.shared.pending=null}}while(!0);if(ue===null&&(B=de),g.baseState=B,g.firstBaseUpdate=Z,g.lastBaseUpdate=ue,a=g.shared.interleaved,a!==null){g=a;do b|=g.lane,g=g.next;while(g!==a)}else w===null&&(g.shared.lanes=0);Do|=b,s.lanes=b,s.memoizedState=de}}function my(s,a,u){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var h=s[a],g=h.callback;if(g!==null){if(h.callback=null,h=u,typeof g!="function")throw Error(t(191,g));g.call(h)}}}var Xl={},ni=gs(Xl),Zl=gs(Xl),Jl=gs(Xl);function Io(s){if(s===Xl)throw Error(t(174));return s}function op(s,a){switch(mt(Jl,a),mt(Zl,s),mt(ni,Xl),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:_t(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=_t(a,s)}vt(ni),mt(ni,a)}function Ra(){vt(ni),vt(Zl),vt(Jl)}function gy(s){Io(Jl.current);var a=Io(ni.current),u=_t(a,s.type);a!==u&&(mt(Zl,s),mt(ni,u))}function ap(s){Zl.current===s&&(vt(ni),vt(Zl))}var St=gs(0);function Zc(s){for(var a=s;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if(a.flags&128)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var lp=[];function up(){for(var s=0;s<lp.length;s++)lp[s]._workInProgressVersionPrimary=null;lp.length=0}var Jc=j.ReactCurrentDispatcher,cp=j.ReactCurrentBatchConfig,Po=0,Tt=null,jt=null,Kt=null,ed=!1,eu=!1,tu=0,mb=0;function cn(){throw Error(t(321))}function dp(s,a){if(a===null)return!1;for(var u=0;u<a.length&&u<s.length;u++)if(!Dr(s[u],a[u]))return!1;return!0}function fp(s,a,u,h,g,w){if(Po=w,Tt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Jc.current=s===null||s.memoizedState===null?_b:wb,s=u(h,g),eu){w=0;do{if(eu=!1,tu=0,25<=w)throw Error(t(301));w+=1,Kt=jt=null,a.updateQueue=null,Jc.current=Eb,s=u(h,g)}while(eu)}if(Jc.current=rd,a=jt!==null&&jt.next!==null,Po=0,Kt=jt=Tt=null,ed=!1,a)throw Error(t(300));return s}function hp(){var s=tu!==0;return tu=0,s}function ri(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kt===null?Tt.memoizedState=Kt=s:Kt=Kt.next=s,Kt}function or(){if(jt===null){var s=Tt.alternate;s=s!==null?s.memoizedState:null}else s=jt.next;var a=Kt===null?Tt.memoizedState:Kt.next;if(a!==null)Kt=a,jt=s;else{if(s===null)throw Error(t(310));jt=s,s={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},Kt===null?Tt.memoizedState=Kt=s:Kt=Kt.next=s}return Kt}function nu(s,a){return typeof a=="function"?a(s):a}function pp(s){var a=or(),u=a.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=s;var h=jt,g=h.baseQueue,w=u.pending;if(w!==null){if(g!==null){var b=g.next;g.next=w.next,w.next=b}h.baseQueue=g=w,u.pending=null}if(g!==null){w=g.next,h=h.baseState;var O=b=null,B=null,Z=w;do{var ue=Z.lane;if((Po&ue)===ue)B!==null&&(B=B.next={lane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),h=Z.hasEagerState?Z.eagerState:s(h,Z.action);else{var de={lane:ue,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null};B===null?(O=B=de,b=h):B=B.next=de,Tt.lanes|=ue,Do|=ue}Z=Z.next}while(Z!==null&&Z!==w);B===null?b=h:B.next=O,Dr(h,a.memoizedState)||(xn=!0),a.memoizedState=h,a.baseState=b,a.baseQueue=B,u.lastRenderedState=h}if(s=u.interleaved,s!==null){g=s;do w=g.lane,Tt.lanes|=w,Do|=w,g=g.next;while(g!==s)}else g===null&&(u.lanes=0);return[a.memoizedState,u.dispatch]}function mp(s){var a=or(),u=a.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=s;var h=u.dispatch,g=u.pending,w=a.memoizedState;if(g!==null){u.pending=null;var b=g=g.next;do w=s(w,b.action),b=b.next;while(b!==g);Dr(w,a.memoizedState)||(xn=!0),a.memoizedState=w,a.baseQueue===null&&(a.baseState=w),u.lastRenderedState=w}return[w,h]}function vy(){}function yy(s,a){var u=Tt,h=or(),g=a(),w=!Dr(h.memoizedState,g);if(w&&(h.memoizedState=g,xn=!0),h=h.queue,gp(Ey.bind(null,u,h,s),[s]),h.getSnapshot!==a||w||Kt!==null&&Kt.memoizedState.tag&1){if(u.flags|=2048,ru(9,wy.bind(null,u,h,g,a),void 0,null),Gt===null)throw Error(t(349));Po&30||_y(u,a,g)}return g}function _y(s,a,u){s.flags|=16384,s={getSnapshot:a,value:u},a=Tt.updateQueue,a===null?(a={lastEffect:null,stores:null},Tt.updateQueue=a,a.stores=[s]):(u=a.stores,u===null?a.stores=[s]:u.push(s))}function wy(s,a,u,h){a.value=u,a.getSnapshot=h,Cy(a)&&Sy(s)}function Ey(s,a,u){return u(function(){Cy(a)&&Sy(s)})}function Cy(s){var a=s.getSnapshot;s=s.value;try{var u=a();return!Dr(s,u)}catch{return!0}}function Sy(s){var a=Li(s,1);a!==null&&Ar(a,s,1,-1)}function Ty(s){var a=ri();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:nu,lastRenderedState:s},a.queue=s,s=s.dispatch=yb.bind(null,Tt,s),[a.memoizedState,s]}function ru(s,a,u,h){return s={tag:s,create:a,destroy:u,deps:h,next:null},a=Tt.updateQueue,a===null?(a={lastEffect:null,stores:null},Tt.updateQueue=a,a.lastEffect=s.next=s):(u=a.lastEffect,u===null?a.lastEffect=s.next=s:(h=u.next,u.next=s,s.next=h,a.lastEffect=s)),s}function ky(){return or().memoizedState}function td(s,a,u,h){var g=ri();Tt.flags|=s,g.memoizedState=ru(1|a,u,void 0,h===void 0?null:h)}function nd(s,a,u,h){var g=or();h=h===void 0?null:h;var w=void 0;if(jt!==null){var b=jt.memoizedState;if(w=b.destroy,h!==null&&dp(h,b.deps)){g.memoizedState=ru(a,u,w,h);return}}Tt.flags|=s,g.memoizedState=ru(1|a,u,w,h)}function by(s,a){return td(8390656,8,s,a)}function gp(s,a){return nd(2048,8,s,a)}function Iy(s,a){return nd(4,2,s,a)}function Py(s,a){return nd(4,4,s,a)}function Dy(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function xy(s,a,u){return u=u!=null?u.concat([s]):null,nd(4,4,Dy.bind(null,a,s),u)}function vp(){}function Ly(s,a){var u=or();a=a===void 0?null:a;var h=u.memoizedState;return h!==null&&a!==null&&dp(a,h[1])?h[0]:(u.memoizedState=[s,a],s)}function Ry(s,a){var u=or();a=a===void 0?null:a;var h=u.memoizedState;return h!==null&&a!==null&&dp(a,h[1])?h[0]:(s=s(),u.memoizedState=[s,a],s)}function My(s,a,u){return Po&21?(Dr(u,a)||(u=vo(),Tt.lanes|=u,Do|=u,s.baseState=!0),a):(s.baseState&&(s.baseState=!1,xn=!0),s.memoizedState=u)}function gb(s,a){var u=Xe;Xe=u!==0&&4>u?u:4,s(!0);var h=cp.transition;cp.transition={};try{s(!1),a()}finally{Xe=u,cp.transition=h}}function Ay(){return or().memoizedState}function vb(s,a,u){var h=Ts(s);if(u={lane:h,action:u,hasEagerState:!1,eagerState:null,next:null},Oy(s))Ny(a,u);else if(u=fy(s,a,u,h),u!==null){var g=En();Ar(u,s,h,g),Vy(u,a,h)}}function yb(s,a,u){var h=Ts(s),g={lane:h,action:u,hasEagerState:!1,eagerState:null,next:null};if(Oy(s))Ny(a,g);else{var w=s.alternate;if(s.lanes===0&&(w===null||w.lanes===0)&&(w=a.lastRenderedReducer,w!==null))try{var b=a.lastRenderedState,O=w(b,u);if(g.hasEagerState=!0,g.eagerState=O,Dr(O,b)){var B=a.interleaved;B===null?(g.next=g,ip(a)):(g.next=B.next,B.next=g),a.interleaved=g;return}}catch{}finally{}u=fy(s,a,g,h),u!==null&&(g=En(),Ar(u,s,h,g),Vy(u,a,h))}}function Oy(s){var a=s.alternate;return s===Tt||a!==null&&a===Tt}function Ny(s,a){eu=ed=!0;var u=s.pending;u===null?a.next=a:(a.next=u.next,u.next=a),s.pending=a}function Vy(s,a,u){if(u&4194240){var h=a.lanes;h&=s.pendingLanes,u|=h,a.lanes=u,us(s,u)}}var rd={readContext:sr,useCallback:cn,useContext:cn,useEffect:cn,useImperativeHandle:cn,useInsertionEffect:cn,useLayoutEffect:cn,useMemo:cn,useReducer:cn,useRef:cn,useState:cn,useDebugValue:cn,useDeferredValue:cn,useTransition:cn,useMutableSource:cn,useSyncExternalStore:cn,useId:cn,unstable_isNewReconciler:!1},_b={readContext:sr,useCallback:function(s,a){return ri().memoizedState=[s,a===void 0?null:a],s},useContext:sr,useEffect:by,useImperativeHandle:function(s,a,u){return u=u!=null?u.concat([s]):null,td(4194308,4,Dy.bind(null,a,s),u)},useLayoutEffect:function(s,a){return td(4194308,4,s,a)},useInsertionEffect:function(s,a){return td(4,2,s,a)},useMemo:function(s,a){var u=ri();return a=a===void 0?null:a,s=s(),u.memoizedState=[s,a],s},useReducer:function(s,a,u){var h=ri();return a=u!==void 0?u(a):a,h.memoizedState=h.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},h.queue=s,s=s.dispatch=vb.bind(null,Tt,s),[h.memoizedState,s]},useRef:function(s){var a=ri();return s={current:s},a.memoizedState=s},useState:Ty,useDebugValue:vp,useDeferredValue:function(s){return ri().memoizedState=s},useTransition:function(){var s=Ty(!1),a=s[0];return s=gb.bind(null,s[1]),ri().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,u){var h=Tt,g=ri();if(Et){if(u===void 0)throw Error(t(407));u=u()}else{if(u=a(),Gt===null)throw Error(t(349));Po&30||_y(h,a,u)}g.memoizedState=u;var w={value:u,getSnapshot:a};return g.queue=w,by(Ey.bind(null,h,w,s),[s]),h.flags|=2048,ru(9,wy.bind(null,h,w,u,a),void 0,null),u},useId:function(){var s=ri(),a=Gt.identifierPrefix;if(Et){var u=xi,h=Di;u=(h&~(1<<32-yn(h)-1)).toString(32)+u,a=":"+a+"R"+u,u=tu++,0<u&&(a+="H"+u.toString(32)),a+=":"}else u=mb++,a=":"+a+"r"+u.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},wb={readContext:sr,useCallback:Ly,useContext:sr,useEffect:gp,useImperativeHandle:xy,useInsertionEffect:Iy,useLayoutEffect:Py,useMemo:Ry,useReducer:pp,useRef:ky,useState:function(){return pp(nu)},useDebugValue:vp,useDeferredValue:function(s){var a=or();return My(a,jt.memoizedState,s)},useTransition:function(){var s=pp(nu)[0],a=or().memoizedState;return[s,a]},useMutableSource:vy,useSyncExternalStore:yy,useId:Ay,unstable_isNewReconciler:!1},Eb={readContext:sr,useCallback:Ly,useContext:sr,useEffect:gp,useImperativeHandle:xy,useInsertionEffect:Iy,useLayoutEffect:Py,useMemo:Ry,useReducer:mp,useRef:ky,useState:function(){return mp(nu)},useDebugValue:vp,useDeferredValue:function(s){var a=or();return jt===null?a.memoizedState=s:My(a,jt.memoizedState,s)},useTransition:function(){var s=mp(nu)[0],a=or().memoizedState;return[s,a]},useMutableSource:vy,useSyncExternalStore:yy,useId:Ay,unstable_isNewReconciler:!1};function Lr(s,a){if(s&&s.defaultProps){a=re({},a),s=s.defaultProps;for(var u in s)a[u]===void 0&&(a[u]=s[u]);return a}return a}function yp(s,a,u,h){a=s.memoizedState,u=u(h,a),u=u==null?a:re({},a,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var id={isMounted:function(s){return(s=s._reactInternals)?Cr(s)===s:!1},enqueueSetState:function(s,a,u){s=s._reactInternals;var h=En(),g=Ts(s),w=Ri(h,g);w.payload=a,u!=null&&(w.callback=u),a=ws(s,w,g),a!==null&&(Ar(a,s,g,h),Qc(a,s,g))},enqueueReplaceState:function(s,a,u){s=s._reactInternals;var h=En(),g=Ts(s),w=Ri(h,g);w.tag=1,w.payload=a,u!=null&&(w.callback=u),a=ws(s,w,g),a!==null&&(Ar(a,s,g,h),Qc(a,s,g))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var u=En(),h=Ts(s),g=Ri(u,h);g.tag=2,a!=null&&(g.callback=a),a=ws(s,g,h),a!==null&&(Ar(a,s,h,u),Qc(a,s,h))}};function Fy(s,a,u,h,g,w,b){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,w,b):a.prototype&&a.prototype.isPureReactComponent?!Wl(u,h)||!Wl(g,w):!0}function Uy(s,a,u){var h=!1,g=vs,w=a.contextType;return typeof w=="object"&&w!==null?w=sr(w):(g=Dn(a)?So:un.current,h=a.contextTypes,w=(h=h!=null)?ka(s,g):vs),a=new a(u,w),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=id,s.stateNode=a,a._reactInternals=s,h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=g,s.__reactInternalMemoizedMaskedChildContext=w),a}function jy(s,a,u,h){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,h),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,h),a.state!==s&&id.enqueueReplaceState(a,a.state,null)}function _p(s,a,u,h){var g=s.stateNode;g.props=u,g.state=s.memoizedState,g.refs={},sp(s);var w=a.contextType;typeof w=="object"&&w!==null?g.context=sr(w):(w=Dn(a)?So:un.current,g.context=ka(s,w)),g.state=s.memoizedState,w=a.getDerivedStateFromProps,typeof w=="function"&&(yp(s,a,w,u),g.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(a=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),a!==g.state&&id.enqueueReplaceState(g,g.state,null),Xc(s,u,g,h),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308)}function Ma(s,a){try{var u="",h=a;do u+=X(h),h=h.return;while(h);var g=u}catch(w){g=`
Error generating stack: `+w.message+`
`+w.stack}return{value:s,source:a,stack:g,digest:null}}function wp(s,a,u){return{value:s,source:null,stack:u??null,digest:a??null}}function Ep(s,a){try{console.error(a.value)}catch(u){setTimeout(function(){throw u})}}var Cb=typeof WeakMap=="function"?WeakMap:Map;function By(s,a,u){u=Ri(-1,u),u.tag=3,u.payload={element:null};var h=a.value;return u.callback=function(){dd||(dd=!0,Np=h),Ep(s,a)},u}function zy(s,a,u){u=Ri(-1,u),u.tag=3;var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var g=a.value;u.payload=function(){return h(g)},u.callback=function(){Ep(s,a)}}var w=s.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(u.callback=function(){Ep(s,a),typeof h!="function"&&(Cs===null?Cs=new Set([this]):Cs.add(this));var b=a.stack;this.componentDidCatch(a.value,{componentStack:b!==null?b:""})}),u}function Wy(s,a,u){var h=s.pingCache;if(h===null){h=s.pingCache=new Cb;var g=new Set;h.set(a,g)}else g=h.get(a),g===void 0&&(g=new Set,h.set(a,g));g.has(u)||(g.add(u),s=Nb.bind(null,s,a,u),a.then(s,s))}function Hy(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function $y(s,a,u,h,g){return s.mode&1?(s.flags|=65536,s.lanes=g,s):(s===a?s.flags|=65536:(s.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(a=Ri(-1,1),a.tag=2,ws(u,a,1))),u.lanes|=1),s)}var Sb=j.ReactCurrentOwner,xn=!1;function wn(s,a,u,h){a.child=s===null?dy(a,null,u,h):Da(a,s.child,u,h)}function Yy(s,a,u,h,g){u=u.render;var w=a.ref;return La(a,g),h=fp(s,a,u,h,w,g),u=hp(),s!==null&&!xn?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~g,Mi(s,a,g)):(Et&&u&&Gh(a),a.flags|=1,wn(s,a,h,g),a.child)}function qy(s,a,u,h,g){if(s===null){var w=u.type;return typeof w=="function"&&!Wp(w)&&w.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(a.tag=15,a.type=w,Ky(s,a,w,h,g)):(s=vd(u.type,null,h,a,a.mode,g),s.ref=a.ref,s.return=a,a.child=s)}if(w=s.child,!(s.lanes&g)){var b=w.memoizedProps;if(u=u.compare,u=u!==null?u:Wl,u(b,h)&&s.ref===a.ref)return Mi(s,a,g)}return a.flags|=1,s=bs(w,h),s.ref=a.ref,s.return=a,a.child=s}function Ky(s,a,u,h,g){if(s!==null){var w=s.memoizedProps;if(Wl(w,h)&&s.ref===a.ref)if(xn=!1,a.pendingProps=h=w,(s.lanes&g)!==0)s.flags&131072&&(xn=!0);else return a.lanes=s.lanes,Mi(s,a,g)}return Cp(s,a,u,h,g)}function Gy(s,a,u){var h=a.pendingProps,g=h.children,w=s!==null?s.memoizedState:null;if(h.mode==="hidden")if(!(a.mode&1))a.memoizedState={baseLanes:0,cachePool:null,transitions:null},mt(Oa,Yn),Yn|=u;else{if(!(u&1073741824))return s=w!==null?w.baseLanes|u:u,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,mt(Oa,Yn),Yn|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=w!==null?w.baseLanes:u,mt(Oa,Yn),Yn|=h}else w!==null?(h=w.baseLanes|u,a.memoizedState=null):h=u,mt(Oa,Yn),Yn|=h;return wn(s,a,g,u),a.child}function Qy(s,a){var u=a.ref;(s===null&&u!==null||s!==null&&s.ref!==u)&&(a.flags|=512,a.flags|=2097152)}function Cp(s,a,u,h,g){var w=Dn(u)?So:un.current;return w=ka(a,w),La(a,g),u=fp(s,a,u,h,w,g),h=hp(),s!==null&&!xn?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~g,Mi(s,a,g)):(Et&&h&&Gh(a),a.flags|=1,wn(s,a,u,g),a.child)}function Xy(s,a,u,h,g){if(Dn(u)){var w=!0;zc(a)}else w=!1;if(La(a,g),a.stateNode===null)od(s,a),Uy(a,u,h),_p(a,u,h,g),h=!0;else if(s===null){var b=a.stateNode,O=a.memoizedProps;b.props=O;var B=b.context,Z=u.contextType;typeof Z=="object"&&Z!==null?Z=sr(Z):(Z=Dn(u)?So:un.current,Z=ka(a,Z));var ue=u.getDerivedStateFromProps,de=typeof ue=="function"||typeof b.getSnapshotBeforeUpdate=="function";de||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(O!==h||B!==Z)&&jy(a,b,h,Z),_s=!1;var le=a.memoizedState;b.state=le,Xc(a,h,b,g),B=a.memoizedState,O!==h||le!==B||Pn.current||_s?(typeof ue=="function"&&(yp(a,u,ue,h),B=a.memoizedState),(O=_s||Fy(a,u,O,h,le,B,Z))?(de||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(a.flags|=4194308)):(typeof b.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=h,a.memoizedState=B),b.props=h,b.state=B,b.context=Z,h=O):(typeof b.componentDidMount=="function"&&(a.flags|=4194308),h=!1)}else{b=a.stateNode,hy(s,a),O=a.memoizedProps,Z=a.type===a.elementType?O:Lr(a.type,O),b.props=Z,de=a.pendingProps,le=b.context,B=u.contextType,typeof B=="object"&&B!==null?B=sr(B):(B=Dn(u)?So:un.current,B=ka(a,B));var _e=u.getDerivedStateFromProps;(ue=typeof _e=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(O!==de||le!==B)&&jy(a,b,h,B),_s=!1,le=a.memoizedState,b.state=le,Xc(a,h,b,g);var be=a.memoizedState;O!==de||le!==be||Pn.current||_s?(typeof _e=="function"&&(yp(a,u,_e,h),be=a.memoizedState),(Z=_s||Fy(a,u,Z,h,le,be,B)||!1)?(ue||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(h,be,B),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(h,be,B)),typeof b.componentDidUpdate=="function"&&(a.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof b.componentDidUpdate!="function"||O===s.memoizedProps&&le===s.memoizedState||(a.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||O===s.memoizedProps&&le===s.memoizedState||(a.flags|=1024),a.memoizedProps=h,a.memoizedState=be),b.props=h,b.state=be,b.context=B,h=Z):(typeof b.componentDidUpdate!="function"||O===s.memoizedProps&&le===s.memoizedState||(a.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||O===s.memoizedProps&&le===s.memoizedState||(a.flags|=1024),h=!1)}return Sp(s,a,u,h,w,g)}function Sp(s,a,u,h,g,w){Qy(s,a);var b=(a.flags&128)!==0;if(!h&&!b)return g&&ny(a,u,!1),Mi(s,a,w);h=a.stateNode,Sb.current=a;var O=b&&typeof u.getDerivedStateFromError!="function"?null:h.render();return a.flags|=1,s!==null&&b?(a.child=Da(a,s.child,null,w),a.child=Da(a,null,O,w)):wn(s,a,O,w),a.memoizedState=h.state,g&&ny(a,u,!0),a.child}function Zy(s){var a=s.stateNode;a.pendingContext?ey(s,a.pendingContext,a.pendingContext!==a.context):a.context&&ey(s,a.context,!1),op(s,a.containerInfo)}function Jy(s,a,u,h,g){return Pa(),Jh(g),a.flags|=256,wn(s,a,u,h),a.child}var Tp={dehydrated:null,treeContext:null,retryLane:0};function kp(s){return{baseLanes:s,cachePool:null,transitions:null}}function e_(s,a,u){var h=a.pendingProps,g=St.current,w=!1,b=(a.flags&128)!==0,O;if((O=b)||(O=s!==null&&s.memoizedState===null?!1:(g&2)!==0),O?(w=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(g|=1),mt(St,g&1),s===null)return Zh(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?(a.mode&1?s.data==="$!"?a.lanes=8:a.lanes=1073741824:a.lanes=1,null):(b=h.children,s=h.fallback,w?(h=a.mode,w=a.child,b={mode:"hidden",children:b},!(h&1)&&w!==null?(w.childLanes=0,w.pendingProps=b):w=yd(b,h,0,null),s=Mo(s,h,u,null),w.return=a,s.return=a,w.sibling=s,a.child=w,a.child.memoizedState=kp(u),a.memoizedState=Tp,s):bp(a,b));if(g=s.memoizedState,g!==null&&(O=g.dehydrated,O!==null))return Tb(s,a,b,h,O,g,u);if(w){w=h.fallback,b=a.mode,g=s.child,O=g.sibling;var B={mode:"hidden",children:h.children};return!(b&1)&&a.child!==g?(h=a.child,h.childLanes=0,h.pendingProps=B,a.deletions=null):(h=bs(g,B),h.subtreeFlags=g.subtreeFlags&14680064),O!==null?w=bs(O,w):(w=Mo(w,b,u,null),w.flags|=2),w.return=a,h.return=a,h.sibling=w,a.child=h,h=w,w=a.child,b=s.child.memoizedState,b=b===null?kp(u):{baseLanes:b.baseLanes|u,cachePool:null,transitions:b.transitions},w.memoizedState=b,w.childLanes=s.childLanes&~u,a.memoizedState=Tp,h}return w=s.child,s=w.sibling,h=bs(w,{mode:"visible",children:h.children}),!(a.mode&1)&&(h.lanes=u),h.return=a,h.sibling=null,s!==null&&(u=a.deletions,u===null?(a.deletions=[s],a.flags|=16):u.push(s)),a.child=h,a.memoizedState=null,h}function bp(s,a){return a=yd({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function sd(s,a,u,h){return h!==null&&Jh(h),Da(a,s.child,null,u),s=bp(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function Tb(s,a,u,h,g,w,b){if(u)return a.flags&256?(a.flags&=-257,h=wp(Error(t(422))),sd(s,a,b,h)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(w=h.fallback,g=a.mode,h=yd({mode:"visible",children:h.children},g,0,null),w=Mo(w,g,b,null),w.flags|=2,h.return=a,w.return=a,h.sibling=w,a.child=h,a.mode&1&&Da(a,s.child,null,b),a.child.memoizedState=kp(b),a.memoizedState=Tp,w);if(!(a.mode&1))return sd(s,a,b,null);if(g.data==="$!"){if(h=g.nextSibling&&g.nextSibling.dataset,h)var O=h.dgst;return h=O,w=Error(t(419)),h=wp(w,h,void 0),sd(s,a,b,h)}if(O=(b&s.childLanes)!==0,xn||O){if(h=Gt,h!==null){switch(b&-b){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=g&(h.suspendedLanes|b)?0:g,g!==0&&g!==w.retryLane&&(w.retryLane=g,Li(s,g),Ar(h,s,g,-1))}return zp(),h=wp(Error(t(421))),sd(s,a,b,h)}return g.data==="$?"?(a.flags|=128,a.child=s.child,a=Vb.bind(null,s),g._reactRetry=a,null):(s=w.treeContext,$n=ms(g.nextSibling),Hn=a,Et=!0,xr=null,s!==null&&(rr[ir++]=Di,rr[ir++]=xi,rr[ir++]=To,Di=s.id,xi=s.overflow,To=a),a=bp(a,h.children),a.flags|=4096,a)}function t_(s,a,u){s.lanes|=a;var h=s.alternate;h!==null&&(h.lanes|=a),rp(s.return,a,u)}function Ip(s,a,u,h,g){var w=s.memoizedState;w===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:g}:(w.isBackwards=a,w.rendering=null,w.renderingStartTime=0,w.last=h,w.tail=u,w.tailMode=g)}function n_(s,a,u){var h=a.pendingProps,g=h.revealOrder,w=h.tail;if(wn(s,a,h.children,u),h=St.current,h&2)h=h&1|2,a.flags|=128;else{if(s!==null&&s.flags&128)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&t_(s,u,a);else if(s.tag===19)t_(s,u,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}h&=1}if(mt(St,h),!(a.mode&1))a.memoizedState=null;else switch(g){case"forwards":for(u=a.child,g=null;u!==null;)s=u.alternate,s!==null&&Zc(s)===null&&(g=u),u=u.sibling;u=g,u===null?(g=a.child,a.child=null):(g=u.sibling,u.sibling=null),Ip(a,!1,g,u,w);break;case"backwards":for(u=null,g=a.child,a.child=null;g!==null;){if(s=g.alternate,s!==null&&Zc(s)===null){a.child=g;break}s=g.sibling,g.sibling=u,u=g,g=s}Ip(a,!0,u,null,w);break;case"together":Ip(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function od(s,a){!(a.mode&1)&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function Mi(s,a,u){if(s!==null&&(a.dependencies=s.dependencies),Do|=a.lanes,!(u&a.childLanes))return null;if(s!==null&&a.child!==s.child)throw Error(t(153));if(a.child!==null){for(s=a.child,u=bs(s,s.pendingProps),a.child=u,u.return=a;s.sibling!==null;)s=s.sibling,u=u.sibling=bs(s,s.pendingProps),u.return=a;u.sibling=null}return a.child}function kb(s,a,u){switch(a.tag){case 3:Zy(a),Pa();break;case 5:gy(a);break;case 1:Dn(a.type)&&zc(a);break;case 4:op(a,a.stateNode.containerInfo);break;case 10:var h=a.type._context,g=a.memoizedProps.value;mt(Kc,h._currentValue),h._currentValue=g;break;case 13:if(h=a.memoizedState,h!==null)return h.dehydrated!==null?(mt(St,St.current&1),a.flags|=128,null):u&a.child.childLanes?e_(s,a,u):(mt(St,St.current&1),s=Mi(s,a,u),s!==null?s.sibling:null);mt(St,St.current&1);break;case 19:if(h=(u&a.childLanes)!==0,s.flags&128){if(h)return n_(s,a,u);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),mt(St,St.current),h)break;return null;case 22:case 23:return a.lanes=0,Gy(s,a,u)}return Mi(s,a,u)}var r_,Pp,i_,s_;r_=function(s,a){for(var u=a.child;u!==null;){if(u.tag===5||u.tag===6)s.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Pp=function(){},i_=function(s,a,u,h){var g=s.memoizedProps;if(g!==h){s=a.stateNode,Io(ni.current);var w=null;switch(u){case"input":g=Vn(s,g),h=Vn(s,h),w=[];break;case"select":g=re({},g,{value:void 0}),h=re({},h,{value:void 0}),w=[];break;case"textarea":g=ts(s,g),h=ts(s,h),w=[];break;default:typeof g.onClick!="function"&&typeof h.onClick=="function"&&(s.onclick=Uc)}is(u,h);var b;u=null;for(Z in g)if(!h.hasOwnProperty(Z)&&g.hasOwnProperty(Z)&&g[Z]!=null)if(Z==="style"){var O=g[Z];for(b in O)O.hasOwnProperty(b)&&(u||(u={}),u[b]="")}else Z!=="dangerouslySetInnerHTML"&&Z!=="children"&&Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&Z!=="autoFocus"&&(i.hasOwnProperty(Z)?w||(w=[]):(w=w||[]).push(Z,null));for(Z in h){var B=h[Z];if(O=g!=null?g[Z]:void 0,h.hasOwnProperty(Z)&&B!==O&&(B!=null||O!=null))if(Z==="style")if(O){for(b in O)!O.hasOwnProperty(b)||B&&B.hasOwnProperty(b)||(u||(u={}),u[b]="");for(b in B)B.hasOwnProperty(b)&&O[b]!==B[b]&&(u||(u={}),u[b]=B[b])}else u||(w||(w=[]),w.push(Z,u)),u=B;else Z==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,O=O?O.__html:void 0,B!=null&&O!==B&&(w=w||[]).push(Z,B)):Z==="children"?typeof B!="string"&&typeof B!="number"||(w=w||[]).push(Z,""+B):Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&(i.hasOwnProperty(Z)?(B!=null&&Z==="onScroll"&&gt("scroll",s),w||O===B||(w=[])):(w=w||[]).push(Z,B))}u&&(w=w||[]).push("style",u);var Z=w;(a.updateQueue=Z)&&(a.flags|=4)}},s_=function(s,a,u,h){u!==h&&(a.flags|=4)};function iu(s,a){if(!Et)switch(s.tailMode){case"hidden":a=s.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function dn(s){var a=s.alternate!==null&&s.alternate.child===s.child,u=0,h=0;if(a)for(var g=s.child;g!==null;)u|=g.lanes|g.childLanes,h|=g.subtreeFlags&14680064,h|=g.flags&14680064,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)u|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=h,s.childLanes=u,a}function bb(s,a,u){var h=a.pendingProps;switch(Qh(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dn(a),null;case 1:return Dn(a.type)&&Bc(),dn(a),null;case 3:return h=a.stateNode,Ra(),vt(Pn),vt(un),up(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(s===null||s.child===null)&&(Yc(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&!(a.flags&256)||(a.flags|=1024,xr!==null&&(Up(xr),xr=null))),Pp(s,a),dn(a),null;case 5:ap(a);var g=Io(Jl.current);if(u=a.type,s!==null&&a.stateNode!=null)i_(s,a,u,h,g),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!h){if(a.stateNode===null)throw Error(t(166));return dn(a),null}if(s=Io(ni.current),Yc(a)){h=a.stateNode,u=a.type;var w=a.memoizedProps;switch(h[ti]=a,h[Kl]=w,s=(a.mode&1)!==0,u){case"dialog":gt("cancel",h),gt("close",h);break;case"iframe":case"object":case"embed":gt("load",h);break;case"video":case"audio":for(g=0;g<$l.length;g++)gt($l[g],h);break;case"source":gt("error",h);break;case"img":case"image":case"link":gt("error",h),gt("load",h);break;case"details":gt("toggle",h);break;case"input":Qe(h,w),gt("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!w.multiple},gt("invalid",h);break;case"textarea":gr(h,w),gt("invalid",h)}is(u,w),g=null;for(var b in w)if(w.hasOwnProperty(b)){var O=w[b];b==="children"?typeof O=="string"?h.textContent!==O&&(w.suppressHydrationWarning!==!0&&Fc(h.textContent,O,s),g=["children",O]):typeof O=="number"&&h.textContent!==""+O&&(w.suppressHydrationWarning!==!0&&Fc(h.textContent,O,s),g=["children",""+O]):i.hasOwnProperty(b)&&O!=null&&b==="onScroll"&&gt("scroll",h)}switch(u){case"input":ze(h),lo(h,w,!0);break;case"textarea":ze(h),ns(h);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(h.onclick=Uc)}h=g,a.updateQueue=h,h!==null&&(a.flags|=4)}else{b=g.nodeType===9?g:g.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=It(u)),s==="http://www.w3.org/1999/xhtml"?u==="script"?(s=b.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof h.is=="string"?s=b.createElement(u,{is:h.is}):(s=b.createElement(u),u==="select"&&(b=s,h.multiple?b.multiple=!0:h.size&&(b.size=h.size))):s=b.createElementNS(s,u),s[ti]=a,s[Kl]=h,r_(s,a,!1,!1),a.stateNode=s;e:{switch(b=$r(u,h),u){case"dialog":gt("cancel",s),gt("close",s),g=h;break;case"iframe":case"object":case"embed":gt("load",s),g=h;break;case"video":case"audio":for(g=0;g<$l.length;g++)gt($l[g],s);g=h;break;case"source":gt("error",s),g=h;break;case"img":case"image":case"link":gt("error",s),gt("load",s),g=h;break;case"details":gt("toggle",s),g=h;break;case"input":Qe(s,h),g=Vn(s,h),gt("invalid",s);break;case"option":g=h;break;case"select":s._wrapperState={wasMultiple:!!h.multiple},g=re({},h,{value:void 0}),gt("invalid",s);break;case"textarea":gr(s,h),g=ts(s,h),gt("invalid",s);break;default:g=h}is(u,g),O=g;for(w in O)if(O.hasOwnProperty(w)){var B=O[w];w==="style"?rs(s,B):w==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,B!=null&&Br(s,B)):w==="children"?typeof B=="string"?(u!=="textarea"||B!=="")&&vr(s,B):typeof B=="number"&&vr(s,""+B):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(i.hasOwnProperty(w)?B!=null&&w==="onScroll"&&gt("scroll",s):B!=null&&H(s,w,B,b))}switch(u){case"input":ze(s),lo(s,h,!1);break;case"textarea":ze(s),ns(s);break;case"option":h.value!=null&&s.setAttribute("value",""+ye(h.value));break;case"select":s.multiple=!!h.multiple,w=h.value,w!=null?kn(s,!!h.multiple,w,!1):h.defaultValue!=null&&kn(s,!!h.multiple,h.defaultValue,!0);break;default:typeof g.onClick=="function"&&(s.onclick=Uc)}switch(u){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return dn(a),null;case 6:if(s&&a.stateNode!=null)s_(s,a,s.memoizedProps,h);else{if(typeof h!="string"&&a.stateNode===null)throw Error(t(166));if(u=Io(Jl.current),Io(ni.current),Yc(a)){if(h=a.stateNode,u=a.memoizedProps,h[ti]=a,(w=h.nodeValue!==u)&&(s=Hn,s!==null))switch(s.tag){case 3:Fc(h.nodeValue,u,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Fc(h.nodeValue,u,(s.mode&1)!==0)}w&&(a.flags|=4)}else h=(u.nodeType===9?u:u.ownerDocument).createTextNode(h),h[ti]=a,a.stateNode=h}return dn(a),null;case 13:if(vt(St),h=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Et&&$n!==null&&a.mode&1&&!(a.flags&128))ly(),Pa(),a.flags|=98560,w=!1;else if(w=Yc(a),h!==null&&h.dehydrated!==null){if(s===null){if(!w)throw Error(t(318));if(w=a.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(t(317));w[ti]=a}else Pa(),!(a.flags&128)&&(a.memoizedState=null),a.flags|=4;dn(a),w=!1}else xr!==null&&(Up(xr),xr=null),w=!0;if(!w)return a.flags&65536?a:null}return a.flags&128?(a.lanes=u,a):(h=h!==null,h!==(s!==null&&s.memoizedState!==null)&&h&&(a.child.flags|=8192,a.mode&1&&(s===null||St.current&1?Bt===0&&(Bt=3):zp())),a.updateQueue!==null&&(a.flags|=4),dn(a),null);case 4:return Ra(),Pp(s,a),s===null&&Yl(a.stateNode.containerInfo),dn(a),null;case 10:return np(a.type._context),dn(a),null;case 17:return Dn(a.type)&&Bc(),dn(a),null;case 19:if(vt(St),w=a.memoizedState,w===null)return dn(a),null;if(h=(a.flags&128)!==0,b=w.rendering,b===null)if(h)iu(w,!1);else{if(Bt!==0||s!==null&&s.flags&128)for(s=a.child;s!==null;){if(b=Zc(s),b!==null){for(a.flags|=128,iu(w,!1),h=b.updateQueue,h!==null&&(a.updateQueue=h,a.flags|=4),a.subtreeFlags=0,h=u,u=a.child;u!==null;)w=u,s=h,w.flags&=14680066,b=w.alternate,b===null?(w.childLanes=0,w.lanes=s,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=b.childLanes,w.lanes=b.lanes,w.child=b.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=b.memoizedProps,w.memoizedState=b.memoizedState,w.updateQueue=b.updateQueue,w.type=b.type,s=b.dependencies,w.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),u=u.sibling;return mt(St,St.current&1|2),a.child}s=s.sibling}w.tail!==null&&pt()>Na&&(a.flags|=128,h=!0,iu(w,!1),a.lanes=4194304)}else{if(!h)if(s=Zc(b),s!==null){if(a.flags|=128,h=!0,u=s.updateQueue,u!==null&&(a.updateQueue=u,a.flags|=4),iu(w,!0),w.tail===null&&w.tailMode==="hidden"&&!b.alternate&&!Et)return dn(a),null}else 2*pt()-w.renderingStartTime>Na&&u!==1073741824&&(a.flags|=128,h=!0,iu(w,!1),a.lanes=4194304);w.isBackwards?(b.sibling=a.child,a.child=b):(u=w.last,u!==null?u.sibling=b:a.child=b,w.last=b)}return w.tail!==null?(a=w.tail,w.rendering=a,w.tail=a.sibling,w.renderingStartTime=pt(),a.sibling=null,u=St.current,mt(St,h?u&1|2:u&1),a):(dn(a),null);case 22:case 23:return Bp(),h=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==h&&(a.flags|=8192),h&&a.mode&1?Yn&1073741824&&(dn(a),a.subtreeFlags&6&&(a.flags|=8192)):dn(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function Ib(s,a){switch(Qh(a),a.tag){case 1:return Dn(a.type)&&Bc(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Ra(),vt(Pn),vt(un),up(),s=a.flags,s&65536&&!(s&128)?(a.flags=s&-65537|128,a):null;case 5:return ap(a),null;case 13:if(vt(St),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(t(340));Pa()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return vt(St),null;case 4:return Ra(),null;case 10:return np(a.type._context),null;case 22:case 23:return Bp(),null;case 24:return null;default:return null}}var ad=!1,fn=!1,Pb=typeof WeakSet=="function"?WeakSet:Set,Te=null;function Aa(s,a){var u=s.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(h){Pt(s,a,h)}else u.current=null}function Dp(s,a,u){try{u()}catch(h){Pt(s,a,h)}}var o_=!1;function Db(s,a){if(Bh=fs,s=Fv(),Mh(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var h=u.getSelection&&u.getSelection();if(h&&h.rangeCount!==0){u=h.anchorNode;var g=h.anchorOffset,w=h.focusNode;h=h.focusOffset;try{u.nodeType,w.nodeType}catch{u=null;break e}var b=0,O=-1,B=-1,Z=0,ue=0,de=s,le=null;t:for(;;){for(var _e;de!==u||g!==0&&de.nodeType!==3||(O=b+g),de!==w||h!==0&&de.nodeType!==3||(B=b+h),de.nodeType===3&&(b+=de.nodeValue.length),(_e=de.firstChild)!==null;)le=de,de=_e;for(;;){if(de===s)break t;if(le===u&&++Z===g&&(O=b),le===w&&++ue===h&&(B=b),(_e=de.nextSibling)!==null)break;de=le,le=de.parentNode}de=_e}u=O===-1||B===-1?null:{start:O,end:B}}else u=null}u=u||{start:0,end:0}}else u=null;for(zh={focusedElem:s,selectionRange:u},fs=!1,Te=a;Te!==null;)if(a=Te,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,Te=s;else for(;Te!==null;){a=Te;try{var be=a.alternate;if(a.flags&1024)switch(a.tag){case 0:case 11:case 15:break;case 1:if(be!==null){var Ie=be.memoizedProps,xt=be.memoizedState,q=a.stateNode,W=q.getSnapshotBeforeUpdate(a.elementType===a.type?Ie:Lr(a.type,Ie),xt);q.__reactInternalSnapshotBeforeUpdate=W}break;case 3:var K=a.stateNode.containerInfo;K.nodeType===1?K.textContent="":K.nodeType===9&&K.documentElement&&K.removeChild(K.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(pe){Pt(a,a.return,pe)}if(s=a.sibling,s!==null){s.return=a.return,Te=s;break}Te=a.return}return be=o_,o_=!1,be}function su(s,a,u){var h=a.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var g=h=h.next;do{if((g.tag&s)===s){var w=g.destroy;g.destroy=void 0,w!==void 0&&Dp(a,u,w)}g=g.next}while(g!==h)}}function ld(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var u=a=a.next;do{if((u.tag&s)===s){var h=u.create;u.destroy=h()}u=u.next}while(u!==a)}}function xp(s){var a=s.ref;if(a!==null){var u=s.stateNode;switch(s.tag){case 5:s=u;break;default:s=u}typeof a=="function"?a(s):a.current=s}}function a_(s){var a=s.alternate;a!==null&&(s.alternate=null,a_(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[ti],delete a[Kl],delete a[Yh],delete a[db],delete a[fb])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function l_(s){return s.tag===5||s.tag===3||s.tag===4}function u_(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||l_(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Lp(s,a,u){var h=s.tag;if(h===5||h===6)s=s.stateNode,a?u.nodeType===8?u.parentNode.insertBefore(s,a):u.insertBefore(s,a):(u.nodeType===8?(a=u.parentNode,a.insertBefore(s,u)):(a=u,a.appendChild(s)),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=Uc));else if(h!==4&&(s=s.child,s!==null))for(Lp(s,a,u),s=s.sibling;s!==null;)Lp(s,a,u),s=s.sibling}function Rp(s,a,u){var h=s.tag;if(h===5||h===6)s=s.stateNode,a?u.insertBefore(s,a):u.appendChild(s);else if(h!==4&&(s=s.child,s!==null))for(Rp(s,a,u),s=s.sibling;s!==null;)Rp(s,a,u),s=s.sibling}var nn=null,Rr=!1;function Es(s,a,u){for(u=u.child;u!==null;)c_(s,a,u),u=u.sibling}function c_(s,a,u){if(jn&&typeof jn.onCommitFiberUnmount=="function")try{jn.onCommitFiberUnmount(mo,u)}catch{}switch(u.tag){case 5:fn||Aa(u,a);case 6:var h=nn,g=Rr;nn=null,Es(s,a,u),nn=h,Rr=g,nn!==null&&(Rr?(s=nn,u=u.stateNode,s.nodeType===8?s.parentNode.removeChild(u):s.removeChild(u)):nn.removeChild(u.stateNode));break;case 18:nn!==null&&(Rr?(s=nn,u=u.stateNode,s.nodeType===8?$h(s.parentNode,u):s.nodeType===1&&$h(s,u),Ir(s)):$h(nn,u.stateNode));break;case 4:h=nn,g=Rr,nn=u.stateNode.containerInfo,Rr=!0,Es(s,a,u),nn=h,Rr=g;break;case 0:case 11:case 14:case 15:if(!fn&&(h=u.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){g=h=h.next;do{var w=g,b=w.destroy;w=w.tag,b!==void 0&&(w&2||w&4)&&Dp(u,a,b),g=g.next}while(g!==h)}Es(s,a,u);break;case 1:if(!fn&&(Aa(u,a),h=u.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=u.memoizedProps,h.state=u.memoizedState,h.componentWillUnmount()}catch(O){Pt(u,a,O)}Es(s,a,u);break;case 21:Es(s,a,u);break;case 22:u.mode&1?(fn=(h=fn)||u.memoizedState!==null,Es(s,a,u),fn=h):Es(s,a,u);break;default:Es(s,a,u)}}function d_(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var u=s.stateNode;u===null&&(u=s.stateNode=new Pb),a.forEach(function(h){var g=Fb.bind(null,s,h);u.has(h)||(u.add(h),h.then(g,g))})}}function Mr(s,a){var u=a.deletions;if(u!==null)for(var h=0;h<u.length;h++){var g=u[h];try{var w=s,b=a,O=b;e:for(;O!==null;){switch(O.tag){case 5:nn=O.stateNode,Rr=!1;break e;case 3:nn=O.stateNode.containerInfo,Rr=!0;break e;case 4:nn=O.stateNode.containerInfo,Rr=!0;break e}O=O.return}if(nn===null)throw Error(t(160));c_(w,b,g),nn=null,Rr=!1;var B=g.alternate;B!==null&&(B.return=null),g.return=null}catch(Z){Pt(g,a,Z)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)f_(a,s),a=a.sibling}function f_(s,a){var u=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Mr(a,s),ii(s),h&4){try{su(3,s,s.return),ld(3,s)}catch(Ie){Pt(s,s.return,Ie)}try{su(5,s,s.return)}catch(Ie){Pt(s,s.return,Ie)}}break;case 1:Mr(a,s),ii(s),h&512&&u!==null&&Aa(u,u.return);break;case 5:if(Mr(a,s),ii(s),h&512&&u!==null&&Aa(u,u.return),s.flags&32){var g=s.stateNode;try{vr(g,"")}catch(Ie){Pt(s,s.return,Ie)}}if(h&4&&(g=s.stateNode,g!=null)){var w=s.memoizedProps,b=u!==null?u.memoizedProps:w,O=s.type,B=s.updateQueue;if(s.updateQueue=null,B!==null)try{O==="input"&&w.type==="radio"&&w.name!=null&&es(g,w),$r(O,b);var Z=$r(O,w);for(b=0;b<B.length;b+=2){var ue=B[b],de=B[b+1];ue==="style"?rs(g,de):ue==="dangerouslySetInnerHTML"?Br(g,de):ue==="children"?vr(g,de):H(g,ue,de,Z)}switch(O){case"input":jr(g,w);break;case"textarea":wi(g,w);break;case"select":var le=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!w.multiple;var _e=w.value;_e!=null?kn(g,!!w.multiple,_e,!1):le!==!!w.multiple&&(w.defaultValue!=null?kn(g,!!w.multiple,w.defaultValue,!0):kn(g,!!w.multiple,w.multiple?[]:"",!1))}g[Kl]=w}catch(Ie){Pt(s,s.return,Ie)}}break;case 6:if(Mr(a,s),ii(s),h&4){if(s.stateNode===null)throw Error(t(162));g=s.stateNode,w=s.memoizedProps;try{g.nodeValue=w}catch(Ie){Pt(s,s.return,Ie)}}break;case 3:if(Mr(a,s),ii(s),h&4&&u!==null&&u.memoizedState.isDehydrated)try{Ir(a.containerInfo)}catch(Ie){Pt(s,s.return,Ie)}break;case 4:Mr(a,s),ii(s);break;case 13:Mr(a,s),ii(s),g=s.child,g.flags&8192&&(w=g.memoizedState!==null,g.stateNode.isHidden=w,!w||g.alternate!==null&&g.alternate.memoizedState!==null||(Op=pt())),h&4&&d_(s);break;case 22:if(ue=u!==null&&u.memoizedState!==null,s.mode&1?(fn=(Z=fn)||ue,Mr(a,s),fn=Z):Mr(a,s),ii(s),h&8192){if(Z=s.memoizedState!==null,(s.stateNode.isHidden=Z)&&!ue&&s.mode&1)for(Te=s,ue=s.child;ue!==null;){for(de=Te=ue;Te!==null;){switch(le=Te,_e=le.child,le.tag){case 0:case 11:case 14:case 15:su(4,le,le.return);break;case 1:Aa(le,le.return);var be=le.stateNode;if(typeof be.componentWillUnmount=="function"){h=le,u=le.return;try{a=h,be.props=a.memoizedProps,be.state=a.memoizedState,be.componentWillUnmount()}catch(Ie){Pt(h,u,Ie)}}break;case 5:Aa(le,le.return);break;case 22:if(le.memoizedState!==null){m_(de);continue}}_e!==null?(_e.return=le,Te=_e):m_(de)}ue=ue.sibling}e:for(ue=null,de=s;;){if(de.tag===5){if(ue===null){ue=de;try{g=de.stateNode,Z?(w=g.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(O=de.stateNode,B=de.memoizedProps.style,b=B!=null&&B.hasOwnProperty("display")?B.display:null,O.style.display=Wr("display",b))}catch(Ie){Pt(s,s.return,Ie)}}}else if(de.tag===6){if(ue===null)try{de.stateNode.nodeValue=Z?"":de.memoizedProps}catch(Ie){Pt(s,s.return,Ie)}}else if((de.tag!==22&&de.tag!==23||de.memoizedState===null||de===s)&&de.child!==null){de.child.return=de,de=de.child;continue}if(de===s)break e;for(;de.sibling===null;){if(de.return===null||de.return===s)break e;ue===de&&(ue=null),de=de.return}ue===de&&(ue=null),de.sibling.return=de.return,de=de.sibling}}break;case 19:Mr(a,s),ii(s),h&4&&d_(s);break;case 21:break;default:Mr(a,s),ii(s)}}function ii(s){var a=s.flags;if(a&2){try{e:{for(var u=s.return;u!==null;){if(l_(u)){var h=u;break e}u=u.return}throw Error(t(160))}switch(h.tag){case 5:var g=h.stateNode;h.flags&32&&(vr(g,""),h.flags&=-33);var w=u_(s);Rp(s,w,g);break;case 3:case 4:var b=h.stateNode.containerInfo,O=u_(s);Lp(s,O,b);break;default:throw Error(t(161))}}catch(B){Pt(s,s.return,B)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function xb(s,a,u){Te=s,h_(s)}function h_(s,a,u){for(var h=(s.mode&1)!==0;Te!==null;){var g=Te,w=g.child;if(g.tag===22&&h){var b=g.memoizedState!==null||ad;if(!b){var O=g.alternate,B=O!==null&&O.memoizedState!==null||fn;O=ad;var Z=fn;if(ad=b,(fn=B)&&!Z)for(Te=g;Te!==null;)b=Te,B=b.child,b.tag===22&&b.memoizedState!==null?g_(g):B!==null?(B.return=b,Te=B):g_(g);for(;w!==null;)Te=w,h_(w),w=w.sibling;Te=g,ad=O,fn=Z}p_(s)}else g.subtreeFlags&8772&&w!==null?(w.return=g,Te=w):p_(s)}}function p_(s){for(;Te!==null;){var a=Te;if(a.flags&8772){var u=a.alternate;try{if(a.flags&8772)switch(a.tag){case 0:case 11:case 15:fn||ld(5,a);break;case 1:var h=a.stateNode;if(a.flags&4&&!fn)if(u===null)h.componentDidMount();else{var g=a.elementType===a.type?u.memoizedProps:Lr(a.type,u.memoizedProps);h.componentDidUpdate(g,u.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var w=a.updateQueue;w!==null&&my(a,w,h);break;case 3:var b=a.updateQueue;if(b!==null){if(u=null,a.child!==null)switch(a.child.tag){case 5:u=a.child.stateNode;break;case 1:u=a.child.stateNode}my(a,b,u)}break;case 5:var O=a.stateNode;if(u===null&&a.flags&4){u=O;var B=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":B.autoFocus&&u.focus();break;case"img":B.src&&(u.src=B.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var Z=a.alternate;if(Z!==null){var ue=Z.memoizedState;if(ue!==null){var de=ue.dehydrated;de!==null&&Ir(de)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}fn||a.flags&512&&xp(a)}catch(le){Pt(a,a.return,le)}}if(a===s){Te=null;break}if(u=a.sibling,u!==null){u.return=a.return,Te=u;break}Te=a.return}}function m_(s){for(;Te!==null;){var a=Te;if(a===s){Te=null;break}var u=a.sibling;if(u!==null){u.return=a.return,Te=u;break}Te=a.return}}function g_(s){for(;Te!==null;){var a=Te;try{switch(a.tag){case 0:case 11:case 15:var u=a.return;try{ld(4,a)}catch(B){Pt(a,u,B)}break;case 1:var h=a.stateNode;if(typeof h.componentDidMount=="function"){var g=a.return;try{h.componentDidMount()}catch(B){Pt(a,g,B)}}var w=a.return;try{xp(a)}catch(B){Pt(a,w,B)}break;case 5:var b=a.return;try{xp(a)}catch(B){Pt(a,b,B)}}}catch(B){Pt(a,a.return,B)}if(a===s){Te=null;break}var O=a.sibling;if(O!==null){O.return=a.return,Te=O;break}Te=a.return}}var Lb=Math.ceil,ud=j.ReactCurrentDispatcher,Mp=j.ReactCurrentOwner,ar=j.ReactCurrentBatchConfig,tt=0,Gt=null,Nt=null,rn=0,Yn=0,Oa=gs(0),Bt=0,ou=null,Do=0,cd=0,Ap=0,au=null,Ln=null,Op=0,Na=1/0,Ai=null,dd=!1,Np=null,Cs=null,fd=!1,Ss=null,hd=0,lu=0,Vp=null,pd=-1,md=0;function En(){return tt&6?pt():pd!==-1?pd:pd=pt()}function Ts(s){return s.mode&1?tt&2&&rn!==0?rn&-rn:pb.transition!==null?(md===0&&(md=vo()),md):(s=Xe,s!==0||(s=window.event,s=s===void 0?16:Nl(s.type)),s):1}function Ar(s,a,u,h){if(50<lu)throw lu=0,Vp=null,Error(t(185));ls(s,u,h),(!(tt&2)||s!==Gt)&&(s===Gt&&(!(tt&2)&&(cd|=u),Bt===4&&ks(s,rn)),Rn(s,h),u===1&&tt===0&&!(a.mode&1)&&(Na=pt()+500,Wc&&ys()))}function Rn(s,a){var u=s.callbackNode;Ci(s,a);var h=go(s,s===Gt?rn:0);if(h===0)u!==null&&Ll(u),s.callbackNode=null,s.callbackPriority=0;else if(a=h&-h,s.callbackPriority!==a){if(u!=null&&Ll(u),a===1)s.tag===0?hb(y_.bind(null,s)):ry(y_.bind(null,s)),ub(function(){!(tt&6)&&ys()}),u=null;else{switch(cs(h)){case 1:u=po;break;case 4:u=ss;break;case 16:u=er;break;case 536870912:u=mc;break;default:u=er}u=b_(u,v_.bind(null,s))}s.callbackPriority=a,s.callbackNode=u}}function v_(s,a){if(pd=-1,md=0,tt&6)throw Error(t(327));var u=s.callbackNode;if(Va()&&s.callbackNode!==u)return null;var h=go(s,s===Gt?rn:0);if(h===0)return null;if(h&30||h&s.expiredLanes||a)a=gd(s,h);else{a=h;var g=tt;tt|=2;var w=w_();(Gt!==s||rn!==a)&&(Ai=null,Na=pt()+500,Lo(s,a));do try{Ab();break}catch(O){__(s,O)}while(!0);tp(),ud.current=w,tt=g,Nt!==null?a=0:(Gt=null,rn=0,a=Bt)}if(a!==0){if(a===2&&(g=Bn(s),g!==0&&(h=g,a=Fp(s,g))),a===1)throw u=ou,Lo(s,0),ks(s,h),Rn(s,pt()),u;if(a===6)ks(s,h);else{if(g=s.current.alternate,!(h&30)&&!Rb(g)&&(a=gd(s,h),a===2&&(w=Bn(s),w!==0&&(h=w,a=Fp(s,w))),a===1))throw u=ou,Lo(s,0),ks(s,h),Rn(s,pt()),u;switch(s.finishedWork=g,s.finishedLanes=h,a){case 0:case 1:throw Error(t(345));case 2:Ro(s,Ln,Ai);break;case 3:if(ks(s,h),(h&130023424)===h&&(a=Op+500-pt(),10<a)){if(go(s,0)!==0)break;if(g=s.suspendedLanes,(g&h)!==h){En(),s.pingedLanes|=s.suspendedLanes&g;break}s.timeoutHandle=Hh(Ro.bind(null,s,Ln,Ai),a);break}Ro(s,Ln,Ai);break;case 4:if(ks(s,h),(h&4194240)===h)break;for(a=s.eventTimes,g=-1;0<h;){var b=31-yn(h);w=1<<b,b=a[b],b>g&&(g=b),h&=~w}if(h=g,h=pt()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*Lb(h/1960))-h,10<h){s.timeoutHandle=Hh(Ro.bind(null,s,Ln,Ai),h);break}Ro(s,Ln,Ai);break;case 5:Ro(s,Ln,Ai);break;default:throw Error(t(329))}}}return Rn(s,pt()),s.callbackNode===u?v_.bind(null,s):null}function Fp(s,a){var u=au;return s.current.memoizedState.isDehydrated&&(Lo(s,a).flags|=256),s=gd(s,a),s!==2&&(a=Ln,Ln=u,a!==null&&Up(a)),s}function Up(s){Ln===null?Ln=s:Ln.push.apply(Ln,s)}function Rb(s){for(var a=s;;){if(a.flags&16384){var u=a.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var h=0;h<u.length;h++){var g=u[h],w=g.getSnapshot;g=g.value;try{if(!Dr(w(),g))return!1}catch{return!1}}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ks(s,a){for(a&=~Ap,a&=~cd,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var u=31-yn(a),h=1<<u;s[u]=-1,a&=~h}}function y_(s){if(tt&6)throw Error(t(327));Va();var a=go(s,0);if(!(a&1))return Rn(s,pt()),null;var u=gd(s,a);if(s.tag!==0&&u===2){var h=Bn(s);h!==0&&(a=h,u=Fp(s,h))}if(u===1)throw u=ou,Lo(s,0),ks(s,a),Rn(s,pt()),u;if(u===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,Ro(s,Ln,Ai),Rn(s,pt()),null}function jp(s,a){var u=tt;tt|=1;try{return s(a)}finally{tt=u,tt===0&&(Na=pt()+500,Wc&&ys())}}function xo(s){Ss!==null&&Ss.tag===0&&!(tt&6)&&Va();var a=tt;tt|=1;var u=ar.transition,h=Xe;try{if(ar.transition=null,Xe=1,s)return s()}finally{Xe=h,ar.transition=u,tt=a,!(tt&6)&&ys()}}function Bp(){Yn=Oa.current,vt(Oa)}function Lo(s,a){s.finishedWork=null,s.finishedLanes=0;var u=s.timeoutHandle;if(u!==-1&&(s.timeoutHandle=-1,lb(u)),Nt!==null)for(u=Nt.return;u!==null;){var h=u;switch(Qh(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Bc();break;case 3:Ra(),vt(Pn),vt(un),up();break;case 5:ap(h);break;case 4:Ra();break;case 13:vt(St);break;case 19:vt(St);break;case 10:np(h.type._context);break;case 22:case 23:Bp()}u=u.return}if(Gt=s,Nt=s=bs(s.current,null),rn=Yn=a,Bt=0,ou=null,Ap=cd=Do=0,Ln=au=null,bo!==null){for(a=0;a<bo.length;a++)if(u=bo[a],h=u.interleaved,h!==null){u.interleaved=null;var g=h.next,w=u.pending;if(w!==null){var b=w.next;w.next=g,h.next=b}u.pending=h}bo=null}return s}function __(s,a){do{var u=Nt;try{if(tp(),Jc.current=rd,ed){for(var h=Tt.memoizedState;h!==null;){var g=h.queue;g!==null&&(g.pending=null),h=h.next}ed=!1}if(Po=0,Kt=jt=Tt=null,eu=!1,tu=0,Mp.current=null,u===null||u.return===null){Bt=1,ou=a,Nt=null;break}e:{var w=s,b=u.return,O=u,B=a;if(a=rn,O.flags|=32768,B!==null&&typeof B=="object"&&typeof B.then=="function"){var Z=B,ue=O,de=ue.tag;if(!(ue.mode&1)&&(de===0||de===11||de===15)){var le=ue.alternate;le?(ue.updateQueue=le.updateQueue,ue.memoizedState=le.memoizedState,ue.lanes=le.lanes):(ue.updateQueue=null,ue.memoizedState=null)}var _e=Hy(b);if(_e!==null){_e.flags&=-257,$y(_e,b,O,w,a),_e.mode&1&&Wy(w,Z,a),a=_e,B=Z;var be=a.updateQueue;if(be===null){var Ie=new Set;Ie.add(B),a.updateQueue=Ie}else be.add(B);break e}else{if(!(a&1)){Wy(w,Z,a),zp();break e}B=Error(t(426))}}else if(Et&&O.mode&1){var xt=Hy(b);if(xt!==null){!(xt.flags&65536)&&(xt.flags|=256),$y(xt,b,O,w,a),Jh(Ma(B,O));break e}}w=B=Ma(B,O),Bt!==4&&(Bt=2),au===null?au=[w]:au.push(w),w=b;do{switch(w.tag){case 3:w.flags|=65536,a&=-a,w.lanes|=a;var q=By(w,B,a);py(w,q);break e;case 1:O=B;var W=w.type,K=w.stateNode;if(!(w.flags&128)&&(typeof W.getDerivedStateFromError=="function"||K!==null&&typeof K.componentDidCatch=="function"&&(Cs===null||!Cs.has(K)))){w.flags|=65536,a&=-a,w.lanes|=a;var pe=zy(w,O,a);py(w,pe);break e}}w=w.return}while(w!==null)}C_(u)}catch(Pe){a=Pe,Nt===u&&u!==null&&(Nt=u=u.return);continue}break}while(!0)}function w_(){var s=ud.current;return ud.current=rd,s===null?rd:s}function zp(){(Bt===0||Bt===3||Bt===2)&&(Bt=4),Gt===null||!(Do&268435455)&&!(cd&268435455)||ks(Gt,rn)}function gd(s,a){var u=tt;tt|=2;var h=w_();(Gt!==s||rn!==a)&&(Ai=null,Lo(s,a));do try{Mb();break}catch(g){__(s,g)}while(!0);if(tp(),tt=u,ud.current=h,Nt!==null)throw Error(t(261));return Gt=null,rn=0,Bt}function Mb(){for(;Nt!==null;)E_(Nt)}function Ab(){for(;Nt!==null&&!hc();)E_(Nt)}function E_(s){var a=k_(s.alternate,s,Yn);s.memoizedProps=s.pendingProps,a===null?C_(s):Nt=a,Mp.current=null}function C_(s){var a=s;do{var u=a.alternate;if(s=a.return,a.flags&32768){if(u=Ib(u,a),u!==null){u.flags&=32767,Nt=u;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Bt=6,Nt=null;return}}else if(u=bb(u,a,Yn),u!==null){Nt=u;return}if(a=a.sibling,a!==null){Nt=a;return}Nt=a=s}while(a!==null);Bt===0&&(Bt=5)}function Ro(s,a,u){var h=Xe,g=ar.transition;try{ar.transition=null,Xe=1,Ob(s,a,u,h)}finally{ar.transition=g,Xe=h}return null}function Ob(s,a,u,h){do Va();while(Ss!==null);if(tt&6)throw Error(t(327));u=s.finishedWork;var g=s.finishedLanes;if(u===null)return null;if(s.finishedWork=null,s.finishedLanes=0,u===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var w=u.lanes|u.childLanes;if(ht(s,w),s===Gt&&(Nt=Gt=null,rn=0),!(u.subtreeFlags&2064)&&!(u.flags&2064)||fd||(fd=!0,b_(er,function(){return Va(),null})),w=(u.flags&15990)!==0,u.subtreeFlags&15990||w){w=ar.transition,ar.transition=null;var b=Xe;Xe=1;var O=tt;tt|=4,Mp.current=null,Db(s,u),f_(u,s),tb(zh),fs=!!Bh,zh=Bh=null,s.current=u,xb(u),kh(),tt=O,Xe=b,ar.transition=w}else s.current=u;if(fd&&(fd=!1,Ss=s,hd=g),w=s.pendingLanes,w===0&&(Cs=null),gc(u.stateNode),Rn(s,pt()),a!==null)for(h=s.onRecoverableError,u=0;u<a.length;u++)g=a[u],h(g.value,{componentStack:g.stack,digest:g.digest});if(dd)throw dd=!1,s=Np,Np=null,s;return hd&1&&s.tag!==0&&Va(),w=s.pendingLanes,w&1?s===Vp?lu++:(lu=0,Vp=s):lu=0,ys(),null}function Va(){if(Ss!==null){var s=cs(hd),a=ar.transition,u=Xe;try{if(ar.transition=null,Xe=16>s?16:s,Ss===null)var h=!1;else{if(s=Ss,Ss=null,hd=0,tt&6)throw Error(t(331));var g=tt;for(tt|=4,Te=s.current;Te!==null;){var w=Te,b=w.child;if(Te.flags&16){var O=w.deletions;if(O!==null){for(var B=0;B<O.length;B++){var Z=O[B];for(Te=Z;Te!==null;){var ue=Te;switch(ue.tag){case 0:case 11:case 15:su(8,ue,w)}var de=ue.child;if(de!==null)de.return=ue,Te=de;else for(;Te!==null;){ue=Te;var le=ue.sibling,_e=ue.return;if(a_(ue),ue===Z){Te=null;break}if(le!==null){le.return=_e,Te=le;break}Te=_e}}}var be=w.alternate;if(be!==null){var Ie=be.child;if(Ie!==null){be.child=null;do{var xt=Ie.sibling;Ie.sibling=null,Ie=xt}while(Ie!==null)}}Te=w}}if(w.subtreeFlags&2064&&b!==null)b.return=w,Te=b;else e:for(;Te!==null;){if(w=Te,w.flags&2048)switch(w.tag){case 0:case 11:case 15:su(9,w,w.return)}var q=w.sibling;if(q!==null){q.return=w.return,Te=q;break e}Te=w.return}}var W=s.current;for(Te=W;Te!==null;){b=Te;var K=b.child;if(b.subtreeFlags&2064&&K!==null)K.return=b,Te=K;else e:for(b=W;Te!==null;){if(O=Te,O.flags&2048)try{switch(O.tag){case 0:case 11:case 15:ld(9,O)}}catch(Pe){Pt(O,O.return,Pe)}if(O===b){Te=null;break e}var pe=O.sibling;if(pe!==null){pe.return=O.return,Te=pe;break e}Te=O.return}}if(tt=g,ys(),jn&&typeof jn.onPostCommitFiberRoot=="function")try{jn.onPostCommitFiberRoot(mo,s)}catch{}h=!0}return h}finally{Xe=u,ar.transition=a}}return!1}function S_(s,a,u){a=Ma(u,a),a=By(s,a,1),s=ws(s,a,1),a=En(),s!==null&&(ls(s,1,a),Rn(s,a))}function Pt(s,a,u){if(s.tag===3)S_(s,s,u);else for(;a!==null;){if(a.tag===3){S_(a,s,u);break}else if(a.tag===1){var h=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Cs===null||!Cs.has(h))){s=Ma(u,s),s=zy(a,s,1),a=ws(a,s,1),s=En(),a!==null&&(ls(a,1,s),Rn(a,s));break}}a=a.return}}function Nb(s,a,u){var h=s.pingCache;h!==null&&h.delete(a),a=En(),s.pingedLanes|=s.suspendedLanes&u,Gt===s&&(rn&u)===u&&(Bt===4||Bt===3&&(rn&130023424)===rn&&500>pt()-Op?Lo(s,0):Ap|=u),Rn(s,a)}function T_(s,a){a===0&&(s.mode&1?(a=oa,oa<<=1,!(oa&130023424)&&(oa=4194304)):a=1);var u=En();s=Li(s,a),s!==null&&(ls(s,a,u),Rn(s,u))}function Vb(s){var a=s.memoizedState,u=0;a!==null&&(u=a.retryLane),T_(s,u)}function Fb(s,a){var u=0;switch(s.tag){case 13:var h=s.stateNode,g=s.memoizedState;g!==null&&(u=g.retryLane);break;case 19:h=s.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(a),T_(s,u)}var k_;k_=function(s,a,u){if(s!==null)if(s.memoizedProps!==a.pendingProps||Pn.current)xn=!0;else{if(!(s.lanes&u)&&!(a.flags&128))return xn=!1,kb(s,a,u);xn=!!(s.flags&131072)}else xn=!1,Et&&a.flags&1048576&&iy(a,$c,a.index);switch(a.lanes=0,a.tag){case 2:var h=a.type;od(s,a),s=a.pendingProps;var g=ka(a,un.current);La(a,u),g=fp(null,a,h,s,g,u);var w=hp();return a.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Dn(h)?(w=!0,zc(a)):w=!1,a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,sp(a),g.updater=id,a.stateNode=g,g._reactInternals=a,_p(a,h,s,u),a=Sp(null,a,h,!0,w,u)):(a.tag=0,Et&&w&&Gh(a),wn(null,a,g,u),a=a.child),a;case 16:h=a.elementType;e:{switch(od(s,a),s=a.pendingProps,g=h._init,h=g(h._payload),a.type=h,g=a.tag=jb(h),s=Lr(h,s),g){case 0:a=Cp(null,a,h,s,u);break e;case 1:a=Xy(null,a,h,s,u);break e;case 11:a=Yy(null,a,h,s,u);break e;case 14:a=qy(null,a,h,Lr(h.type,s),u);break e}throw Error(t(306,h,""))}return a;case 0:return h=a.type,g=a.pendingProps,g=a.elementType===h?g:Lr(h,g),Cp(s,a,h,g,u);case 1:return h=a.type,g=a.pendingProps,g=a.elementType===h?g:Lr(h,g),Xy(s,a,h,g,u);case 3:e:{if(Zy(a),s===null)throw Error(t(387));h=a.pendingProps,w=a.memoizedState,g=w.element,hy(s,a),Xc(a,h,null,u);var b=a.memoizedState;if(h=b.element,w.isDehydrated)if(w={element:h,isDehydrated:!1,cache:b.cache,pendingSuspenseBoundaries:b.pendingSuspenseBoundaries,transitions:b.transitions},a.updateQueue.baseState=w,a.memoizedState=w,a.flags&256){g=Ma(Error(t(423)),a),a=Jy(s,a,h,u,g);break e}else if(h!==g){g=Ma(Error(t(424)),a),a=Jy(s,a,h,u,g);break e}else for($n=ms(a.stateNode.containerInfo.firstChild),Hn=a,Et=!0,xr=null,u=dy(a,null,h,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Pa(),h===g){a=Mi(s,a,u);break e}wn(s,a,h,u)}a=a.child}return a;case 5:return gy(a),s===null&&Zh(a),h=a.type,g=a.pendingProps,w=s!==null?s.memoizedProps:null,b=g.children,Wh(h,g)?b=null:w!==null&&Wh(h,w)&&(a.flags|=32),Qy(s,a),wn(s,a,b,u),a.child;case 6:return s===null&&Zh(a),null;case 13:return e_(s,a,u);case 4:return op(a,a.stateNode.containerInfo),h=a.pendingProps,s===null?a.child=Da(a,null,h,u):wn(s,a,h,u),a.child;case 11:return h=a.type,g=a.pendingProps,g=a.elementType===h?g:Lr(h,g),Yy(s,a,h,g,u);case 7:return wn(s,a,a.pendingProps,u),a.child;case 8:return wn(s,a,a.pendingProps.children,u),a.child;case 12:return wn(s,a,a.pendingProps.children,u),a.child;case 10:e:{if(h=a.type._context,g=a.pendingProps,w=a.memoizedProps,b=g.value,mt(Kc,h._currentValue),h._currentValue=b,w!==null)if(Dr(w.value,b)){if(w.children===g.children&&!Pn.current){a=Mi(s,a,u);break e}}else for(w=a.child,w!==null&&(w.return=a);w!==null;){var O=w.dependencies;if(O!==null){b=w.child;for(var B=O.firstContext;B!==null;){if(B.context===h){if(w.tag===1){B=Ri(-1,u&-u),B.tag=2;var Z=w.updateQueue;if(Z!==null){Z=Z.shared;var ue=Z.pending;ue===null?B.next=B:(B.next=ue.next,ue.next=B),Z.pending=B}}w.lanes|=u,B=w.alternate,B!==null&&(B.lanes|=u),rp(w.return,u,a),O.lanes|=u;break}B=B.next}}else if(w.tag===10)b=w.type===a.type?null:w.child;else if(w.tag===18){if(b=w.return,b===null)throw Error(t(341));b.lanes|=u,O=b.alternate,O!==null&&(O.lanes|=u),rp(b,u,a),b=w.sibling}else b=w.child;if(b!==null)b.return=w;else for(b=w;b!==null;){if(b===a){b=null;break}if(w=b.sibling,w!==null){w.return=b.return,b=w;break}b=b.return}w=b}wn(s,a,g.children,u),a=a.child}return a;case 9:return g=a.type,h=a.pendingProps.children,La(a,u),g=sr(g),h=h(g),a.flags|=1,wn(s,a,h,u),a.child;case 14:return h=a.type,g=Lr(h,a.pendingProps),g=Lr(h.type,g),qy(s,a,h,g,u);case 15:return Ky(s,a,a.type,a.pendingProps,u);case 17:return h=a.type,g=a.pendingProps,g=a.elementType===h?g:Lr(h,g),od(s,a),a.tag=1,Dn(h)?(s=!0,zc(a)):s=!1,La(a,u),Uy(a,h,g),_p(a,h,g,u),Sp(null,a,h,!0,s,u);case 19:return n_(s,a,u);case 22:return Gy(s,a,u)}throw Error(t(156,a.tag))};function b_(s,a){return ia(s,a)}function Ub(s,a,u,h){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function lr(s,a,u,h){return new Ub(s,a,u,h)}function Wp(s){return s=s.prototype,!(!s||!s.isReactComponent)}function jb(s){if(typeof s=="function")return Wp(s)?1:0;if(s!=null){if(s=s.$$typeof,s===N)return 11;if(s===me)return 14}return 2}function bs(s,a){var u=s.alternate;return u===null?(u=lr(s.tag,a,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=a,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&14680064,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,a=s.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u}function vd(s,a,u,h,g,w){var b=2;if(h=s,typeof s=="function")Wp(s)&&(b=1);else if(typeof s=="string")b=5;else e:switch(s){case D:return Mo(u.children,g,w,a);case I:b=8,g|=8;break;case k:return s=lr(12,u,a,g|2),s.elementType=k,s.lanes=w,s;case M:return s=lr(13,u,a,g),s.elementType=M,s.lanes=w,s;case fe:return s=lr(19,u,a,g),s.elementType=fe,s.lanes=w,s;case he:return yd(u,g,w,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case R:b=10;break e;case A:b=9;break e;case N:b=11;break e;case me:b=14;break e;case ce:b=16,h=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return a=lr(b,u,a,g),a.elementType=s,a.type=h,a.lanes=w,a}function Mo(s,a,u,h){return s=lr(7,s,h,a),s.lanes=u,s}function yd(s,a,u,h){return s=lr(22,s,h,a),s.elementType=he,s.lanes=u,s.stateNode={isHidden:!1},s}function Hp(s,a,u){return s=lr(6,s,null,a),s.lanes=u,s}function $p(s,a,u){return a=lr(4,s.children!==null?s.children:[],s.key,a),a.lanes=u,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function Bb(s,a,u,h,g){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=as(0),this.expirationTimes=as(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=as(0),this.identifierPrefix=h,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function Yp(s,a,u,h,g,w,b,O,B){return s=new Bb(s,a,u,O,B),a===1?(a=1,w===!0&&(a|=8)):a=0,w=lr(3,null,null,a),s.current=w,w.stateNode=s,w.memoizedState={element:h,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},sp(w),s}function zb(s,a,u){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$,key:h==null?null:""+h,children:s,containerInfo:a,implementation:u}}function I_(s){if(!s)return vs;s=s._reactInternals;e:{if(Cr(s)!==s||s.tag!==1)throw Error(t(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Dn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(s.tag===1){var u=s.type;if(Dn(u))return ty(s,u,a)}return a}function P_(s,a,u,h,g,w,b,O,B){return s=Yp(u,h,!0,s,g,w,b,O,B),s.context=I_(null),u=s.current,h=En(),g=Ts(u),w=Ri(h,g),w.callback=a??null,ws(u,w,g),s.current.lanes=g,ls(s,g,h),Rn(s,h),s}function _d(s,a,u,h){var g=a.current,w=En(),b=Ts(g);return u=I_(u),a.context===null?a.context=u:a.pendingContext=u,a=Ri(w,b),a.payload={element:s},h=h===void 0?null:h,h!==null&&(a.callback=h),s=ws(g,a,b),s!==null&&(Ar(s,g,b,w),Qc(s,g,b)),b}function wd(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function D_(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<a?u:a}}function qp(s,a){D_(s,a),(s=s.alternate)&&D_(s,a)}function Wb(){return null}var x_=typeof reportError=="function"?reportError:function(s){console.error(s)};function Kp(s){this._internalRoot=s}Ed.prototype.render=Kp.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(t(409));_d(s,a,null,null)},Ed.prototype.unmount=Kp.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;xo(function(){_d(null,s,null,null)}),a[Ii]=null}};function Ed(s){this._internalRoot=s}Ed.prototype.unstable_scheduleHydration=function(s){if(s){var a=Ec();s={blockedOn:null,target:s,priority:a};for(var u=0;u<Xr.length&&a!==0&&a<Xr[u].priority;u++);Xr.splice(u,0,s),u===0&&Tc(s)}};function Gp(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Cd(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function L_(){}function Hb(s,a,u,h,g){if(g){if(typeof h=="function"){var w=h;h=function(){var Z=wd(b);w.call(Z)}}var b=P_(a,h,s,0,null,!1,!1,"",L_);return s._reactRootContainer=b,s[Ii]=b.current,Yl(s.nodeType===8?s.parentNode:s),xo(),b}for(;g=s.lastChild;)s.removeChild(g);if(typeof h=="function"){var O=h;h=function(){var Z=wd(B);O.call(Z)}}var B=Yp(s,0,!1,null,null,!1,!1,"",L_);return s._reactRootContainer=B,s[Ii]=B.current,Yl(s.nodeType===8?s.parentNode:s),xo(function(){_d(a,B,u,h)}),B}function Sd(s,a,u,h,g){var w=u._reactRootContainer;if(w){var b=w;if(typeof g=="function"){var O=g;g=function(){var B=wd(b);O.call(B)}}_d(a,b,s,g)}else b=Hb(u,a,s,g,h);return wd(b)}_c=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var u=os(a.pendingLanes);u!==0&&(us(a,u|1),Rn(a,pt()),!(tt&6)&&(Na=pt()+500,ys()))}break;case 13:xo(function(){var h=Li(s,1);if(h!==null){var g=En();Ar(h,s,1,g)}}),qp(s,1)}},aa=function(s){if(s.tag===13){var a=Li(s,134217728);if(a!==null){var u=En();Ar(a,s,134217728,u)}qp(s,134217728)}},wc=function(s){if(s.tag===13){var a=Ts(s),u=Li(s,a);if(u!==null){var h=En();Ar(u,s,a,h)}qp(s,a)}},Ec=function(){return Xe},Cc=function(s,a){var u=Xe;try{return Xe=s,a()}finally{Xe=u}},Ei=function(s,a,u){switch(a){case"input":if(jr(s,u),a=u.name,u.type==="radio"&&a!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<u.length;a++){var h=u[a];if(h!==s&&h.form===s.form){var g=jc(h);if(!g)throw Error(t(90));$t(h),jr(h,g)}}}break;case"textarea":wi(s,u);break;case"select":a=u.value,a!=null&&kn(s,!!u.multiple,a,!1)}},Kr=jp,Gr=xo;var $b={usingClientEntryPoint:!1,Events:[Gl,Sa,jc,Un,qr,jp]},uu={findFiberByHostInstance:Co,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Yb={bundleType:uu.bundleType,version:uu.version,rendererPackageName:uu.rendererPackageName,rendererConfig:uu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:j.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=xl(s),s===null?null:s.stateNode},findFiberByHostInstance:uu.findFiberByHostInstance||Wb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Td=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Td.isDisabled&&Td.supportsFiber)try{mo=Td.inject(Yb),jn=Td}catch{}}return Mn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$b,Mn.createPortal=function(s,a){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Gp(a))throw Error(t(200));return zb(s,a,null,u)},Mn.createRoot=function(s,a){if(!Gp(s))throw Error(t(299));var u=!1,h="",g=x_;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onRecoverableError!==void 0&&(g=a.onRecoverableError)),a=Yp(s,1,!1,null,null,u,!1,h,g),s[Ii]=a.current,Yl(s.nodeType===8?s.parentNode:s),new Kp(a)},Mn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=xl(a),s=s===null?null:s.stateNode,s},Mn.flushSync=function(s){return xo(s)},Mn.hydrate=function(s,a,u){if(!Cd(a))throw Error(t(200));return Sd(null,s,a,!0,u)},Mn.hydrateRoot=function(s,a,u){if(!Gp(s))throw Error(t(405));var h=u!=null&&u.hydratedSources||null,g=!1,w="",b=x_;if(u!=null&&(u.unstable_strictMode===!0&&(g=!0),u.identifierPrefix!==void 0&&(w=u.identifierPrefix),u.onRecoverableError!==void 0&&(b=u.onRecoverableError)),a=P_(a,null,s,1,u??null,g,!1,w,b),s[Ii]=a.current,Yl(s),h)for(s=0;s<h.length;s++)u=h[s],g=u._getVersion,g=g(u._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[u,g]:a.mutableSourceEagerHydrationData.push(u,g);return new Ed(a)},Mn.render=function(s,a,u){if(!Cd(a))throw Error(t(200));return Sd(null,s,a,!1,u)},Mn.unmountComponentAtNode=function(s){if(!Cd(s))throw Error(t(40));return s._reactRootContainer?(xo(function(){Sd(null,null,s,!1,function(){s._reactRootContainer=null,s[Ii]=null})}),!0):!1},Mn.unstable_batchedUpdates=jp,Mn.unstable_renderSubtreeIntoContainer=function(s,a,u,h){if(!Cd(u))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return Sd(s,a,u,!1,h)},Mn.version="18.3.1-next-f1338f8080-20240426",Mn}var U_;function vS(){if(U_)return Zp.exports;U_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Zp.exports=nI(),Zp.exports}var j_;function rI(){if(j_)return kd;j_=1;var r=vS();return kd.createRoot=r.createRoot,kd.hydrateRoot=r.hydrateRoot,kd}var iI=rI(),ro=vS();const sI=mS(ro);/**
 * @remix-run/router v1.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ru(){return Ru=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Ru.apply(this,arguments)}var Ns;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(Ns||(Ns={}));const B_="popstate";function oI(r){r===void 0&&(r={});function e(n,i){let{pathname:o,search:l,hash:c}=n.location;return Im("",{pathname:o,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(n,i){return typeof i=="string"?i:rf(i)}return lI(e,t,null,r)}function At(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function yS(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function aI(){return Math.random().toString(36).substr(2,8)}function z_(r,e){return{usr:r.state,key:r.key,idx:e}}function Im(r,e,t,n){return t===void 0&&(t=null),Ru({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof e=="string"?gl(e):e,{state:t,key:e&&e.key||n||aI()})}function rf(r){let{pathname:e="/",search:t="",hash:n=""}=r;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function gl(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substr(t),r=r.substr(0,t));let n=r.indexOf("?");n>=0&&(e.search=r.substr(n),r=r.substr(0,n)),r&&(e.pathname=r)}return e}function lI(r,e,t,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:o=!1}=n,l=i.history,c=Ns.Pop,d=null,p=m();p==null&&(p=0,l.replaceState(Ru({},l.state,{idx:p}),""));function m(){return(l.state||{idx:null}).idx}function v(){c=Ns.Pop;let P=m(),V=P==null?null:P-p;p=P,d&&d({action:c,location:L.location,delta:V})}function E(P,V){c=Ns.Push;let F=Im(L.location,P,V);p=m()+1;let H=z_(F,p),j=L.createHref(F);try{l.pushState(H,"",j)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;i.location.assign(j)}o&&d&&d({action:c,location:L.location,delta:1})}function S(P,V){c=Ns.Replace;let F=Im(L.location,P,V);p=m();let H=z_(F,p),j=L.createHref(F);l.replaceState(H,"",j),o&&d&&d({action:c,location:L.location,delta:0})}function T(P){let V=i.location.origin!=="null"?i.location.origin:i.location.href,F=typeof P=="string"?P:rf(P);return F=F.replace(/ $/,"%20"),At(V,"No window.location.(origin|href) available to create URL for href: "+F),new URL(F,V)}let L={get action(){return c},get location(){return r(i,l)},listen(P){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(B_,v),d=P,()=>{i.removeEventListener(B_,v),d=null}},createHref(P){return e(i,P)},createURL:T,encodeLocation(P){let V=T(P);return{pathname:V.pathname,search:V.search,hash:V.hash}},push:E,replace:S,go(P){return l.go(P)}};return L}var W_;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(W_||(W_={}));function uI(r,e,t){return t===void 0&&(t="/"),cI(r,e,t)}function cI(r,e,t,n){let i=typeof e=="string"?gl(e):e,o=cg(i.pathname||"/",t);if(o==null)return null;let l=_S(r);dI(l);let c=null;for(let d=0;c==null&&d<l.length;++d){let p=SI(o);c=wI(l[d],p)}return c}function _S(r,e,t,n){e===void 0&&(e=[]),t===void 0&&(t=[]),n===void 0&&(n="");let i=(o,l,c)=>{let d={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};d.relativePath.startsWith("/")&&(At(d.relativePath.startsWith(n),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(n.length));let p=js([n,d.relativePath]),m=t.concat(d);o.children&&o.children.length>0&&(At(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),_S(o.children,e,m,p)),!(o.path==null&&!o.index)&&e.push({path:p,score:yI(p,o.index),routesMeta:m})};return r.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))i(o,l);else for(let d of wS(o.path))i(o,l,d)}),e}function wS(r){let e=r.split("/");if(e.length===0)return[];let[t,...n]=e,i=t.endsWith("?"),o=t.replace(/\?$/,"");if(n.length===0)return i?[o,""]:[o];let l=wS(n.join("/")),c=[];return c.push(...l.map(d=>d===""?o:[o,d].join("/"))),i&&c.push(...l),c.map(d=>r.startsWith("/")&&d===""?"/":d)}function dI(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:_I(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}const fI=/^:[\w-]+$/,hI=3,pI=2,mI=1,gI=10,vI=-2,H_=r=>r==="*";function yI(r,e){let t=r.split("/"),n=t.length;return t.some(H_)&&(n+=vI),e&&(n+=pI),t.filter(i=>!H_(i)).reduce((i,o)=>i+(fI.test(o)?hI:o===""?mI:gI),n)}function _I(r,e){return r.length===e.length&&r.slice(0,-1).every((n,i)=>n===e[i])?r[r.length-1]-e[e.length-1]:0}function wI(r,e,t){let{routesMeta:n}=r,i={},o="/",l=[];for(let c=0;c<n.length;++c){let d=n[c],p=c===n.length-1,m=o==="/"?e:e.slice(o.length)||"/",v=EI({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},m),E=d.route;if(!v)return null;Object.assign(i,v.params),l.push({params:i,pathname:js([o,v.pathname]),pathnameBase:II(js([o,v.pathnameBase])),route:E}),v.pathnameBase!=="/"&&(o=js([o,v.pathnameBase]))}return l}function EI(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,n]=CI(r.path,r.caseSensitive,r.end),i=e.match(t);if(!i)return null;let o=i[0],l=o.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:n.reduce((p,m,v)=>{let{paramName:E,isOptional:S}=m;if(E==="*"){let L=c[v]||"";l=o.slice(0,o.length-L.length).replace(/(.)\/+$/,"$1")}const T=c[v];return S&&!T?p[E]=void 0:p[E]=(T||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:l,pattern:r}}function CI(r,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),yS(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let n=[],i="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,d)=>(n.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(n.push({paramName:"*"}),i+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":r!==""&&r!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function SI(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return yS(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),r}}function cg(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=r.charAt(t);return n&&n!=="/"?null:r.slice(t)||"/"}function TI(r,e){e===void 0&&(e="/");let{pathname:t,search:n="",hash:i=""}=typeof r=="string"?gl(r):r;return{pathname:t?t.startsWith("/")?t:kI(t,e):e,search:PI(n),hash:DI(i)}}function kI(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function tm(r,e,t,n){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function bI(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function dg(r,e){let t=bI(r);return e?t.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase):t.map(n=>n.pathnameBase)}function fg(r,e,t,n){n===void 0&&(n=!1);let i;typeof r=="string"?i=gl(r):(i=Ru({},r),At(!i.pathname||!i.pathname.includes("?"),tm("?","pathname","search",i)),At(!i.pathname||!i.pathname.includes("#"),tm("#","pathname","hash",i)),At(!i.search||!i.search.includes("#"),tm("#","search","hash",i)));let o=r===""||i.pathname==="",l=o?"/":i.pathname,c;if(l==null)c=t;else{let v=e.length-1;if(!n&&l.startsWith("..")){let E=l.split("/");for(;E[0]==="..";)E.shift(),v-=1;i.pathname=E.join("/")}c=v>=0?e[v]:"/"}let d=TI(i,c),p=l&&l!=="/"&&l.endsWith("/"),m=(o||l===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(p||m)&&(d.pathname+="/"),d}const js=r=>r.join("/").replace(/\/\/+/g,"/"),II=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),PI=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,DI=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function xI(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}const ES=["post","put","patch","delete"];new Set(ES);const LI=["get",...ES];new Set(LI);/**
 * React Router v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mu(){return Mu=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Mu.apply(this,arguments)}const hg=y.createContext(null),RI=y.createContext(null),io=y.createContext(null),Yf=y.createContext(null),Xi=y.createContext({outlet:null,matches:[],isDataRoute:!1}),CS=y.createContext(null);function MI(r,e){let{relative:t}=e===void 0?{}:e;vl()||At(!1);let{basename:n,navigator:i}=y.useContext(io),{hash:o,pathname:l,search:c}=kS(r,{relative:t}),d=l;return n!=="/"&&(d=l==="/"?n:js([n,l])),i.createHref({pathname:d,search:c,hash:o})}function vl(){return y.useContext(Yf)!=null}function Ku(){return vl()||At(!1),y.useContext(Yf).location}function SS(r){y.useContext(io).static||y.useLayoutEffect(r)}function Gu(){let{isDataRoute:r}=y.useContext(Xi);return r?YI():AI()}function AI(){vl()||At(!1);let r=y.useContext(hg),{basename:e,future:t,navigator:n}=y.useContext(io),{matches:i}=y.useContext(Xi),{pathname:o}=Ku(),l=JSON.stringify(dg(i,t.v7_relativeSplatPath)),c=y.useRef(!1);return SS(()=>{c.current=!0}),y.useCallback(function(p,m){if(m===void 0&&(m={}),!c.current)return;if(typeof p=="number"){n.go(p);return}let v=fg(p,JSON.parse(l),o,m.relative==="path");r==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:js([e,v.pathname])),(m.replace?n.replace:n.push)(v,m.state,m)},[e,n,l,o,r])}function TS(){let{matches:r}=y.useContext(Xi),e=r[r.length-1];return e?e.params:{}}function kS(r,e){let{relative:t}=e===void 0?{}:e,{future:n}=y.useContext(io),{matches:i}=y.useContext(Xi),{pathname:o}=Ku(),l=JSON.stringify(dg(i,n.v7_relativeSplatPath));return y.useMemo(()=>fg(r,JSON.parse(l),o,t==="path"),[r,l,o,t])}function OI(r,e){return NI(r,e)}function NI(r,e,t,n){vl()||At(!1);let{navigator:i,static:o}=y.useContext(io),{matches:l}=y.useContext(Xi),c=l[l.length-1],d=c?c.params:{};c&&c.pathname;let p=c?c.pathnameBase:"/";c&&c.route;let m=Ku(),v;if(e){var E;let V=typeof e=="string"?gl(e):e;p==="/"||(E=V.pathname)!=null&&E.startsWith(p)||At(!1),v=V}else v=m;let S=v.pathname||"/",T=S;if(p!=="/"){let V=p.replace(/^\//,"").split("/");T="/"+S.replace(/^\//,"").split("/").slice(V.length).join("/")}let L=uI(r,{pathname:T}),P=BI(L&&L.map(V=>Object.assign({},V,{params:Object.assign({},d,V.params),pathname:js([p,i.encodeLocation?i.encodeLocation(V.pathname).pathname:V.pathname]),pathnameBase:V.pathnameBase==="/"?p:js([p,i.encodeLocation?i.encodeLocation(V.pathnameBase).pathname:V.pathnameBase])})),l,t,n);return e&&P?y.createElement(Yf.Provider,{value:{location:Mu({pathname:"/",search:"",hash:"",state:null,key:"default"},v),navigationType:Ns.Pop}},P):P}function VI(){let r=$I(),e=xI(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},e),t?y.createElement("pre",{style:i},t):null,null)}const FI=y.createElement(VI,null);class UI extends y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?y.createElement(Xi.Provider,{value:this.props.routeContext},y.createElement(CS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function jI(r){let{routeContext:e,match:t,children:n}=r,i=y.useContext(hg);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),y.createElement(Xi.Provider,{value:e},n)}function BI(r,e,t,n){var i;if(e===void 0&&(e=[]),t===void 0&&(t=null),n===void 0&&(n=null),r==null){var o;if(!t)return null;if(t.errors)r=t.matches;else if((o=n)!=null&&o.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let l=r,c=(i=t)==null?void 0:i.errors;if(c!=null){let m=l.findIndex(v=>v.route.id&&(c==null?void 0:c[v.route.id])!==void 0);m>=0||At(!1),l=l.slice(0,Math.min(l.length,m+1))}let d=!1,p=-1;if(t&&n&&n.v7_partialHydration)for(let m=0;m<l.length;m++){let v=l[m];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(p=m),v.route.id){let{loaderData:E,errors:S}=t,T=v.route.loader&&E[v.route.id]===void 0&&(!S||S[v.route.id]===void 0);if(v.route.lazy||T){d=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}return l.reduceRight((m,v,E)=>{let S,T=!1,L=null,P=null;t&&(S=c&&v.route.id?c[v.route.id]:void 0,L=v.route.errorElement||FI,d&&(p<0&&E===0?(qI("route-fallback"),T=!0,P=null):p===E&&(T=!0,P=v.route.hydrateFallbackElement||null)));let V=e.concat(l.slice(0,E+1)),F=()=>{let H;return S?H=L:T?H=P:v.route.Component?H=y.createElement(v.route.Component,null):v.route.element?H=v.route.element:H=m,y.createElement(jI,{match:v,routeContext:{outlet:m,matches:V,isDataRoute:t!=null},children:H})};return t&&(v.route.ErrorBoundary||v.route.errorElement||E===0)?y.createElement(UI,{location:t.location,revalidation:t.revalidation,component:L,error:S,children:F(),routeContext:{outlet:null,matches:V,isDataRoute:!0}}):F()},null)}var bS=function(r){return r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r}(bS||{}),sf=function(r){return r.UseBlocker="useBlocker",r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r.UseRouteId="useRouteId",r}(sf||{});function zI(r){let e=y.useContext(hg);return e||At(!1),e}function WI(r){let e=y.useContext(RI);return e||At(!1),e}function HI(r){let e=y.useContext(Xi);return e||At(!1),e}function IS(r){let e=HI(),t=e.matches[e.matches.length-1];return t.route.id||At(!1),t.route.id}function $I(){var r;let e=y.useContext(CS),t=WI(sf.UseRouteError),n=IS(sf.UseRouteError);return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function YI(){let{router:r}=zI(bS.UseNavigateStable),e=IS(sf.UseNavigateStable),t=y.useRef(!1);return SS(()=>{t.current=!0}),y.useCallback(function(i,o){o===void 0&&(o={}),t.current&&(typeof i=="number"?r.navigate(i):r.navigate(i,Mu({fromRouteId:e},o)))},[r,e])}const $_={};function qI(r,e,t){$_[r]||($_[r]=!0)}function KI(r,e){r==null||r.v7_startTransition,r==null||r.v7_relativeSplatPath}function GI(r){let{to:e,replace:t,state:n,relative:i}=r;vl()||At(!1);let{future:o,static:l}=y.useContext(io),{matches:c}=y.useContext(Xi),{pathname:d}=Ku(),p=Gu(),m=fg(e,dg(c,o.v7_relativeSplatPath),d,i==="path"),v=JSON.stringify(m);return y.useEffect(()=>p(JSON.parse(v),{replace:t,state:n,relative:i}),[p,v,i,t,n]),null}function xs(r){At(!1)}function QI(r){let{basename:e="/",children:t=null,location:n,navigationType:i=Ns.Pop,navigator:o,static:l=!1,future:c}=r;vl()&&At(!1);let d=e.replace(/^\/*/,"/"),p=y.useMemo(()=>({basename:d,navigator:o,static:l,future:Mu({v7_relativeSplatPath:!1},c)}),[d,c,o,l]);typeof n=="string"&&(n=gl(n));let{pathname:m="/",search:v="",hash:E="",state:S=null,key:T="default"}=n,L=y.useMemo(()=>{let P=cg(m,d);return P==null?null:{location:{pathname:P,search:v,hash:E,state:S,key:T},navigationType:i}},[d,m,v,E,S,T,i]);return L==null?null:y.createElement(io.Provider,{value:p},y.createElement(Yf.Provider,{children:t,value:L}))}function XI(r){let{children:e,location:t}=r;return OI(Pm(e),t)}new Promise(()=>{});function Pm(r,e){e===void 0&&(e=[]);let t=[];return y.Children.forEach(r,(n,i)=>{if(!y.isValidElement(n))return;let o=[...e,i];if(n.type===y.Fragment){t.push.apply(t,Pm(n.props.children,o));return}n.type!==xs&&At(!1),!n.props.index||!n.props.children||At(!1);let l={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=Pm(n.props.children,o)),t.push(l)}),t}/**
 * React Router DOM v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dm(){return Dm=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Dm.apply(this,arguments)}function ZI(r,e){if(r==null)return{};var t={},n=Object.keys(r),i,o;for(o=0;o<n.length;o++)i=n[o],!(e.indexOf(i)>=0)&&(t[i]=r[i]);return t}function JI(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function eP(r,e){return r.button===0&&(!e||e==="_self")&&!JI(r)}const tP=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],nP="6";try{window.__reactRouterVersion=nP}catch{}const rP="startTransition",Y_=gS[rP];function iP(r){let{basename:e,children:t,future:n,window:i}=r,o=y.useRef();o.current==null&&(o.current=oI({window:i,v5Compat:!0}));let l=o.current,[c,d]=y.useState({action:l.action,location:l.location}),{v7_startTransition:p}=n||{},m=y.useCallback(v=>{p&&Y_?Y_(()=>d(v)):d(v)},[d,p]);return y.useLayoutEffect(()=>l.listen(m),[l,m]),y.useEffect(()=>KI(n),[n]),y.createElement(QI,{basename:e,children:t,location:c.location,navigationType:c.action,navigator:l,future:n})}const sP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",oP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ha=y.forwardRef(function(e,t){let{onClick:n,relative:i,reloadDocument:o,replace:l,state:c,target:d,to:p,preventScrollReset:m,viewTransition:v}=e,E=ZI(e,tP),{basename:S}=y.useContext(io),T,L=!1;if(typeof p=="string"&&oP.test(p)&&(T=p,sP))try{let H=new URL(window.location.href),j=p.startsWith("//")?new URL(H.protocol+p):new URL(p),z=cg(j.pathname,S);j.origin===H.origin&&z!=null?p=z+j.search+j.hash:L=!0}catch{}let P=MI(p,{relative:i}),V=aP(p,{replace:l,state:c,target:d,preventScrollReset:m,relative:i,viewTransition:v});function F(H){n&&n(H),H.defaultPrevented||V(H)}return y.createElement("a",Dm({},E,{href:T||P,onClick:L||o?n:F,ref:t,target:d}))});var q_;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(q_||(q_={}));var K_;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(K_||(K_={}));function aP(r,e){let{target:t,replace:n,state:i,preventScrollReset:o,relative:l,viewTransition:c}=e===void 0?{}:e,d=Gu(),p=Ku(),m=kS(r,{relative:l});return y.useCallback(v=>{if(eP(v,t)){v.preventDefault();let E=n!==void 0?n:rf(p)===rf(m);d(r,{replace:E,state:i,preventScrollReset:o,relative:l,viewTransition:c})}},[p,d,m,n,i,t,r,o,l,c])}var G_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS=function(r){const e=[];let t=0;for(let n=0;n<r.length;n++){let i=r.charCodeAt(n);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&n+1<r.length&&(r.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(r.charCodeAt(++n)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},lP=function(r){const e=[];let t=0,n=0;for(;t<r.length;){const i=r[t++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const o=r[t++];e[n++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=r[t++],l=r[t++],c=r[t++],d=((i&7)<<18|(o&63)<<12|(l&63)<<6|c&63)-65536;e[n++]=String.fromCharCode(55296+(d>>10)),e[n++]=String.fromCharCode(56320+(d&1023))}else{const o=r[t++],l=r[t++];e[n++]=String.fromCharCode((i&15)<<12|(o&63)<<6|l&63)}}return e.join("")},DS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<r.length;i+=3){const o=r[i],l=i+1<r.length,c=l?r[i+1]:0,d=i+2<r.length,p=d?r[i+2]:0,m=o>>2,v=(o&3)<<4|c>>4;let E=(c&15)<<2|p>>6,S=p&63;d||(S=64,l||(E=64)),n.push(t[m],t[v],t[E],t[S])}return n.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(PS(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):lP(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<r.length;){const o=t[r.charAt(i++)],c=i<r.length?t[r.charAt(i)]:0;++i;const p=i<r.length?t[r.charAt(i)]:64;++i;const v=i<r.length?t[r.charAt(i)]:64;if(++i,o==null||c==null||p==null||v==null)throw new uP;const E=o<<2|c>>4;if(n.push(E),p!==64){const S=c<<4&240|p>>2;if(n.push(S),v!==64){const T=p<<6&192|v;n.push(T)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class uP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const cP=function(r){const e=PS(r);return DS.encodeByteArray(e,!0)},of=function(r){return cP(r).replace(/\./g,"")},xS=function(r){try{return DS.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fP=()=>dP().__FIREBASE_DEFAULTS__,hP=()=>{if(typeof process>"u"||typeof G_>"u")return;const r=G_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},pP=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&xS(r[1]);return e&&JSON.parse(e)},qf=()=>{try{return fP()||hP()||pP()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},LS=r=>{var e,t;return(t=(e=qf())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},mP=r=>{const e=LS(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),n]:[e.substring(0,t),n]},RS=()=>{var r;return(r=qf())===null||r===void 0?void 0:r.config},MS=r=>{var e;return(e=qf())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vP(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},n=e||"demo-project",i=r.iat||0,o=r.sub||r.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},r);return[of(JSON.stringify(t)),of(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function yP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gn())}function _P(){var r;const e=(r=qf())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function wP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function EP(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function CP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function SP(){const r=gn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function TP(){return!_P()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function kP(){try{return typeof indexedDB=="object"}catch{return!1}}function bP(){return new Promise((r,e)=>{try{let t=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(n),r(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP="FirebaseError";class Zi extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=IP,Object.setPrototypeOf(this,Zi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qu.prototype.create)}}class Qu{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],l=o?PP(o,n):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new Zi(i,c,n)}}function PP(r,e){return r.replace(DP,(t,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const DP=/\{\$([^}]+)}/g;function xP(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function af(r,e){if(r===e)return!0;const t=Object.keys(r),n=Object.keys(e);for(const i of t){if(!n.includes(i))return!1;const o=r[i],l=e[i];if(Q_(o)&&Q_(l)){if(!af(o,l))return!1}else if(o!==l)return!1}for(const i of n)if(!t.includes(i))return!1;return!0}function Q_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xu(r){const e=[];for(const[t,n]of Object.entries(r))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function yu(r){const e={};return r.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,o]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function _u(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function LP(r,e){const t=new RP(r,e);return t.subscribe.bind(t)}class RP{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let i;if(e===void 0&&t===void 0&&n===void 0)throw new Error("Missing Observer.");MP(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:n},i.next===void 0&&(i.next=nm),i.error===void 0&&(i.error=nm),i.complete===void 0&&(i.complete=nm);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function MP(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function nm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(r){return r&&r._delegate?r._delegate:r}class Ho{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const n=new gP;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(NP(e))try{this.getOrInitializeService({instanceIdentifier:Oo})}catch{}for(const[t,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:i});n.resolve(o)}catch{}}}}clearInstance(e=Oo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Oo){return this.instances.has(e)}getOptions(e=Oo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[o,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);n===c&&l.resolve(i)}return i}onInit(e,t){var n;const i=this.normalizeInstanceIdentifier(t),o=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;o.add(e),this.onInitCallbacks.set(i,o);const l=this.instances.get(i);return l&&e(l,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:OP(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Oo){return this.component?this.component.multipleInstances?e:Oo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function OP(r){return r===Oo?void 0:r}function NP(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new AP(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ke;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ke||(Ke={}));const FP={debug:Ke.DEBUG,verbose:Ke.VERBOSE,info:Ke.INFO,warn:Ke.WARN,error:Ke.ERROR,silent:Ke.SILENT},UP=Ke.INFO,jP={[Ke.DEBUG]:"log",[Ke.VERBOSE]:"log",[Ke.INFO]:"info",[Ke.WARN]:"warn",[Ke.ERROR]:"error"},BP=(r,e,...t)=>{if(e<r.logLevel)return;const n=new Date().toISOString(),i=jP[e];if(i)console[i](`[${n}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class pg{constructor(e){this.name=e,this._logLevel=UP,this._logHandler=BP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?FP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ke.DEBUG,...e),this._logHandler(this,Ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ke.VERBOSE,...e),this._logHandler(this,Ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ke.INFO,...e),this._logHandler(this,Ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ke.WARN,...e),this._logHandler(this,Ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ke.ERROR,...e),this._logHandler(this,Ke.ERROR,...e)}}const zP=(r,e)=>e.some(t=>r instanceof t);let X_,Z_;function WP(){return X_||(X_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function HP(){return Z_||(Z_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const AS=new WeakMap,xm=new WeakMap,OS=new WeakMap,rm=new WeakMap,mg=new WeakMap;function $P(r){const e=new Promise((t,n)=>{const i=()=>{r.removeEventListener("success",o),r.removeEventListener("error",l)},o=()=>{t(Bs(r.result)),i()},l=()=>{n(r.error),i()};r.addEventListener("success",o),r.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&AS.set(t,r)}).catch(()=>{}),mg.set(e,r),e}function YP(r){if(xm.has(r))return;const e=new Promise((t,n)=>{const i=()=>{r.removeEventListener("complete",o),r.removeEventListener("error",l),r.removeEventListener("abort",l)},o=()=>{t(),i()},l=()=>{n(r.error||new DOMException("AbortError","AbortError")),i()};r.addEventListener("complete",o),r.addEventListener("error",l),r.addEventListener("abort",l)});xm.set(r,e)}let Lm={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return xm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||OS.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Bs(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function qP(r){Lm=r(Lm)}function KP(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const n=r.call(im(this),e,...t);return OS.set(n,e.sort?e.sort():[e]),Bs(n)}:HP().includes(r)?function(...e){return r.apply(im(this),e),Bs(AS.get(this))}:function(...e){return Bs(r.apply(im(this),e))}}function GP(r){return typeof r=="function"?KP(r):(r instanceof IDBTransaction&&YP(r),zP(r,WP())?new Proxy(r,Lm):r)}function Bs(r){if(r instanceof IDBRequest)return $P(r);if(rm.has(r))return rm.get(r);const e=GP(r);return e!==r&&(rm.set(r,e),mg.set(e,r)),e}const im=r=>mg.get(r);function QP(r,e,{blocked:t,upgrade:n,blocking:i,terminated:o}={}){const l=indexedDB.open(r,e),c=Bs(l);return n&&l.addEventListener("upgradeneeded",d=>{n(Bs(l.result),d.oldVersion,d.newVersion,Bs(l.transaction),d)}),t&&l.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),c.then(d=>{o&&d.addEventListener("close",()=>o()),i&&d.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),c}const XP=["get","getKey","getAll","getAllKeys","count"],ZP=["put","add","delete","clear"],sm=new Map;function J_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(sm.get(e))return sm.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,i=ZP.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(i||XP.includes(t)))return;const o=async function(l,...c){const d=this.transaction(l,i?"readwrite":"readonly");let p=d.store;return n&&(p=p.index(c.shift())),(await Promise.all([p[t](...c),i&&d.done]))[0]};return sm.set(e,o),o}qP(r=>({...r,get:(e,t,n)=>J_(e,t)||r.get(e,t,n),has:(e,t)=>!!J_(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(eD(t)){const n=t.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(t=>t).join(" ")}}function eD(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Rm="@firebase/app",ew="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i=new pg("@firebase/app"),tD="@firebase/app-compat",nD="@firebase/analytics-compat",rD="@firebase/analytics",iD="@firebase/app-check-compat",sD="@firebase/app-check",oD="@firebase/auth",aD="@firebase/auth-compat",lD="@firebase/database",uD="@firebase/data-connect",cD="@firebase/database-compat",dD="@firebase/functions",fD="@firebase/functions-compat",hD="@firebase/installations",pD="@firebase/installations-compat",mD="@firebase/messaging",gD="@firebase/messaging-compat",vD="@firebase/performance",yD="@firebase/performance-compat",_D="@firebase/remote-config",wD="@firebase/remote-config-compat",ED="@firebase/storage",CD="@firebase/storage-compat",SD="@firebase/firestore",TD="@firebase/vertexai",kD="@firebase/firestore-compat",bD="firebase",ID="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mm="[DEFAULT]",PD={[Rm]:"fire-core",[tD]:"fire-core-compat",[rD]:"fire-analytics",[nD]:"fire-analytics-compat",[sD]:"fire-app-check",[iD]:"fire-app-check-compat",[oD]:"fire-auth",[aD]:"fire-auth-compat",[lD]:"fire-rtdb",[uD]:"fire-data-connect",[cD]:"fire-rtdb-compat",[dD]:"fire-fn",[fD]:"fire-fn-compat",[hD]:"fire-iid",[pD]:"fire-iid-compat",[mD]:"fire-fcm",[gD]:"fire-fcm-compat",[vD]:"fire-perf",[yD]:"fire-perf-compat",[_D]:"fire-rc",[wD]:"fire-rc-compat",[ED]:"fire-gcs",[CD]:"fire-gcs-compat",[SD]:"fire-fst",[kD]:"fire-fst-compat",[TD]:"fire-vertex","fire-js":"fire-js",[bD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lf=new Map,DD=new Map,Am=new Map;function tw(r,e){try{r.container.addComponent(e)}catch(t){$i.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function el(r){const e=r.name;if(Am.has(e))return $i.debug(`There were multiple attempts to register component ${e}.`),!1;Am.set(e,r);for(const t of lf.values())tw(t,r);for(const t of DD.values())tw(t,r);return!0}function gg(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function ci(r){return r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},zs=new Qu("app","Firebase",xD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Ho("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yl=ID;function NS(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const n=Object.assign({name:Mm,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw zs.create("bad-app-name",{appName:String(i)});if(t||(t=RS()),!t)throw zs.create("no-options");const o=lf.get(i);if(o){if(af(t,o.options)&&af(n,o.config))return o;throw zs.create("duplicate-app",{appName:i})}const l=new VP(i);for(const d of Am.values())l.addComponent(d);const c=new LD(t,n,l);return lf.set(i,c),c}function VS(r=Mm){const e=lf.get(r);if(!e&&r===Mm&&RS())return NS();if(!e)throw zs.create("no-app",{appName:r});return e}function Ws(r,e,t){var n;let i=(n=PD[r])!==null&&n!==void 0?n:r;t&&(i+=`-${t}`);const o=i.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$i.warn(c.join(" "));return}el(new Ho(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD="firebase-heartbeat-database",MD=1,Au="firebase-heartbeat-store";let om=null;function FS(){return om||(om=QP(RD,MD,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Au)}catch(t){console.warn(t)}}}}).catch(r=>{throw zs.create("idb-open",{originalErrorMessage:r.message})})),om}async function AD(r){try{const t=(await FS()).transaction(Au),n=await t.objectStore(Au).get(US(r));return await t.done,n}catch(e){if(e instanceof Zi)$i.warn(e.message);else{const t=zs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});$i.warn(t.message)}}}async function nw(r,e){try{const n=(await FS()).transaction(Au,"readwrite");await n.objectStore(Au).put(e,US(r)),await n.done}catch(t){if(t instanceof Zi)$i.warn(t.message);else{const n=zs.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});$i.warn(n.message)}}}function US(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD=1024,ND=30*24*60*60*1e3;class VD{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new UD(t),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=rw();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(l=>{const c=new Date(l.date).valueOf();return Date.now()-c<=ND}),this._storage.overwrite(this._heartbeatsCache))}catch(n){$i.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=rw(),{heartbeatsToSend:n,unsentEntries:i}=FD(this._heartbeatsCache.heartbeats),o=of(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return $i.warn(t),""}}}function rw(){return new Date().toISOString().substring(0,10)}function FD(r,e=OD){const t=[];let n=r.slice();for(const i of r){const o=t.find(l=>l.agent===i.agent);if(o){if(o.dates.push(i.date),iw(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),iw(t)>e){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}class UD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kP()?bP().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await AD(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return nw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return nw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function iw(r){return of(JSON.stringify({version:2,heartbeats:r})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jD(r){el(new Ho("platform-logger",e=>new JP(e),"PRIVATE")),el(new Ho("heartbeat",e=>new VD(e),"PRIVATE")),Ws(Rm,ew,r),Ws(Rm,ew,"esm2017"),Ws("fire-js","")}jD("");var sw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Hs,jS;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,I){function k(){}k.prototype=I.prototype,D.D=I.prototype,D.prototype=new k,D.prototype.constructor=D,D.C=function(R,A,N){for(var M=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)M[fe-2]=arguments[fe];return I.prototype[A].apply(R,M)}}function t(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,t),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,I,k){k||(k=0);var R=Array(16);if(typeof I=="string")for(var A=0;16>A;++A)R[A]=I.charCodeAt(k++)|I.charCodeAt(k++)<<8|I.charCodeAt(k++)<<16|I.charCodeAt(k++)<<24;else for(A=0;16>A;++A)R[A]=I[k++]|I[k++]<<8|I[k++]<<16|I[k++]<<24;I=D.g[0],k=D.g[1],A=D.g[2];var N=D.g[3],M=I+(N^k&(A^N))+R[0]+3614090360&4294967295;I=k+(M<<7&4294967295|M>>>25),M=N+(A^I&(k^A))+R[1]+3905402710&4294967295,N=I+(M<<12&4294967295|M>>>20),M=A+(k^N&(I^k))+R[2]+606105819&4294967295,A=N+(M<<17&4294967295|M>>>15),M=k+(I^A&(N^I))+R[3]+3250441966&4294967295,k=A+(M<<22&4294967295|M>>>10),M=I+(N^k&(A^N))+R[4]+4118548399&4294967295,I=k+(M<<7&4294967295|M>>>25),M=N+(A^I&(k^A))+R[5]+1200080426&4294967295,N=I+(M<<12&4294967295|M>>>20),M=A+(k^N&(I^k))+R[6]+2821735955&4294967295,A=N+(M<<17&4294967295|M>>>15),M=k+(I^A&(N^I))+R[7]+4249261313&4294967295,k=A+(M<<22&4294967295|M>>>10),M=I+(N^k&(A^N))+R[8]+1770035416&4294967295,I=k+(M<<7&4294967295|M>>>25),M=N+(A^I&(k^A))+R[9]+2336552879&4294967295,N=I+(M<<12&4294967295|M>>>20),M=A+(k^N&(I^k))+R[10]+4294925233&4294967295,A=N+(M<<17&4294967295|M>>>15),M=k+(I^A&(N^I))+R[11]+2304563134&4294967295,k=A+(M<<22&4294967295|M>>>10),M=I+(N^k&(A^N))+R[12]+1804603682&4294967295,I=k+(M<<7&4294967295|M>>>25),M=N+(A^I&(k^A))+R[13]+4254626195&4294967295,N=I+(M<<12&4294967295|M>>>20),M=A+(k^N&(I^k))+R[14]+2792965006&4294967295,A=N+(M<<17&4294967295|M>>>15),M=k+(I^A&(N^I))+R[15]+1236535329&4294967295,k=A+(M<<22&4294967295|M>>>10),M=I+(A^N&(k^A))+R[1]+4129170786&4294967295,I=k+(M<<5&4294967295|M>>>27),M=N+(k^A&(I^k))+R[6]+3225465664&4294967295,N=I+(M<<9&4294967295|M>>>23),M=A+(I^k&(N^I))+R[11]+643717713&4294967295,A=N+(M<<14&4294967295|M>>>18),M=k+(N^I&(A^N))+R[0]+3921069994&4294967295,k=A+(M<<20&4294967295|M>>>12),M=I+(A^N&(k^A))+R[5]+3593408605&4294967295,I=k+(M<<5&4294967295|M>>>27),M=N+(k^A&(I^k))+R[10]+38016083&4294967295,N=I+(M<<9&4294967295|M>>>23),M=A+(I^k&(N^I))+R[15]+3634488961&4294967295,A=N+(M<<14&4294967295|M>>>18),M=k+(N^I&(A^N))+R[4]+3889429448&4294967295,k=A+(M<<20&4294967295|M>>>12),M=I+(A^N&(k^A))+R[9]+568446438&4294967295,I=k+(M<<5&4294967295|M>>>27),M=N+(k^A&(I^k))+R[14]+3275163606&4294967295,N=I+(M<<9&4294967295|M>>>23),M=A+(I^k&(N^I))+R[3]+4107603335&4294967295,A=N+(M<<14&4294967295|M>>>18),M=k+(N^I&(A^N))+R[8]+1163531501&4294967295,k=A+(M<<20&4294967295|M>>>12),M=I+(A^N&(k^A))+R[13]+2850285829&4294967295,I=k+(M<<5&4294967295|M>>>27),M=N+(k^A&(I^k))+R[2]+4243563512&4294967295,N=I+(M<<9&4294967295|M>>>23),M=A+(I^k&(N^I))+R[7]+1735328473&4294967295,A=N+(M<<14&4294967295|M>>>18),M=k+(N^I&(A^N))+R[12]+2368359562&4294967295,k=A+(M<<20&4294967295|M>>>12),M=I+(k^A^N)+R[5]+4294588738&4294967295,I=k+(M<<4&4294967295|M>>>28),M=N+(I^k^A)+R[8]+2272392833&4294967295,N=I+(M<<11&4294967295|M>>>21),M=A+(N^I^k)+R[11]+1839030562&4294967295,A=N+(M<<16&4294967295|M>>>16),M=k+(A^N^I)+R[14]+4259657740&4294967295,k=A+(M<<23&4294967295|M>>>9),M=I+(k^A^N)+R[1]+2763975236&4294967295,I=k+(M<<4&4294967295|M>>>28),M=N+(I^k^A)+R[4]+1272893353&4294967295,N=I+(M<<11&4294967295|M>>>21),M=A+(N^I^k)+R[7]+4139469664&4294967295,A=N+(M<<16&4294967295|M>>>16),M=k+(A^N^I)+R[10]+3200236656&4294967295,k=A+(M<<23&4294967295|M>>>9),M=I+(k^A^N)+R[13]+681279174&4294967295,I=k+(M<<4&4294967295|M>>>28),M=N+(I^k^A)+R[0]+3936430074&4294967295,N=I+(M<<11&4294967295|M>>>21),M=A+(N^I^k)+R[3]+3572445317&4294967295,A=N+(M<<16&4294967295|M>>>16),M=k+(A^N^I)+R[6]+76029189&4294967295,k=A+(M<<23&4294967295|M>>>9),M=I+(k^A^N)+R[9]+3654602809&4294967295,I=k+(M<<4&4294967295|M>>>28),M=N+(I^k^A)+R[12]+3873151461&4294967295,N=I+(M<<11&4294967295|M>>>21),M=A+(N^I^k)+R[15]+530742520&4294967295,A=N+(M<<16&4294967295|M>>>16),M=k+(A^N^I)+R[2]+3299628645&4294967295,k=A+(M<<23&4294967295|M>>>9),M=I+(A^(k|~N))+R[0]+4096336452&4294967295,I=k+(M<<6&4294967295|M>>>26),M=N+(k^(I|~A))+R[7]+1126891415&4294967295,N=I+(M<<10&4294967295|M>>>22),M=A+(I^(N|~k))+R[14]+2878612391&4294967295,A=N+(M<<15&4294967295|M>>>17),M=k+(N^(A|~I))+R[5]+4237533241&4294967295,k=A+(M<<21&4294967295|M>>>11),M=I+(A^(k|~N))+R[12]+1700485571&4294967295,I=k+(M<<6&4294967295|M>>>26),M=N+(k^(I|~A))+R[3]+2399980690&4294967295,N=I+(M<<10&4294967295|M>>>22),M=A+(I^(N|~k))+R[10]+4293915773&4294967295,A=N+(M<<15&4294967295|M>>>17),M=k+(N^(A|~I))+R[1]+2240044497&4294967295,k=A+(M<<21&4294967295|M>>>11),M=I+(A^(k|~N))+R[8]+1873313359&4294967295,I=k+(M<<6&4294967295|M>>>26),M=N+(k^(I|~A))+R[15]+4264355552&4294967295,N=I+(M<<10&4294967295|M>>>22),M=A+(I^(N|~k))+R[6]+2734768916&4294967295,A=N+(M<<15&4294967295|M>>>17),M=k+(N^(A|~I))+R[13]+1309151649&4294967295,k=A+(M<<21&4294967295|M>>>11),M=I+(A^(k|~N))+R[4]+4149444226&4294967295,I=k+(M<<6&4294967295|M>>>26),M=N+(k^(I|~A))+R[11]+3174756917&4294967295,N=I+(M<<10&4294967295|M>>>22),M=A+(I^(N|~k))+R[2]+718787259&4294967295,A=N+(M<<15&4294967295|M>>>17),M=k+(N^(A|~I))+R[9]+3951481745&4294967295,D.g[0]=D.g[0]+I&4294967295,D.g[1]=D.g[1]+(A+(M<<21&4294967295|M>>>11))&4294967295,D.g[2]=D.g[2]+A&4294967295,D.g[3]=D.g[3]+N&4294967295}n.prototype.u=function(D,I){I===void 0&&(I=D.length);for(var k=I-this.blockSize,R=this.B,A=this.h,N=0;N<I;){if(A==0)for(;N<=k;)i(this,D,N),N+=this.blockSize;if(typeof D=="string"){for(;N<I;)if(R[A++]=D.charCodeAt(N++),A==this.blockSize){i(this,R),A=0;break}}else for(;N<I;)if(R[A++]=D[N++],A==this.blockSize){i(this,R),A=0;break}}this.h=A,this.o+=I},n.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var I=1;I<D.length-8;++I)D[I]=0;var k=8*this.o;for(I=D.length-8;I<D.length;++I)D[I]=k&255,k/=256;for(this.u(D),D=Array(16),I=k=0;4>I;++I)for(var R=0;32>R;R+=8)D[k++]=this.g[I]>>>R&255;return D};function o(D,I){var k=c;return Object.prototype.hasOwnProperty.call(k,D)?k[D]:k[D]=I(D)}function l(D,I){this.h=I;for(var k=[],R=!0,A=D.length-1;0<=A;A--){var N=D[A]|0;R&&N==I||(k[A]=N,R=!1)}this.g=k}var c={};function d(D){return-128<=D&&128>D?o(D,function(I){return new l([I|0],0>I?-1:0)}):new l([D|0],0>D?-1:0)}function p(D){if(isNaN(D)||!isFinite(D))return v;if(0>D)return P(p(-D));for(var I=[],k=1,R=0;D>=k;R++)I[R]=D/k|0,k*=4294967296;return new l(I,0)}function m(D,I){if(D.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(D.charAt(0)=="-")return P(m(D.substring(1),I));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=p(Math.pow(I,8)),R=v,A=0;A<D.length;A+=8){var N=Math.min(8,D.length-A),M=parseInt(D.substring(A,A+N),I);8>N?(N=p(Math.pow(I,N)),R=R.j(N).add(p(M))):(R=R.j(k),R=R.add(p(M)))}return R}var v=d(0),E=d(1),S=d(16777216);r=l.prototype,r.m=function(){if(L(this))return-P(this).m();for(var D=0,I=1,k=0;k<this.g.length;k++){var R=this.i(k);D+=(0<=R?R:4294967296+R)*I,I*=4294967296}return D},r.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(T(this))return"0";if(L(this))return"-"+P(this).toString(D);for(var I=p(Math.pow(D,6)),k=this,R="";;){var A=j(k,I).g;k=V(k,A.j(I));var N=((0<k.g.length?k.g[0]:k.h)>>>0).toString(D);if(k=A,T(k))return N+R;for(;6>N.length;)N="0"+N;R=N+R}},r.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function T(D){if(D.h!=0)return!1;for(var I=0;I<D.g.length;I++)if(D.g[I]!=0)return!1;return!0}function L(D){return D.h==-1}r.l=function(D){return D=V(this,D),L(D)?-1:T(D)?0:1};function P(D){for(var I=D.g.length,k=[],R=0;R<I;R++)k[R]=~D.g[R];return new l(k,~D.h).add(E)}r.abs=function(){return L(this)?P(this):this},r.add=function(D){for(var I=Math.max(this.g.length,D.g.length),k=[],R=0,A=0;A<=I;A++){var N=R+(this.i(A)&65535)+(D.i(A)&65535),M=(N>>>16)+(this.i(A)>>>16)+(D.i(A)>>>16);R=M>>>16,N&=65535,M&=65535,k[A]=M<<16|N}return new l(k,k[k.length-1]&-2147483648?-1:0)};function V(D,I){return D.add(P(I))}r.j=function(D){if(T(this)||T(D))return v;if(L(this))return L(D)?P(this).j(P(D)):P(P(this).j(D));if(L(D))return P(this.j(P(D)));if(0>this.l(S)&&0>D.l(S))return p(this.m()*D.m());for(var I=this.g.length+D.g.length,k=[],R=0;R<2*I;R++)k[R]=0;for(R=0;R<this.g.length;R++)for(var A=0;A<D.g.length;A++){var N=this.i(R)>>>16,M=this.i(R)&65535,fe=D.i(A)>>>16,me=D.i(A)&65535;k[2*R+2*A]+=M*me,F(k,2*R+2*A),k[2*R+2*A+1]+=N*me,F(k,2*R+2*A+1),k[2*R+2*A+1]+=M*fe,F(k,2*R+2*A+1),k[2*R+2*A+2]+=N*fe,F(k,2*R+2*A+2)}for(R=0;R<I;R++)k[R]=k[2*R+1]<<16|k[2*R];for(R=I;R<2*I;R++)k[R]=0;return new l(k,0)};function F(D,I){for(;(D[I]&65535)!=D[I];)D[I+1]+=D[I]>>>16,D[I]&=65535,I++}function H(D,I){this.g=D,this.h=I}function j(D,I){if(T(I))throw Error("division by zero");if(T(D))return new H(v,v);if(L(D))return I=j(P(D),I),new H(P(I.g),P(I.h));if(L(I))return I=j(D,P(I)),new H(P(I.g),I.h);if(30<D.g.length){if(L(D)||L(I))throw Error("slowDivide_ only works with positive integers.");for(var k=E,R=I;0>=R.l(D);)k=z(k),R=z(R);var A=$(k,1),N=$(R,1);for(R=$(R,2),k=$(k,2);!T(R);){var M=N.add(R);0>=M.l(D)&&(A=A.add(k),N=M),R=$(R,1),k=$(k,1)}return I=V(D,A.j(I)),new H(A,I)}for(A=v;0<=D.l(I);){for(k=Math.max(1,Math.floor(D.m()/I.m())),R=Math.ceil(Math.log(k)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),N=p(k),M=N.j(I);L(M)||0<M.l(D);)k-=R,N=p(k),M=N.j(I);T(N)&&(N=E),A=A.add(N),D=V(D,M)}return new H(A,D)}r.A=function(D){return j(this,D).h},r.and=function(D){for(var I=Math.max(this.g.length,D.g.length),k=[],R=0;R<I;R++)k[R]=this.i(R)&D.i(R);return new l(k,this.h&D.h)},r.or=function(D){for(var I=Math.max(this.g.length,D.g.length),k=[],R=0;R<I;R++)k[R]=this.i(R)|D.i(R);return new l(k,this.h|D.h)},r.xor=function(D){for(var I=Math.max(this.g.length,D.g.length),k=[],R=0;R<I;R++)k[R]=this.i(R)^D.i(R);return new l(k,this.h^D.h)};function z(D){for(var I=D.g.length+1,k=[],R=0;R<I;R++)k[R]=D.i(R)<<1|D.i(R-1)>>>31;return new l(k,D.h)}function $(D,I){var k=I>>5;I%=32;for(var R=D.g.length-k,A=[],N=0;N<R;N++)A[N]=0<I?D.i(N+k)>>>I|D.i(N+k+1)<<32-I:D.i(N+k);return new l(A,D.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,jS=n,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=m,Hs=l}).apply(typeof sw<"u"?sw:typeof self<"u"?self:typeof window<"u"?window:{});var bd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var BS,wu,zS,Bd,Om,WS,HS,$S;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,_,C){return f==Array.prototype||f==Object.prototype||(f[_]=C.value),f};function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof bd=="object"&&bd];for(var _=0;_<f.length;++_){var C=f[_];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var n=t(this);function i(f,_){if(_)e:{var C=n;f=f.split(".");for(var x=0;x<f.length-1;x++){var Y=f[x];if(!(Y in C))break e;C=C[Y]}f=f[f.length-1],x=C[f],_=_(x),_!=x&&_!=null&&e(C,f,{configurable:!0,writable:!0,value:_})}}function o(f,_){f instanceof String&&(f+="");var C=0,x=!1,Y={next:function(){if(!x&&C<f.length){var ee=C++;return{value:_(ee,f[ee]),done:!1}}return x=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}i("Array.prototype.values",function(f){return f||function(){return o(this,function(_,C){return C})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function d(f){var _=typeof f;return _=_!="object"?_:f?Array.isArray(f)?"array":_:"null",_=="array"||_=="object"&&typeof f.length=="number"}function p(f){var _=typeof f;return _=="object"&&f!=null||_=="function"}function m(f,_,C){return f.call.apply(f.bind,arguments)}function v(f,_,C){if(!f)throw Error();if(2<arguments.length){var x=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,x),f.apply(_,Y)}}return function(){return f.apply(_,arguments)}}function E(f,_,C){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:v,E.apply(null,arguments)}function S(f,_){var C=Array.prototype.slice.call(arguments,1);return function(){var x=C.slice();return x.push.apply(x,arguments),f.apply(this,x)}}function T(f,_){function C(){}C.prototype=_.prototype,f.aa=_.prototype,f.prototype=new C,f.prototype.constructor=f,f.Qb=function(x,Y,ee){for(var ge=Array(arguments.length-2),ut=2;ut<arguments.length;ut++)ge[ut-2]=arguments[ut];return _.prototype[Y].apply(x,ge)}}function L(f){const _=f.length;if(0<_){const C=Array(_);for(let x=0;x<_;x++)C[x]=f[x];return C}return[]}function P(f,_){for(let C=1;C<arguments.length;C++){const x=arguments[C];if(d(x)){const Y=f.length||0,ee=x.length||0;f.length=Y+ee;for(let ge=0;ge<ee;ge++)f[Y+ge]=x[ge]}else f.push(x)}}class V{constructor(_,C){this.i=_,this.j=C,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function F(f){return/^[\s\xa0]*$/.test(f)}function H(){var f=c.navigator;return f&&(f=f.userAgent)?f:""}function j(f){return j[" "](f),f}j[" "]=function(){};var z=H().indexOf("Gecko")!=-1&&!(H().toLowerCase().indexOf("webkit")!=-1&&H().indexOf("Edge")==-1)&&!(H().indexOf("Trident")!=-1||H().indexOf("MSIE")!=-1)&&H().indexOf("Edge")==-1;function $(f,_,C){for(const x in f)_.call(C,f[x],x,f)}function D(f,_){for(const C in f)_.call(void 0,f[C],C,f)}function I(f){const _={};for(const C in f)_[C]=f[C];return _}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(f,_){let C,x;for(let Y=1;Y<arguments.length;Y++){x=arguments[Y];for(C in x)f[C]=x[C];for(let ee=0;ee<k.length;ee++)C=k[ee],Object.prototype.hasOwnProperty.call(x,C)&&(f[C]=x[C])}}function A(f){var _=1;f=f.split(":");const C=[];for(;0<_&&f.length;)C.push(f.shift()),_--;return f.length&&C.push(f.join(":")),C}function N(f){c.setTimeout(()=>{throw f},0)}function M(){var f=ae;let _=null;return f.g&&(_=f.g,f.g=f.g.next,f.g||(f.h=null),_.next=null),_}class fe{constructor(){this.h=this.g=null}add(_,C){const x=me.get();x.set(_,C),this.h?this.h.next=x:this.g=x,this.h=x}}var me=new V(()=>new ce,f=>f.reset());class ce{constructor(){this.next=this.g=this.h=null}set(_,C){this.h=_,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let he,G=!1,ae=new fe,re=()=>{const f=c.Promise.resolve(void 0);he=()=>{f.then(U)}};var U=()=>{for(var f;f=M();){try{f.h.call(f.g)}catch(C){N(C)}var _=me;_.j(f),100>_.h&&(_.h++,f.next=_.g,_.g=f)}G=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(f,_){this.type=f,this.g=this.target=_,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var we=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var f=!1,_=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const C=()=>{};c.addEventListener("test",C,_),c.removeEventListener("test",C,_)}catch{}return f}();function X(f,_){if(oe.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var C=this.type=f.type,x=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=_,_=f.relatedTarget){if(z){e:{try{j(_.nodeName);var Y=!0;break e}catch{}Y=!1}Y||(_=null)}}else C=="mouseover"?_=f.fromElement:C=="mouseout"&&(_=f.toElement);this.relatedTarget=_,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:xe[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&X.aa.h.call(this)}}T(X,oe);var xe={2:"touch",3:"pen",4:"mouse"};X.prototype.h=function(){X.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Le="closure_listenable_"+(1e6*Math.random()|0),ye=0;function Ve(f,_,C,x,Y){this.listener=f,this.proxy=null,this.src=_,this.type=C,this.capture=!!x,this.ha=Y,this.key=++ye,this.da=this.fa=!1}function Se(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function ze(f){this.src=f,this.g={},this.h=0}ze.prototype.add=function(f,_,C,x,Y){var ee=f.toString();f=this.g[ee],f||(f=this.g[ee]=[],this.h++);var ge=Yt(f,_,x,Y);return-1<ge?(_=f[ge],C||(_.fa=!1)):(_=new Ve(_,this.src,ee,!!x,Y),_.fa=C,f.push(_)),_};function $t(f,_){var C=_.type;if(C in f.g){var x=f.g[C],Y=Array.prototype.indexOf.call(x,_,void 0),ee;(ee=0<=Y)&&Array.prototype.splice.call(x,Y,1),ee&&(Se(_),f.g[C].length==0&&(delete f.g[C],f.h--))}}function Yt(f,_,C,x){for(var Y=0;Y<f.length;++Y){var ee=f[Y];if(!ee.da&&ee.listener==_&&ee.capture==!!C&&ee.ha==x)return Y}return-1}var Vn="closure_lm_"+(1e6*Math.random()|0),Qe={};function es(f,_,C,x,Y){if(Array.isArray(_)){for(var ee=0;ee<_.length;ee++)es(f,_[ee],C,x,Y);return null}return C=ns(C),f&&f[Le]?f.K(_,C,p(x)?!!x.capture:!1,Y):jr(f,_,C,!1,x,Y)}function jr(f,_,C,x,Y,ee){if(!_)throw Error("Invalid event type");var ge=p(Y)?!!Y.capture:!!Y,ut=gr(f);if(ut||(f[Vn]=ut=new ze(f)),C=ut.add(_,C,x,ge,ee),C.proxy)return C;if(x=lo(),C.proxy=x,x.src=f,x.listener=C,f.addEventListener)we||(Y=ge),Y===void 0&&(Y=!1),f.addEventListener(_.toString(),x,Y);else if(f.attachEvent)f.attachEvent(kn(_.toString()),x);else if(f.addListener&&f.removeListener)f.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return C}function lo(){function f(C){return _.call(f.src,f.listener,C)}const _=ts;return f}function mr(f,_,C,x,Y){if(Array.isArray(_))for(var ee=0;ee<_.length;ee++)mr(f,_[ee],C,x,Y);else x=p(x)?!!x.capture:!!x,C=ns(C),f&&f[Le]?(f=f.i,_=String(_).toString(),_ in f.g&&(ee=f.g[_],C=Yt(ee,C,x,Y),-1<C&&(Se(ee[C]),Array.prototype.splice.call(ee,C,1),ee.length==0&&(delete f.g[_],f.h--)))):f&&(f=gr(f))&&(_=f.g[_.toString()],f=-1,_&&(f=Yt(_,C,x,Y)),(C=-1<f?_[f]:null)&&Qn(C))}function Qn(f){if(typeof f!="number"&&f&&!f.da){var _=f.src;if(_&&_[Le])$t(_.i,f);else{var C=f.type,x=f.proxy;_.removeEventListener?_.removeEventListener(C,x,f.capture):_.detachEvent?_.detachEvent(kn(C),x):_.addListener&&_.removeListener&&_.removeListener(x),(C=gr(_))?($t(C,f),C.h==0&&(C.src=null,_[Vn]=null)):Se(f)}}}function kn(f){return f in Qe?Qe[f]:Qe[f]="on"+f}function ts(f,_){if(f.da)f=!0;else{_=new X(_,this);var C=f.listener,x=f.ha||f.src;f.fa&&Qn(f),f=C.call(x,_)}return f}function gr(f){return f=f[Vn],f instanceof ze?f:null}var wi="__closure_events_fn_"+(1e9*Math.random()>>>0);function ns(f){return typeof f=="function"?f:(f[wi]||(f[wi]=function(_){return f.handleEvent(_)}),f[wi])}function It(){J.call(this),this.i=new ze(this),this.M=this,this.F=null}T(It,J),It.prototype[Le]=!0,It.prototype.removeEventListener=function(f,_,C,x){mr(this,f,_,C,x)};function _t(f,_){var C,x=f.F;if(x)for(C=[];x;x=x.F)C.push(x);if(f=f.M,x=_.type||_,typeof _=="string")_=new oe(_,f);else if(_ instanceof oe)_.target=_.target||f;else{var Y=_;_=new oe(x,f),R(_,Y)}if(Y=!0,C)for(var ee=C.length-1;0<=ee;ee--){var ge=_.g=C[ee];Y=Xn(ge,x,!0,_)&&Y}if(ge=_.g=f,Y=Xn(ge,x,!0,_)&&Y,Y=Xn(ge,x,!1,_)&&Y,C)for(ee=0;ee<C.length;ee++)ge=_.g=C[ee],Y=Xn(ge,x,!1,_)&&Y}It.prototype.N=function(){if(It.aa.N.call(this),this.i){var f=this.i,_;for(_ in f.g){for(var C=f.g[_],x=0;x<C.length;x++)Se(C[x]);delete f.g[_],f.h--}}this.F=null},It.prototype.K=function(f,_,C,x){return this.i.add(String(f),_,!1,C,x)},It.prototype.L=function(f,_,C,x){return this.i.add(String(f),_,!0,C,x)};function Xn(f,_,C,x){if(_=f.i.g[String(_)],!_)return!0;_=_.concat();for(var Y=!0,ee=0;ee<_.length;++ee){var ge=_[ee];if(ge&&!ge.da&&ge.capture==C){var ut=ge.listener,Ut=ge.ha||ge.src;ge.fa&&$t(f.i,ge),Y=ut.call(Ut,x)!==!1&&Y}}return Y&&!x.defaultPrevented}function Br(f,_,C){if(typeof f=="function")C&&(f=E(f,C));else if(f&&typeof f.handleEvent=="function")f=E(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:c.setTimeout(f,_||0)}function vr(f){f.g=Br(()=>{f.g=null,f.i&&(f.i=!1,vr(f))},f.l);const _=f.h;f.h=null,f.m.apply(null,_)}class Zn extends J{constructor(_,C){super(),this.m=_,this.l=C,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:vr(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zr(f){J.call(this),this.h=f,this.g={}}T(zr,J);var Wr=[];function rs(f){$(f.g,function(_,C){this.g.hasOwnProperty(C)&&Qn(_)},f),f.g={}}zr.prototype.N=function(){zr.aa.N.call(this),rs(this)},zr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Hr=c.JSON.stringify,is=c.JSON.parse,$r=class{stringify(f){return c.JSON.stringify(f,void 0)}parse(f){return c.JSON.parse(f,void 0)}};function Yr(){}Yr.prototype.h=null;function yr(f){return f.h||(f.h=f.i())}function Ei(){}var vn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Fn(){oe.call(this,"d")}T(Fn,oe);function _r(){oe.call(this,"c")}T(_r,oe);var Un={},qr=null;function Kr(){return qr=qr||new It}Un.La="serverreachability";function Gr(f){oe.call(this,Un.La,f)}T(Gr,oe);function Jn(f){const _=Kr();_t(_,new Gr(_))}Un.STAT_EVENT="statevent";function uo(f,_){oe.call(this,Un.STAT_EVENT,f),this.stat=_}T(uo,oe);function ft(f){const _=Kr();_t(_,new uo(_,f))}Un.Ma="timingevent";function Oe(f,_){oe.call(this,Un.Ma,f),this.size=_}T(Oe,oe);function wr(f,_){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){f()},_)}function co(){this.g=!0}co.prototype.xa=function(){this.g=!1};function fo(f,_,C,x,Y,ee){f.info(function(){if(f.g)if(ee)for(var ge="",ut=ee.split("&"),Ut=0;Ut<ut.length;Ut++){var Je=ut[Ut].split("=");if(1<Je.length){var qt=Je[0];Je=Je[1];var Ot=qt.split("_");ge=2<=Ot.length&&Ot[1]=="type"?ge+(qt+"="+Je+"&"):ge+(qt+"=redacted&")}}else ge=null;else ge=ee;return"XMLHTTP REQ ("+x+") [attempt "+Y+"]: "+_+`
`+C+`
`+ge})}function ta(f,_,C,x,Y,ee,ge){f.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+Y+"]: "+_+`
`+C+`
`+ee+" "+ge})}function Er(f,_,C,x){f.info(function(){return"XMLHTTP TEXT ("+_+"): "+Th(f,C)+(x?" "+x:"")})}function Dl(f,_){f.info(function(){return"TIMEOUT: "+_})}co.prototype.info=function(){};function Th(f,_){if(!f.g)return _;if(!_)return null;try{var C=JSON.parse(_);if(C){for(f=0;f<C.length;f++)if(Array.isArray(C[f])){var x=C[f];if(!(2>x.length)){var Y=x[1];if(Array.isArray(Y)&&!(1>Y.length)){var ee=Y[0];if(ee!="noop"&&ee!="stop"&&ee!="close")for(var ge=1;ge<Y.length;ge++)Y[ge]=""}}}}return Hr(C)}catch{return _}}var na={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},dc={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Cr;function ho(){}T(ho,Yr),ho.prototype.g=function(){return new XMLHttpRequest},ho.prototype.i=function(){return{}},Cr=new ho;function Sr(f,_,C,x){this.j=f,this.i=_,this.l=C,this.R=x||1,this.U=new zr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new fc}function fc(){this.i=null,this.g="",this.h=!1}var xl={},ra={};function ia(f,_,C){f.L=1,f.v=us(Bn(_)),f.m=C,f.P=!0,Ll(f,null)}function Ll(f,_){f.F=Date.now(),pt(f),f.A=Bn(f.v);var C=f.A,x=f.R;Array.isArray(x)||(x=[String(x)]),ds(C.i,"t",x),f.C=0,C=f.j.J,f.h=new fc,f.g=xc(f.j,C?_:null,!f.m),0<f.O&&(f.M=new Zn(E(f.Y,f,f.g),f.O)),_=f.U,C=f.g,x=f.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&(Wr[0]=Y.toString()),Y=Wr);for(var ee=0;ee<Y.length;ee++){var ge=es(C,Y[ee],x||_.handleEvent,!1,_.h||_);if(!ge)break;_.g[ge.key]=ge}_=f.H?I(f.H):{},f.m?(f.u||(f.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,_)):(f.u="GET",f.g.ea(f.A,f.u,null,_)),Jn(),fo(f.i,f.u,f.A,f.l,f.R,f.m)}Sr.prototype.ca=function(f){f=f.target;const _=this.M;_&&In(f)==3?_.j():this.Y(f)},Sr.prototype.Y=function(f){try{if(f==this.g)e:{const Ot=In(this.g);var _=this.g.Ba();const nr=this.g.Z();if(!(3>Ot)&&(Ot!=3||this.g&&(this.h.h||this.g.oa()||Vl(this.g)))){this.J||Ot!=4||_==7||(_==8||0>=nr?Jn(3):Jn(2)),po(this);var C=this.g.Z();this.X=C;t:if(hc(this)){var x=Vl(this.g);f="";var Y=x.length,ee=In(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){er(this),ss(this);var ge="";break t}this.h.i=new c.TextDecoder}for(_=0;_<Y;_++)this.h.h=!0,f+=this.h.i.decode(x[_],{stream:!(ee&&_==Y-1)});x.length=0,this.h.g+=f,this.C=0,ge=this.h.g}else ge=this.g.oa();if(this.o=C==200,ta(this.i,this.u,this.A,this.l,this.R,Ot,C),this.o){if(this.T&&!this.K){t:{if(this.g){var ut,Ut=this.g;if((ut=Ut.g?Ut.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(ut)){var Je=ut;break t}}Je=null}if(C=Je)Er(this.i,this.l,C,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Rl(this,C);else{this.o=!1,this.s=3,ft(12),er(this),ss(this);break e}}if(this.P){C=!0;let Wn;for(;!this.J&&this.C<ge.length;)if(Wn=kh(this,ge),Wn==ra){Ot==4&&(this.s=4,ft(14),C=!1),Er(this.i,this.l,null,"[Incomplete Response]");break}else if(Wn==xl){this.s=4,ft(15),Er(this.i,this.l,ge,"[Invalid Chunk]"),C=!1;break}else Er(this.i,this.l,Wn,null),Rl(this,Wn);if(hc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ot!=4||ge.length!=0||this.h.h||(this.s=1,ft(16),C=!1),this.o=this.o&&C,!C)Er(this.i,this.l,ge,"[Invalid Chunked Response]"),er(this),ss(this);else if(0<ge.length&&!this.W){this.W=!0;var qt=this.j;qt.g==this&&qt.ba&&!qt.M&&(qt.j.info("Great, no buffering proxy detected. Bytes received: "+ge.length),Ul(qt),qt.M=!0,ft(11))}}else Er(this.i,this.l,ge,null),Rl(this,ge);Ot==4&&er(this),this.o&&!this.J&&(Ot==4?ma(this.j,this):(this.o=!1,pt(this)))}else ca(this.g),C==400&&0<ge.indexOf("Unknown SID")?(this.s=3,ft(12)):(this.s=0,ft(13)),er(this),ss(this)}}}catch{}finally{}};function hc(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function kh(f,_){var C=f.C,x=_.indexOf(`
`,C);return x==-1?ra:(C=Number(_.substring(C,x)),isNaN(C)?xl:(x+=1,x+C>_.length?ra:(_=_.slice(x,x+C),f.C=x+C,_)))}Sr.prototype.cancel=function(){this.J=!0,er(this)};function pt(f){f.S=Date.now()+f.I,pc(f,f.I)}function pc(f,_){if(f.B!=null)throw Error("WatchDog timer not null");f.B=wr(E(f.ba,f),_)}function po(f){f.B&&(c.clearTimeout(f.B),f.B=null)}Sr.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Dl(this.i,this.A),this.L!=2&&(Jn(),ft(17)),er(this),this.s=2,ss(this)):pc(this,this.S-f)};function ss(f){f.j.G==0||f.J||ma(f.j,f)}function er(f){po(f);var _=f.M;_&&typeof _.ma=="function"&&_.ma(),f.M=null,rs(f.U),f.g&&(_=f.g,f.g=null,_.abort(),_.ma())}function Rl(f,_){try{var C=f.j;if(C.G!=0&&(C.g==f||yn(C.h,f))){if(!f.K&&yn(C.h,f)&&C.G==3){try{var x=C.Da.g.parse(_)}catch{x=null}if(Array.isArray(x)&&x.length==3){var Y=x;if(Y[0]==0){e:if(!C.u){if(C.g)if(C.g.F+3e3<f.F)pa(C),Pr(C);else break e;ha(C),ft(18)}}else C.za=Y[1],0<C.za-C.T&&37500>Y[2]&&C.F&&C.v==0&&!C.C&&(C.C=wr(E(C.Za,C),6e3));if(1>=gc(C.h)&&C.ca){try{C.ca()}catch{}C.ca=void 0}}else bi(C,11)}else if((f.K||C.g==f)&&pa(C),!F(_))for(Y=C.Da.g.parse(_),_=0;_<Y.length;_++){let Je=Y[_];if(C.T=Je[0],Je=Je[1],C.G==2)if(Je[0]=="c"){C.K=Je[1],C.ia=Je[2];const qt=Je[3];qt!=null&&(C.la=qt,C.j.info("VER="+C.la));const Ot=Je[4];Ot!=null&&(C.Aa=Ot,C.j.info("SVER="+C.Aa));const nr=Je[5];nr!=null&&typeof nr=="number"&&0<nr&&(x=1.5*nr,C.L=x,C.j.info("backChannelRequestTimeoutMs_="+x)),x=C;const Wn=f.g;if(Wn){const Eo=Wn.g?Wn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Eo){var ee=x.h;ee.g||Eo.indexOf("spdy")==-1&&Eo.indexOf("quic")==-1&&Eo.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&(Ml(ee,ee.h),ee.h=null))}if(x.D){const va=Wn.g?Wn.g.getResponseHeader("X-HTTP-Session-Id"):null;va&&(x.ya=va,ht(x.I,x.D,va))}}C.G=3,C.l&&C.l.ua(),C.ba&&(C.R=Date.now()-f.F,C.j.info("Handshake RTT: "+C.R+"ms")),x=C;var ge=f;if(x.qa=Dc(x,x.J?x.ia:null,x.W),ge.K){vc(x.h,ge);var ut=ge,Ut=x.L;Ut&&(ut.I=Ut),ut.B&&(po(ut),pt(ut)),x.g=ge}else wo(x);0<C.i.length&&Jr(C)}else Je[0]!="stop"&&Je[0]!="close"||bi(C,7);else C.G==3&&(Je[0]=="stop"||Je[0]=="close"?Je[0]=="stop"?bi(C,7):tn(C):Je[0]!="noop"&&C.l&&C.l.ta(Je),C.v=0)}}Jn(4)}catch{}}var mc=class{constructor(f,_){this.g=f,this.map=_}};function mo(f){this.l=f||10,c.PerformanceNavigationTiming?(f=c.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function jn(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function gc(f){return f.h?1:f.g?f.g.size:0}function yn(f,_){return f.h?f.h==_:f.g?f.g.has(_):!1}function Ml(f,_){f.g?f.g.add(_):f.h=_}function vc(f,_){f.h&&f.h==_?f.h=null:f.g&&f.g.has(_)&&f.g.delete(_)}mo.prototype.cancel=function(){if(this.i=yc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function yc(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let _=f.i;for(const C of f.g.values())_=_.concat(C.D);return _}return L(f.i)}function sa(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(d(f)){for(var _=[],C=f.length,x=0;x<C;x++)_.push(f[x]);return _}_=[],C=0;for(x in f)_[C++]=f[x];return _}function oa(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(d(f)||typeof f=="string"){var _=[];f=f.length;for(var C=0;C<f;C++)_.push(C);return _}_=[],C=0;for(const x in f)_[C++]=x;return _}}}function os(f,_){if(f.forEach&&typeof f.forEach=="function")f.forEach(_,void 0);else if(d(f)||typeof f=="string")Array.prototype.forEach.call(f,_,void 0);else for(var C=oa(f),x=sa(f),Y=x.length,ee=0;ee<Y;ee++)_.call(void 0,x[ee],C&&C[ee],f)}var go=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function bh(f,_){if(f){f=f.split("&");for(var C=0;C<f.length;C++){var x=f[C].indexOf("="),Y=null;if(0<=x){var ee=f[C].substring(0,x);Y=f[C].substring(x+1)}else ee=f[C];_(ee,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function Ci(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Ci){this.h=f.h,vo(this,f.j),this.o=f.o,this.g=f.g,as(this,f.s),this.l=f.l;var _=f.i,C=new Qr;C.i=_.i,_.g&&(C.g=new Map(_.g),C.h=_.h),ls(this,C),this.m=f.m}else f&&(_=String(f).match(go))?(this.h=!1,vo(this,_[1]||"",!0),this.o=Xe(_[2]||""),this.g=Xe(_[3]||"",!0),as(this,_[4]),this.l=Xe(_[5]||"",!0),ls(this,_[6]||"",!0),this.m=Xe(_[7]||"")):(this.h=!1,this.i=new Qr(null,this.h))}Ci.prototype.toString=function(){var f=[],_=this.j;_&&f.push(cs(_,aa,!0),":");var C=this.g;return(C||_=="file")&&(f.push("//"),(_=this.o)&&f.push(cs(_,aa,!0),"@"),f.push(encodeURIComponent(String(C)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.s,C!=null&&f.push(":",String(C))),(C=this.l)&&(this.g&&C.charAt(0)!="/"&&f.push("/"),f.push(cs(C,C.charAt(0)=="/"?Ec:wc,!0))),(C=this.i.toString())&&f.push("?",C),(C=this.m)&&f.push("#",cs(C,Al)),f.join("")};function Bn(f){return new Ci(f)}function vo(f,_,C){f.j=C?Xe(_,!0):_,f.j&&(f.j=f.j.replace(/:$/,""))}function as(f,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);f.s=_}else f.s=null}function ls(f,_,C){_ instanceof Qr?(f.i=_,Xr(f.i,f.h)):(C||(_=cs(_,Cc)),f.i=new Qr(_,f.h))}function ht(f,_,C){f.i.set(_,C)}function us(f){return ht(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Xe(f,_){return f?_?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function cs(f,_,C){return typeof f=="string"?(f=encodeURI(f).replace(_,_c),C&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function _c(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var aa=/[#\/\?@]/g,wc=/[#\?:]/g,Ec=/[#\?]/g,Cc=/[#\?@]/g,Al=/#/g;function Qr(f,_){this.h=this.g=null,this.i=f||null,this.j=!!_}function en(f){f.g||(f.g=new Map,f.h=0,f.i&&bh(f.i,function(_,C){f.add(decodeURIComponent(_.replace(/\+/g," ")),C)}))}r=Qr.prototype,r.add=function(f,_){en(this),this.i=null,f=tr(this,f);var C=this.g.get(f);return C||this.g.set(f,C=[]),C.push(_),this.h+=1,this};function Tr(f,_){en(f),_=tr(f,_),f.g.has(_)&&(f.i=null,f.h-=f.g.get(_).length,f.g.delete(_))}function kr(f,_){return en(f),_=tr(f,_),f.g.has(_)}r.forEach=function(f,_){en(this),this.g.forEach(function(C,x){C.forEach(function(Y){f.call(_,Y,x,this)},this)},this)},r.na=function(){en(this);const f=Array.from(this.g.values()),_=Array.from(this.g.keys()),C=[];for(let x=0;x<_.length;x++){const Y=f[x];for(let ee=0;ee<Y.length;ee++)C.push(_[x])}return C},r.V=function(f){en(this);let _=[];if(typeof f=="string")kr(this,f)&&(_=_.concat(this.g.get(tr(this,f))));else{f=Array.from(this.g.values());for(let C=0;C<f.length;C++)_=_.concat(f[C])}return _},r.set=function(f,_){return en(this),this.i=null,f=tr(this,f),kr(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[_]),this.h+=1,this},r.get=function(f,_){return f?(f=this.V(f),0<f.length?String(f[0]):_):_};function ds(f,_,C){Tr(f,_),0<C.length&&(f.i=null,f.g.set(tr(f,_),L(C)),f.h+=C.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],_=Array.from(this.g.keys());for(var C=0;C<_.length;C++){var x=_[C];const ee=encodeURIComponent(String(x)),ge=this.V(x);for(x=0;x<ge.length;x++){var Y=ee;ge[x]!==""&&(Y+="="+encodeURIComponent(String(ge[x]))),f.push(Y)}}return this.i=f.join("&")};function tr(f,_){return _=String(_),f.j&&(_=_.toLowerCase()),_}function Xr(f,_){_&&!f.j&&(en(f),f.i=null,f.g.forEach(function(C,x){var Y=x.toLowerCase();x!=Y&&(Tr(this,x),ds(this,Y,C))},f)),f.j=_}function Ih(f,_){const C=new co;if(c.Image){const x=new Image;x.onload=S(bn,C,"TestLoadImage: loaded",!0,_,x),x.onerror=S(bn,C,"TestLoadImage: error",!1,_,x),x.onabort=S(bn,C,"TestLoadImage: abort",!1,_,x),x.ontimeout=S(bn,C,"TestLoadImage: timeout",!1,_,x),c.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=f}else _(!1)}function Sc(f,_){const C=new co,x=new AbortController,Y=setTimeout(()=>{x.abort(),bn(C,"TestPingServer: timeout",!1,_)},1e4);fetch(f,{signal:x.signal}).then(ee=>{clearTimeout(Y),ee.ok?bn(C,"TestPingServer: ok",!0,_):bn(C,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(Y),bn(C,"TestPingServer: error",!1,_)})}function bn(f,_,C,x,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),x(C)}catch{}}function Ph(){this.g=new $r}function Tc(f,_,C){const x=C||"";try{os(f,function(Y,ee){let ge=Y;p(Y)&&(ge=Hr(Y)),_.push(x+ee+"="+encodeURIComponent(ge))})}catch(Y){throw _.push(x+"type="+encodeURIComponent("_badmap")),Y}}function Si(f){this.l=f.Ub||null,this.j=f.eb||!1}T(Si,Yr),Si.prototype.g=function(){return new yo(this.l,this.j)},Si.prototype.i=function(f){return function(){return f}}({});function yo(f,_){It.call(this),this.D=f,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(yo,It),r=yo.prototype,r.open=function(f,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=_,this.readyState=1,Ir(this)},r.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(_.body=f),(this.D||c).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,br(this)),this.readyState=0},r.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Ir(this)),this.g&&(this.readyState=3,Ir(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;kc(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function kc(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}r.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var _=f.value?f.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!f.done}))&&(this.response=this.responseText+=_)}f.done?br(this):Ir(this),this.readyState==3&&kc(this)}},r.Ra=function(f){this.g&&(this.response=this.responseText=f,br(this))},r.Qa=function(f){this.g&&(this.response=f,br(this))},r.ga=function(){this.g&&br(this)};function br(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Ir(f)}r.setRequestHeader=function(f,_){this.u.append(f,_)},r.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],_=this.h.entries();for(var C=_.next();!C.done;)C=C.value,f.push(C[0]+": "+C[1]),C=_.next();return f.join(`\r
`)};function Ir(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(yo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Ti(f){let _="";return $(f,function(C,x){_+=x,_+=":",_+=C,_+=`\r
`}),_}function fs(f,_,C){e:{for(x in C){var x=!1;break e}x=!0}x||(C=Ti(C),typeof f=="string"?C!=null&&encodeURIComponent(String(C)):ht(f,_,C))}function wt(f){It.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(wt,It);var Dh=/^https?$/i,Ol=["POST","PUT"];r=wt.prototype,r.Ha=function(f){this.J=f},r.ea=function(f,_,C,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);_=_?_.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Cr.g(),this.v=this.o?yr(this.o):yr(Cr),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(_,String(f),!0),this.B=!1}catch(ee){_o(this,ee);return}if(f=C||"",C=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var Y in x)C.set(Y,x[Y]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const ee of x.keys())C.set(ee,x.get(ee));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(C.keys()).find(ee=>ee.toLowerCase()=="content-type"),Y=c.FormData&&f instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Ol,_,void 0))||x||Y||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,ge]of C)this.g.setRequestHeader(ee,ge);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ua(this),this.u=!0,this.g.send(f),this.u=!1}catch(ee){_o(this,ee)}};function _o(f,_){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=_,f.m=5,la(f),zn(f)}function la(f){f.A||(f.A=!0,_t(f,"complete"),_t(f,"error"))}r.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,_t(this,"complete"),_t(this,"abort"),zn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zn(this,!0)),wt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Nl(this):this.bb())},r.bb=function(){Nl(this)};function Nl(f){if(f.h&&typeof l<"u"&&(!f.v[1]||In(f)!=4||f.Z()!=2)){if(f.u&&In(f)==4)Br(f.Ea,0,f);else if(_t(f,"readystatechange"),In(f)==4){f.h=!1;try{const ge=f.Z();e:switch(ge){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var C;if(!(C=_)){var x;if(x=ge===0){var Y=String(f.D).match(go)[1]||null;!Y&&c.self&&c.self.location&&(Y=c.self.location.protocol.slice(0,-1)),x=!Dh.test(Y?Y.toLowerCase():"")}C=x}if(C)_t(f,"complete"),_t(f,"success");else{f.m=6;try{var ee=2<In(f)?f.g.statusText:""}catch{ee=""}f.l=ee+" ["+f.Z()+"]",la(f)}}finally{zn(f)}}}}function zn(f,_){if(f.g){ua(f);const C=f.g,x=f.v[0]?()=>{}:null;f.g=null,f.v=null,_||_t(f,"ready");try{C.onreadystatechange=x}catch{}}}function ua(f){f.I&&(c.clearTimeout(f.I),f.I=null)}r.isActive=function(){return!!this.g};function In(f){return f.g?f.g.readyState:0}r.Z=function(){try{return 2<In(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(f){if(this.g){var _=this.g.responseText;return f&&_.indexOf(f)==0&&(_=_.substring(f.length)),is(_)}};function Vl(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function ca(f){const _={};f=(f.g&&2<=In(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<f.length;x++){if(F(f[x]))continue;var C=A(f[x]);const Y=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();const ee=_[Y]||[];_[Y]=ee,ee.push(C)}D(_,function(x){return x.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Zr(f,_,C){return C&&C.internalChannelParams&&C.internalChannelParams[f]||_}function Fl(f){this.Aa=0,this.i=[],this.j=new co,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Zr("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Zr("baseRetryDelayMs",5e3,f),this.cb=Zr("retryDelaySeedMs",1e4,f),this.Wa=Zr("forwardChannelMaxRetries",2,f),this.wa=Zr("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new mo(f&&f.concurrentRequestLimit),this.Da=new Ph,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Fl.prototype,r.la=8,r.G=1,r.connect=function(f,_,C,x){ft(0),this.W=f,this.H=_||{},C&&x!==void 0&&(this.H.OSID=C,this.H.OAID=x),this.F=this.X,this.I=Dc(this,null,this.W),Jr(this)};function tn(f){if(da(f),f.G==3){var _=f.U++,C=Bn(f.I);if(ht(C,"SID",f.K),ht(C,"RID",_),ht(C,"TYPE","terminate"),ki(f,C),_=new Sr(f,f.j,_),_.L=2,_.v=us(Bn(C)),C=!1,c.navigator&&c.navigator.sendBeacon)try{C=c.navigator.sendBeacon(_.v.toString(),"")}catch{}!C&&c.Image&&(new Image().src=_.v,C=!0),C||(_.g=xc(_.j,null),_.g.ea(_.v)),_.F=Date.now(),pt(_)}Pc(f)}function Pr(f){f.g&&(Ul(f),f.g.cancel(),f.g=null)}function da(f){Pr(f),f.u&&(c.clearTimeout(f.u),f.u=null),pa(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&c.clearTimeout(f.s),f.s=null)}function Jr(f){if(!jn(f.h)&&!f.s){f.s=!0;var _=f.Ga;he||re(),G||(he(),G=!0),ae.add(_,f),f.B=0}}function xh(f,_){return gc(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=_.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=wr(E(f.Ga,f,_),Ic(f,f.B)),f.B++,!0)}r.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const Y=new Sr(this,this.j,f);let ee=this.o;if(this.S&&(ee?(ee=I(ee),R(ee,this.S)):ee=this.S),this.m!==null||this.O||(Y.H=ee,ee=null),this.P)e:{for(var _=0,C=0;C<this.i.length;C++){t:{var x=this.i[C];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(_+=x,4096<_){_=C;break e}if(_===4096||C===this.i.length-1){_=C+1;break e}}_=1e3}else _=1e3;_=hs(this,Y,_),C=Bn(this.I),ht(C,"RID",f),ht(C,"CVER",22),this.D&&ht(C,"X-HTTP-Session-Id",this.D),ki(this,C),ee&&(this.O?_="headers="+encodeURIComponent(String(Ti(ee)))+"&"+_:this.m&&fs(C,this.m,ee)),Ml(this.h,Y),this.Ua&&ht(C,"TYPE","init"),this.P?(ht(C,"$req",_),ht(C,"SID","null"),Y.T=!0,ia(Y,C,null)):ia(Y,C,_),this.G=2}}else this.G==3&&(f?fa(this,f):this.i.length==0||jn(this.h)||fa(this))};function fa(f,_){var C;_?C=_.l:C=f.U++;const x=Bn(f.I);ht(x,"SID",f.K),ht(x,"RID",C),ht(x,"AID",f.T),ki(f,x),f.m&&f.o&&fs(x,f.m,f.o),C=new Sr(f,f.j,C,f.B+1),f.m===null&&(C.H=f.o),_&&(f.i=_.D.concat(f.i)),_=hs(f,C,1e3),C.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Ml(f.h,C),ia(C,x,_)}function ki(f,_){f.H&&$(f.H,function(C,x){ht(_,x,C)}),f.l&&os({},function(C,x){ht(_,x,C)})}function hs(f,_,C){C=Math.min(f.i.length,C);var x=f.l?E(f.l.Na,f.l,f):null;e:{var Y=f.i;let ee=-1;for(;;){const ge=["count="+C];ee==-1?0<C?(ee=Y[0].g,ge.push("ofs="+ee)):ee=0:ge.push("ofs="+ee);let ut=!0;for(let Ut=0;Ut<C;Ut++){let Je=Y[Ut].g;const qt=Y[Ut].map;if(Je-=ee,0>Je)ee=Math.max(0,Y[Ut].g-100),ut=!1;else try{Tc(qt,ge,"req"+Je+"_")}catch{x&&x(qt)}}if(ut){x=ge.join("&");break e}}}return f=f.i.splice(0,C),_.D=f,x}function wo(f){if(!f.g&&!f.u){f.Y=1;var _=f.Fa;he||re(),G||(he(),G=!0),ae.add(_,f),f.v=0}}function ha(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=wr(E(f.Fa,f),Ic(f,f.v)),f.v++,!0)}r.Fa=function(){if(this.u=null,bc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=wr(E(this.ab,this),f)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ft(10),Pr(this),bc(this))};function Ul(f){f.A!=null&&(c.clearTimeout(f.A),f.A=null)}function bc(f){f.g=new Sr(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var _=Bn(f.qa);ht(_,"RID","rpc"),ht(_,"SID",f.K),ht(_,"AID",f.T),ht(_,"CI",f.F?"0":"1"),!f.F&&f.ja&&ht(_,"TO",f.ja),ht(_,"TYPE","xmlhttp"),ki(f,_),f.m&&f.o&&fs(_,f.m,f.o),f.L&&(f.g.I=f.L);var C=f.g;f=f.ia,C.L=1,C.v=us(Bn(_)),C.m=null,C.P=!0,Ll(C,f)}r.Za=function(){this.C!=null&&(this.C=null,Pr(this),ha(this),ft(19))};function pa(f){f.C!=null&&(c.clearTimeout(f.C),f.C=null)}function ma(f,_){var C=null;if(f.g==_){pa(f),Ul(f),f.g=null;var x=2}else if(yn(f.h,_))C=_.D,vc(f.h,_),x=1;else return;if(f.G!=0){if(_.o)if(x==1){C=_.m?_.m.length:0,_=Date.now()-_.F;var Y=f.B;x=Kr(),_t(x,new Oe(x,C)),Jr(f)}else wo(f);else if(Y=_.s,Y==3||Y==0&&0<_.X||!(x==1&&xh(f,_)||x==2&&ha(f)))switch(C&&0<C.length&&(_=f.h,_.i=_.i.concat(C)),Y){case 1:bi(f,5);break;case 4:bi(f,10);break;case 3:bi(f,6);break;default:bi(f,2)}}}function Ic(f,_){let C=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(C*=2),C*_}function bi(f,_){if(f.j.info("Error code "+_),_==2){var C=E(f.fb,f),x=f.Xa;const Y=!x;x=new Ci(x||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||vo(x,"https"),us(x),Y?Ih(x.toString(),C):Sc(x.toString(),C)}else ft(2);f.G=0,f.l&&f.l.sa(_),Pc(f),da(f)}r.fb=function(f){f?(this.j.info("Successfully pinged google.com"),ft(2)):(this.j.info("Failed to ping google.com"),ft(1))};function Pc(f){if(f.G=0,f.ka=[],f.l){const _=yc(f.h);(_.length!=0||f.i.length!=0)&&(P(f.ka,_),P(f.ka,f.i),f.h.i.length=0,L(f.i),f.i.length=0),f.l.ra()}}function Dc(f,_,C){var x=C instanceof Ci?Bn(C):new Ci(C);if(x.g!="")_&&(x.g=_+"."+x.g),as(x,x.s);else{var Y=c.location;x=Y.protocol,_=_?_+"."+Y.hostname:Y.hostname,Y=+Y.port;var ee=new Ci(null);x&&vo(ee,x),_&&(ee.g=_),Y&&as(ee,Y),C&&(ee.l=C),x=ee}return C=f.D,_=f.ya,C&&_&&ht(x,C,_),ht(x,"VER",f.la),ki(f,x),x}function xc(f,_,C){if(_&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=f.Ca&&!f.pa?new wt(new Si({eb:C})):new wt(f.pa),_.Ha(f.J),_}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function jl(){}r=jl.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ga(){}ga.prototype.g=function(f,_){return new _n(f,_)};function _n(f,_){It.call(this),this.g=new Fl(_),this.l=f,this.h=_&&_.messageUrlParams||null,f=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(f?f["X-WebChannel-Content-Type"]=_.messageContentType:f={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(f?f["X-WebChannel-Client-Profile"]=_.va:f={"X-WebChannel-Client-Profile":_.va}),this.g.S=f,(f=_&&_.Sb)&&!F(f)&&(this.g.m=f),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!F(_)&&(this.g.D=_,f=this.h,f!==null&&_ in f&&(f=this.h,_ in f&&delete f[_])),this.j=new ei(this)}T(_n,It),_n.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},_n.prototype.close=function(){tn(this.g)},_n.prototype.o=function(f){var _=this.g;if(typeof f=="string"){var C={};C.__data__=f,f=C}else this.u&&(C={},C.__data__=Hr(f),f=C);_.i.push(new mc(_.Ya++,f)),_.G==3&&Jr(_)},_n.prototype.N=function(){this.g.l=null,delete this.j,tn(this.g),delete this.g,_n.aa.N.call(this)};function Lc(f){Fn.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var _=f.__sm__;if(_){e:{for(const C in _){f=C;break e}f=void 0}(this.i=f)&&(f=this.i,_=_!==null&&f in _?_[f]:void 0),this.data=_}else this.data=f}T(Lc,Fn);function Rc(){_r.call(this),this.status=1}T(Rc,_r);function ei(f){this.g=f}T(ei,jl),ei.prototype.ua=function(){_t(this.g,"a")},ei.prototype.ta=function(f){_t(this.g,new Lc(f))},ei.prototype.sa=function(f){_t(this.g,new Rc)},ei.prototype.ra=function(){_t(this.g,"b")},ga.prototype.createWebChannel=ga.prototype.g,_n.prototype.send=_n.prototype.o,_n.prototype.open=_n.prototype.m,_n.prototype.close=_n.prototype.close,$S=function(){return new ga},HS=function(){return Kr()},WS=Un,Om={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},na.NO_ERROR=0,na.TIMEOUT=8,na.HTTP_ERROR=6,Bd=na,dc.COMPLETE="complete",zS=dc,Ei.EventType=vn,vn.OPEN="a",vn.CLOSE="b",vn.ERROR="c",vn.MESSAGE="d",It.prototype.listen=It.prototype.K,wu=Ei,wt.prototype.listenOnce=wt.prototype.L,wt.prototype.getLastError=wt.prototype.Ka,wt.prototype.getLastErrorCode=wt.prototype.Ba,wt.prototype.getStatus=wt.prototype.Z,wt.prototype.getResponseJson=wt.prototype.Oa,wt.prototype.getResponseText=wt.prototype.oa,wt.prototype.send=wt.prototype.ea,wt.prototype.setWithCredentials=wt.prototype.Ha,BS=wt}).apply(typeof bd<"u"?bd:typeof self<"u"?self:typeof window<"u"?window:{});const ow="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}pn.UNAUTHENTICATED=new pn(null),pn.GOOGLE_CREDENTIALS=new pn("google-credentials-uid"),pn.FIRST_PARTY=new pn("first-party-uid"),pn.MOCK_USER=new pn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _l="11.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $o=new pg("@firebase/firestore");function Ua(){return $o.logLevel}function Ce(r,...e){if($o.logLevel<=Ke.DEBUG){const t=e.map(vg);$o.debug(`Firestore (${_l}): ${r}`,...t)}}function Yi(r,...e){if($o.logLevel<=Ke.ERROR){const t=e.map(vg);$o.error(`Firestore (${_l}): ${r}`,...t)}}function tl(r,...e){if($o.logLevel<=Ke.WARN){const t=e.map(vg);$o.warn(`Firestore (${_l}): ${r}`,...t)}}function vg(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ue(r="Unexpected state"){const e=`FIRESTORE (${_l}) INTERNAL ASSERTION FAILED: `+r;throw Yi(e),new Error(e)}function lt(r,e){r||Ue()}function Be(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ke extends Zi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class BD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(pn.UNAUTHENTICATED))}shutdown(){}}class zD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class WD{constructor(e){this.t=e,this.currentUser=pn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){lt(this.o===void 0);let n=this.i;const i=d=>this.i!==n?(n=this.i,t(d)):Promise.resolve();let o=new Ui;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ui,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const d=o;e.enqueueRetryable(async()=>{await d.promise,await i(this.currentUser)})},c=d=>{Ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(d=>c(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(Ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ui)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(n=>this.i!==e?(Ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(lt(typeof n.accessToken=="string"),new YS(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return lt(e===null||typeof e=="string"),new pn(e)}}class HD{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=pn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class $D{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new HD(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(pn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class YD{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qD{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){lt(this.o===void 0);const n=o=>{o.error!=null&&Ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.R;return this.R=o.token,Ce("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>n(o))};const i=o=>{Ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):Ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(lt(typeof t.token=="string"),this.R=t.token,new YD(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KD(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let n=0;n<r;n++)t[n]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const i=KD(40);for(let o=0;o<i.length;++o)n.length<20&&i[o]<t&&(n+=e.charAt(i[o]%e.length))}return n}}function Ze(r,e){return r<e?-1:r>e?1:0}function nl(r,e,t){return r.length===e.length&&r.every((n,i)=>t(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{static now(){return zt.fromMillis(Date.now())}static fromDate(e){return zt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new zt(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ke(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ke(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ke(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ke(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ze(this.nanoseconds,e.nanoseconds):Ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{static fromTimestamp(e){return new je(e)}static min(){return new je(new zt(0,0))}static max(){return new je(new zt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e,t,n){t===void 0?t=0:t>e.length&&Ue(),n===void 0?n=e.length-t:n>e.length-t&&Ue(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return si.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof si?e.forEach(n=>{t.push(n)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const o=si.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return Math.sign(e.length-t.length)}static compareSegments(e,t){const n=si.isNumericId(e),i=si.isNumericId(t);return n&&!i?-1:!n&&i?1:n&&i?si.extractNumericId(e).compare(si.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Hs.fromString(e.substring(4,e.length-2))}}class yt extends si{construct(e,t,n){return new yt(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new ke(se.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(i=>i.length>0))}return new yt(t)}static emptyPath(){return new yt([])}}const GD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class on extends si{construct(e,t,n){return new on(e,t,n)}static isValidIdentifier(e){return GD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),on.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new on(["__name__"])}static fromServerFormat(e){const t=[];let n="",i=0;const o=()=>{if(n.length===0)throw new ke(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new ke(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new ke(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=d,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(n+=c,i++):(o(),i++)}if(o(),l)throw new ke(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new on(t)}static emptyPath(){return new on([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.path=e}static fromPath(e){return new Re(yt.fromString(e))}static fromName(e){return new Re(yt.fromString(e).popFirst(5))}static empty(){return new Re(yt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&yt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return yt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Re(new yt(e.slice()))}}function QD(r,e){const t=r.toTimestamp().seconds,n=r.toTimestamp().nanoseconds+1,i=je.fromTimestamp(n===1e9?new zt(t+1,0):new zt(t,n));return new Gs(i,Re.empty(),e)}function XD(r){return new Gs(r.readTime,r.key,-1)}class Gs{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Gs(je.min(),Re.empty(),-1)}static max(){return new Gs(je.max(),Re.empty(),-1)}}function ZD(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=Re.comparator(r.documentKey,e.documentKey),t!==0?t:Ze(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ex{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wl(r){if(r.code!==se.FAILED_PRECONDITION||r.message!==JD)throw r;Ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ue(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ie((n,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(n,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(n,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ie?t:ie.resolve(t)}catch(t){return ie.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ie.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ie.reject(t)}static resolve(e){return new ie((t,n)=>{t(e)})}static reject(e){return new ie((t,n)=>{n(e)})}static waitFor(e){return new ie((t,n)=>{let i=0,o=0,l=!1;e.forEach(c=>{++i,c.next(()=>{++o,l&&o===i&&t()},d=>n(d))}),l=!0,o===i&&t()})}static or(e){let t=ie.resolve(!1);for(const n of e)t=t.next(i=>i?ie.resolve(i):n());return t}static forEach(e,t){const n=[];return e.forEach((i,o)=>{n.push(t.call(this,i,o))}),this.waitFor(n)}static mapArray(e,t){return new ie((n,i)=>{const o=e.length,l=new Array(o);let c=0;for(let d=0;d<o;d++){const p=d;t(e[p]).next(m=>{l[p]=m,++c,c===o&&n(l)},m=>i(m))}})}static doWhile(e,t){return new ie((n,i)=>{const o=()=>{e()===!0?t().next(()=>{o()},i):n()};o()})}}function tx(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function El(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=n=>this.ie(n),this.se=n=>t.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Kf.oe=-1;function Gf(r){return r==null}function uf(r){return r===0&&1/r==-1/0}function nx(r){return typeof r=="number"&&Number.isInteger(r)&&!uf(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rx(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=aw(e)),e=ix(r.get(t),e);return aw(e)}function ix(r,e){let t=e;const n=r.length;for(let i=0;i<n;i++){const o=r.charAt(i);switch(o){case"\0":t+="";break;case"":t+="";break;default:t+=o}}return t}function aw(r){return r+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lw(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function so(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function KS(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e,t){this.comparator=e,this.root=t||sn.EMPTY}insert(e,t){return new bt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,sn.BLACK,null,null))}remove(e){return new bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return t+n.left.size;i<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Id(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Id(this.root,e,this.comparator,!1)}getReverseIterator(){return new Id(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Id(this.root,e,this.comparator,!0)}}class Id{constructor(e,t,n,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?n(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class sn{constructor(e,t,n,i,o){this.key=e,this.value=t,this.color=n??sn.RED,this.left=i??sn.EMPTY,this.right=o??sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,i,o){return new sn(e??this.key,t??this.value,n??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let i=this;const o=n(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,n),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return sn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return sn.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ue();const e=this.left.check();if(e!==this.right.check())throw Ue();return e+(this.isRed()?0:1)}}sn.EMPTY=null,sn.RED=!0,sn.BLACK=!1;sn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ue()}get value(){throw Ue()}get color(){throw Ue()}get left(){throw Ue()}get right(){throw Ue()}copy(e,t,n,i,o){return this}insert(e,t,n){return new sn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.comparator=e,this.data=new bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let n;for(n=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new uw(this.data.getIterator())}getIteratorFrom(e){return new uw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(n=>{t=t.add(n)}),t}isEqual(e){if(!(e instanceof Wt)||this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=n.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Wt(this.comparator);return t.data=e,t}}class uw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e){this.fields=e,e.sort(on.comparator)}static empty(){return new Kn([])}unionWith(e){let t=new Wt(on.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Kn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return nl(this.fields,e.fields,(t,n)=>t.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new GS("Invalid base64 string: "+o):o}}(e);return new ln(t)}static fromUint8Array(e){const t=function(i){let o="";for(let l=0;l<i.length;++l)o+=String.fromCharCode(i[l]);return o}(e);return new ln(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const n=new Uint8Array(t.length);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ln.EMPTY_BYTE_STRING=new ln("");const sx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qs(r){if(lt(!!r),typeof r=="string"){let e=0;const t=sx.exec(r);if(lt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(r);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Lt(r.seconds),nanos:Lt(r.nanos)}}function Lt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Xs(r){return typeof r=="string"?ln.fromBase64String(r):ln.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yg(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Qf(r){const e=r.mapValue.fields.__previous_value__;return yg(e)?Qf(e):e}function Ou(r){const e=Qs(r.mapValue.fields.__local_write_time__.timestampValue);return new zt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(e,t,n,i,o,l,c,d,p){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=i,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=p}}class Nu{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Nu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Nu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pd={mapValue:{}};function Zs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?yg(r)?4:lx(r)?9007199254740991:ax(r)?10:11:Ue()}function gi(r,e){if(r===e)return!0;const t=Zs(r);if(t!==Zs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Ou(r).isEqual(Ou(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const l=Qs(i.timestampValue),c=Qs(o.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(i,o){return Xs(i.bytesValue).isEqual(Xs(o.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(i,o){return Lt(i.geoPointValue.latitude)===Lt(o.geoPointValue.latitude)&&Lt(i.geoPointValue.longitude)===Lt(o.geoPointValue.longitude)}(r,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Lt(i.integerValue)===Lt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const l=Lt(i.doubleValue),c=Lt(o.doubleValue);return l===c?uf(l)===uf(c):isNaN(l)&&isNaN(c)}return!1}(r,e);case 9:return nl(r.arrayValue.values||[],e.arrayValue.values||[],gi);case 10:case 11:return function(i,o){const l=i.mapValue.fields||{},c=o.mapValue.fields||{};if(lw(l)!==lw(c))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(c[d]===void 0||!gi(l[d],c[d])))return!1;return!0}(r,e);default:return Ue()}}function Vu(r,e){return(r.values||[]).find(t=>gi(t,e))!==void 0}function rl(r,e){if(r===e)return 0;const t=Zs(r),n=Zs(e);if(t!==n)return Ze(t,n);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ze(r.booleanValue,e.booleanValue);case 2:return function(o,l){const c=Lt(o.integerValue||o.doubleValue),d=Lt(l.integerValue||l.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1}(r,e);case 3:return cw(r.timestampValue,e.timestampValue);case 4:return cw(Ou(r),Ou(e));case 5:return Ze(r.stringValue,e.stringValue);case 6:return function(o,l){const c=Xs(o),d=Xs(l);return c.compareTo(d)}(r.bytesValue,e.bytesValue);case 7:return function(o,l){const c=o.split("/"),d=l.split("/");for(let p=0;p<c.length&&p<d.length;p++){const m=Ze(c[p],d[p]);if(m!==0)return m}return Ze(c.length,d.length)}(r.referenceValue,e.referenceValue);case 8:return function(o,l){const c=Ze(Lt(o.latitude),Lt(l.latitude));return c!==0?c:Ze(Lt(o.longitude),Lt(l.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return dw(r.arrayValue,e.arrayValue);case 10:return function(o,l){var c,d,p,m;const v=o.fields||{},E=l.fields||{},S=(c=v.value)===null||c===void 0?void 0:c.arrayValue,T=(d=E.value)===null||d===void 0?void 0:d.arrayValue,L=Ze(((p=S==null?void 0:S.values)===null||p===void 0?void 0:p.length)||0,((m=T==null?void 0:T.values)===null||m===void 0?void 0:m.length)||0);return L!==0?L:dw(S,T)}(r.mapValue,e.mapValue);case 11:return function(o,l){if(o===Pd.mapValue&&l===Pd.mapValue)return 0;if(o===Pd.mapValue)return 1;if(l===Pd.mapValue)return-1;const c=o.fields||{},d=Object.keys(c),p=l.fields||{},m=Object.keys(p);d.sort(),m.sort();for(let v=0;v<d.length&&v<m.length;++v){const E=Ze(d[v],m[v]);if(E!==0)return E;const S=rl(c[d[v]],p[m[v]]);if(S!==0)return S}return Ze(d.length,m.length)}(r.mapValue,e.mapValue);default:throw Ue()}}function cw(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ze(r,e);const t=Qs(r),n=Qs(e),i=Ze(t.seconds,n.seconds);return i!==0?i:Ze(t.nanos,n.nanos)}function dw(r,e){const t=r.values||[],n=e.values||[];for(let i=0;i<t.length&&i<n.length;++i){const o=rl(t[i],n[i]);if(o)return o}return Ze(t.length,n.length)}function il(r){return Nm(r)}function Nm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const n=Qs(t);return`time(${n.seconds},${n.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return Xs(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return Re.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let n="[",i=!0;for(const o of t.values||[])i?i=!1:n+=",",n+=Nm(o);return n+"]"}(r.arrayValue):"mapValue"in r?function(t){const n=Object.keys(t.fields||{}).sort();let i="{",o=!0;for(const l of n)o?o=!1:i+=",",i+=`${l}:${Nm(t.fields[l])}`;return i+"}"}(r.mapValue):Ue()}function zd(r){switch(Zs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Qf(r);return e?16+zd(e):16;case 5:return 2*r.stringValue.length;case 6:return Xs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((i,o)=>i+zd(o),0)}(r.arrayValue);case 10:case 11:return function(n){let i=0;return so(n.fields,(o,l)=>{i+=o.length+zd(l)}),i}(r.mapValue);default:throw Ue()}}function fw(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Vm(r){return!!r&&"integerValue"in r}function _g(r){return!!r&&"arrayValue"in r}function hw(r){return!!r&&"nullValue"in r}function pw(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Wd(r){return!!r&&"mapValue"in r}function ax(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function bu(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return so(r.mapValue.fields,(t,n)=>e.mapValue.fields[t]=bu(n)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=bu(r.arrayValue.values[t]);return e}return Object.assign({},r)}function lx(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.value=e}static empty(){return new On({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Wd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=bu(t)}setAll(e){let t=on.emptyPath(),n={},i=[];e.forEach((l,c)=>{if(!t.isImmediateParentOf(c)){const d=this.getFieldsMap(t);this.applyChanges(d,n,i),n={},i=[],t=c.popLast()}l?n[c.lastSegment()]=bu(l):i.push(c.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,n,i)}delete(e){const t=this.field(e.popLast());Wd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return gi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=t.mapValue.fields[e.get(n)];Wd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,n){so(t,(i,o)=>e[i]=o);for(const i of n)delete e[i]}clone(){return new On(bu(this.value))}}function QS(r){const e=[];return so(r.fields,(t,n)=>{const i=new on([t]);if(Wd(n)){const o=QS(n.mapValue).fields;if(o.length===0)e.push(i);else for(const l of o)e.push(i.child(l))}else e.push(i)}),new Kn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e,t,n,i,o,l,c){this.key=e,this.documentType=t,this.version=n,this.readTime=i,this.createTime=o,this.data=l,this.documentState=c}static newInvalidDocument(e){return new mn(e,0,je.min(),je.min(),je.min(),On.empty(),0)}static newFoundDocument(e,t,n,i){return new mn(e,1,t,je.min(),n,i,0)}static newNoDocument(e,t){return new mn(e,2,t,je.min(),je.min(),On.empty(),0)}static newUnknownDocument(e,t){return new mn(e,3,t,je.min(),je.min(),On.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(je.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=On.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=On.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=je.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e,t){this.position=e,this.inclusive=t}}function mw(r,e,t){let n=0;for(let i=0;i<r.position.length;i++){const o=e[i],l=r.position[i];if(o.field.isKeyField()?n=Re.comparator(Re.fromName(l.referenceValue),t.key):n=rl(l,t.data.field(o.field)),o.dir==="desc"&&(n*=-1),n!==0)break}return n}function gw(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!gi(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(e,t="asc"){this.field=e,this.dir=t}}function ux(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{}class Ft extends XS{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,n):new dx(e,t,n):t==="array-contains"?new px(e,n):t==="in"?new mx(e,n):t==="not-in"?new gx(e,n):t==="array-contains-any"?new vx(e,n):new Ft(e,t,n)}static createKeyFieldInFilter(e,t,n){return t==="in"?new fx(e,n):new hx(e,n)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(rl(t,this.value)):t!==null&&Zs(this.value)===Zs(t)&&this.matchesComparison(rl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ue()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fr extends XS{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Fr(e,t)}matches(e){return ZS(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function ZS(r){return r.op==="and"}function JS(r){return cx(r)&&ZS(r)}function cx(r){for(const e of r.filters)if(e instanceof Fr)return!1;return!0}function Fm(r){if(r instanceof Ft)return r.field.canonicalString()+r.op.toString()+il(r.value);if(JS(r))return r.filters.map(e=>Fm(e)).join(",");{const e=r.filters.map(t=>Fm(t)).join(",");return`${r.op}(${e})`}}function eT(r,e){return r instanceof Ft?function(n,i){return i instanceof Ft&&n.op===i.op&&n.field.isEqual(i.field)&&gi(n.value,i.value)}(r,e):r instanceof Fr?function(n,i){return i instanceof Fr&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((o,l,c)=>o&&eT(l,i.filters[c]),!0):!1}(r,e):void Ue()}function tT(r){return r instanceof Ft?function(t){return`${t.field.canonicalString()} ${t.op} ${il(t.value)}`}(r):r instanceof Fr?function(t){return t.op.toString()+" {"+t.getFilters().map(tT).join(" ,")+"}"}(r):"Filter"}class dx extends Ft{constructor(e,t,n){super(e,t,n),this.key=Re.fromName(n.referenceValue)}matches(e){const t=Re.comparator(e.key,this.key);return this.matchesComparison(t)}}class fx extends Ft{constructor(e,t){super(e,"in",t),this.keys=nT("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class hx extends Ft{constructor(e,t){super(e,"not-in",t),this.keys=nT("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function nT(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(n=>Re.fromName(n.referenceValue))}class px extends Ft{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return _g(t)&&Vu(t.arrayValue,this.value)}}class mx extends Ft{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Vu(this.value.arrayValue,t)}}class gx extends Ft{constructor(e,t){super(e,"not-in",t)}matches(e){if(Vu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Vu(this.value.arrayValue,t)}}class vx extends Ft{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!_g(t)||!t.arrayValue.values)&&t.arrayValue.values.some(n=>Vu(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(e,t=null,n=[],i=[],o=null,l=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=i,this.limit=o,this.startAt=l,this.endAt=c,this.ue=null}}function vw(r,e=null,t=[],n=[],i=null,o=null,l=null){return new yx(r,e,t,n,i,o,l)}function wg(r){const e=Be(r);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(n=>Fm(n)).join(","),t+="|ob:",t+=e.orderBy.map(n=>function(o){return o.field.canonicalString()+o.dir}(n)).join(","),Gf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(n=>il(n)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(n=>il(n)).join(",")),e.ue=t}return e.ue}function Eg(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!ux(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!eT(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!gw(r.startAt,e.startAt)&&gw(r.endAt,e.endAt)}function Um(r){return Re.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e,t=null,n=[],i=[],o=null,l="F",c=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=i,this.limit=o,this.limitType=l,this.startAt=c,this.endAt=d,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function _x(r,e,t,n,i,o,l,c){return new Zu(r,e,t,n,i,o,l,c)}function Cg(r){return new Zu(r)}function yw(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function rT(r){return r.collectionGroup!==null}function Iu(r){const e=Be(r);if(e.ce===null){e.ce=[];const t=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),t.add(o.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new Wt(on.comparator);return l.filters.forEach(d=>{d.getFlattenedFilters().forEach(p=>{p.isInequality()&&(c=c.add(p.field))})}),c})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.ce.push(new df(o,n))}),t.has(on.keyField().canonicalString())||e.ce.push(new df(on.keyField(),n))}return e.ce}function fi(r){const e=Be(r);return e.le||(e.le=wx(e,Iu(r))),e.le}function wx(r,e){if(r.limitType==="F")return vw(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new df(i.field,o)});const t=r.endAt?new cf(r.endAt.position,r.endAt.inclusive):null,n=r.startAt?new cf(r.startAt.position,r.startAt.inclusive):null;return vw(r.path,r.collectionGroup,e,r.filters,r.limit,t,n)}}function jm(r,e){const t=r.filters.concat([e]);return new Zu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function Bm(r,e,t){return new Zu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Xf(r,e){return Eg(fi(r),fi(e))&&r.limitType===e.limitType}function iT(r){return`${wg(fi(r))}|lt:${r.limitType}`}function ja(r){return`Query(target=${function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map(i=>tT(i)).join(", ")}]`),Gf(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>il(i)).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>il(i)).join(",")),`Target(${n})`}(fi(r))}; limitType=${r.limitType})`}function Zf(r,e){return e.isFoundDocument()&&function(n,i){const o=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):Re.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(r,e)&&function(n,i){for(const o of Iu(n))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(r,e)&&function(n,i){for(const o of n.filters)if(!o.matches(i))return!1;return!0}(r,e)&&function(n,i){return!(n.startAt&&!function(l,c,d){const p=mw(l,c,d);return l.inclusive?p<=0:p<0}(n.startAt,Iu(n),i)||n.endAt&&!function(l,c,d){const p=mw(l,c,d);return l.inclusive?p>=0:p>0}(n.endAt,Iu(n),i))}(r,e)}function Ex(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function sT(r){return(e,t)=>{let n=!1;for(const i of Iu(r)){const o=Cx(i,e,t);if(o!==0)return o;n=n||i.field.isKeyField()}return 0}}function Cx(r,e,t){const n=r.field.isKeyField()?Re.comparator(e.key,t.key):function(o,l,c){const d=l.data.field(o),p=c.data.field(o);return d!==null&&p!==null?rl(d,p):Ue()}(r.field,e,t);switch(r.dir){case"asc":return n;case"desc":return-1*n;default:return Ue()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(const[i,o]of n)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[t]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){so(this.inner,(t,n)=>{for(const[i,o]of n)e(i,o)})}isEmpty(){return KS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx=new bt(Re.comparator);function qi(){return Sx}const oT=new bt(Re.comparator);function Eu(...r){let e=oT;for(const t of r)e=e.insert(t.key,t);return e}function aT(r){let e=oT;return r.forEach((t,n)=>e=e.insert(t,n.overlayedDocument)),e}function Fo(){return Pu()}function lT(){return Pu()}function Pu(){return new Qo(r=>r.toString(),(r,e)=>r.isEqual(e))}const Tx=new bt(Re.comparator),kx=new Wt(Re.comparator);function Ge(...r){let e=kx;for(const t of r)e=e.add(t);return e}const bx=new Wt(Ze);function Ix(){return bx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sg(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uf(e)?"-0":e}}function uT(r){return{integerValue:""+r}}function Px(r,e){return nx(e)?uT(e):Sg(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(){this._=void 0}}function Dx(r,e,t){return r instanceof ff?function(i,o){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&yg(o)&&(o=Qf(o)),o&&(l.fields.__previous_value__=o),{mapValue:l}}(t,e):r instanceof Fu?dT(r,e):r instanceof Uu?fT(r,e):function(i,o){const l=cT(i,o),c=_w(l)+_w(i.Pe);return Vm(l)&&Vm(i.Pe)?uT(c):Sg(i.serializer,c)}(r,e)}function xx(r,e,t){return r instanceof Fu?dT(r,e):r instanceof Uu?fT(r,e):t}function cT(r,e){return r instanceof hf?function(n){return Vm(n)||function(o){return!!o&&"doubleValue"in o}(n)}(e)?e:{integerValue:0}:null}class ff extends Jf{}class Fu extends Jf{constructor(e){super(),this.elements=e}}function dT(r,e){const t=hT(e);for(const n of r.elements)t.some(i=>gi(i,n))||t.push(n);return{arrayValue:{values:t}}}class Uu extends Jf{constructor(e){super(),this.elements=e}}function fT(r,e){let t=hT(e);for(const n of r.elements)t=t.filter(i=>!gi(i,n));return{arrayValue:{values:t}}}class hf extends Jf{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function _w(r){return Lt(r.integerValue||r.doubleValue)}function hT(r){return _g(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function Lx(r,e){return r.field.isEqual(e.field)&&function(n,i){return n instanceof Fu&&i instanceof Fu||n instanceof Uu&&i instanceof Uu?nl(n.elements,i.elements,gi):n instanceof hf&&i instanceof hf?gi(n.Pe,i.Pe):n instanceof ff&&i instanceof ff}(r.transform,e.transform)}class Rx{constructor(e,t){this.version=e,this.transformResults=t}}class Or{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Or}static exists(e){return new Or(void 0,e)}static updateTime(e){return new Or(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hd(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class eh{}function pT(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Tg(r.key,Or.none()):new Ju(r.key,r.data,Or.none());{const t=r.data,n=On.empty();let i=new Wt(on.comparator);for(let o of e.fields)if(!i.has(o)){let l=t.field(o);l===null&&o.length>1&&(o=o.popLast(),l=t.field(o)),l===null?n.delete(o):n.set(o,l),i=i.add(o)}return new oo(r.key,n,new Kn(i.toArray()),Or.none())}}function Mx(r,e,t){r instanceof Ju?function(i,o,l){const c=i.value.clone(),d=Ew(i.fieldTransforms,o,l.transformResults);c.setAll(d),o.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(r,e,t):r instanceof oo?function(i,o,l){if(!Hd(i.precondition,o))return void o.convertToUnknownDocument(l.version);const c=Ew(i.fieldTransforms,o,l.transformResults),d=o.data;d.setAll(mT(i)),d.setAll(c),o.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(r,e,t):function(i,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function Du(r,e,t,n){return r instanceof Ju?function(o,l,c,d){if(!Hd(o.precondition,l))return c;const p=o.value.clone(),m=Cw(o.fieldTransforms,d,l);return p.setAll(m),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null}(r,e,t,n):r instanceof oo?function(o,l,c,d){if(!Hd(o.precondition,l))return c;const p=Cw(o.fieldTransforms,d,l),m=l.data;return m.setAll(mT(o)),m.setAll(p),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(v=>v.field))}(r,e,t,n):function(o,l,c){return Hd(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(r,e,t)}function Ax(r,e){let t=null;for(const n of r.fieldTransforms){const i=e.data.field(n.field),o=cT(n.transform,i||null);o!=null&&(t===null&&(t=On.empty()),t.set(n.field,o))}return t||null}function ww(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&nl(n,i,(o,l)=>Lx(o,l))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Ju extends eh{constructor(e,t,n,i=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class oo extends eh{constructor(e,t,n,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function mT(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const n=r.data.field(t);e.set(t,n)}}),e}function Ew(r,e,t){const n=new Map;lt(r.length===t.length);for(let i=0;i<t.length;i++){const o=r[i],l=o.transform,c=e.data.field(o.field);n.set(o.field,xx(l,c,t[i]))}return n}function Cw(r,e,t){const n=new Map;for(const i of r){const o=i.transform,l=t.data.field(i.field);n.set(i.field,Dx(o,l,e))}return n}class Tg extends eh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ox extends eh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(e,t,n,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&Mx(o,e,n[i])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Du(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Du(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=lT();return this.mutations.forEach(i=>{const o=e.get(i.key),l=o.overlayedDocument;let c=this.applyToLocalView(l,o.mutatedFields);c=t.has(i.key)?null:c;const d=pT(l,c);d!==null&&n.set(i.key,d),l.isValidDocument()||l.convertToNoDocument(je.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ge())}isEqual(e){return this.batchId===e.batchId&&nl(this.mutations,e.mutations,(t,n)=>ww(t,n))&&nl(this.baseMutations,e.baseMutations,(t,n)=>ww(t,n))}}class kg{constructor(e,t,n,i){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=i}static from(e,t,n){lt(e.mutations.length===n.length);let i=function(){return Tx}();const o=e.mutations;for(let l=0;l<o.length;l++)i=i.insert(o[l].key,n[l].version);return new kg(e,t,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vt,et;function Ux(r){switch(r){default:return Ue();case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0}}function gT(r){if(r===void 0)return Yi("GRPC error has no .code"),se.UNKNOWN;switch(r){case Vt.OK:return se.OK;case Vt.CANCELLED:return se.CANCELLED;case Vt.UNKNOWN:return se.UNKNOWN;case Vt.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case Vt.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case Vt.INTERNAL:return se.INTERNAL;case Vt.UNAVAILABLE:return se.UNAVAILABLE;case Vt.UNAUTHENTICATED:return se.UNAUTHENTICATED;case Vt.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case Vt.NOT_FOUND:return se.NOT_FOUND;case Vt.ALREADY_EXISTS:return se.ALREADY_EXISTS;case Vt.PERMISSION_DENIED:return se.PERMISSION_DENIED;case Vt.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case Vt.ABORTED:return se.ABORTED;case Vt.OUT_OF_RANGE:return se.OUT_OF_RANGE;case Vt.UNIMPLEMENTED:return se.UNIMPLEMENTED;case Vt.DATA_LOSS:return se.DATA_LOSS;default:return Ue()}}(et=Vt||(Vt={}))[et.OK=0]="OK",et[et.CANCELLED=1]="CANCELLED",et[et.UNKNOWN=2]="UNKNOWN",et[et.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",et[et.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",et[et.NOT_FOUND=5]="NOT_FOUND",et[et.ALREADY_EXISTS=6]="ALREADY_EXISTS",et[et.PERMISSION_DENIED=7]="PERMISSION_DENIED",et[et.UNAUTHENTICATED=16]="UNAUTHENTICATED",et[et.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",et[et.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",et[et.ABORTED=10]="ABORTED",et[et.OUT_OF_RANGE=11]="OUT_OF_RANGE",et[et.UNIMPLEMENTED=12]="UNIMPLEMENTED",et[et.INTERNAL=13]="INTERNAL",et[et.UNAVAILABLE=14]="UNAVAILABLE",et[et.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jx(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx=new Hs([4294967295,4294967295],0);function Sw(r){const e=jx().encode(r),t=new jS;return t.update(e),new Uint8Array(t.digest())}function Tw(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Hs([t,n],0),new Hs([i,o],0)]}class bg{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Cu(`Invalid padding: ${t}`);if(n<0)throw new Cu(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Cu(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new Cu(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=Hs.fromNumber(this.Te)}de(e,t,n){let i=e.add(t.multiply(Hs.fromNumber(n)));return i.compare(Bx)===1&&(i=new Hs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ie).toNumber()}Ee(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=Sw(e),[n,i]=Tw(t);for(let o=0;o<this.hashCount;o++){const l=this.de(n,i,o);if(!this.Ee(l))return!1}return!0}static create(e,t,n){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new bg(o,i,t);return n.forEach(c=>l.insert(c)),l}insert(e){if(this.Te===0)return;const t=Sw(e),[n,i]=Tw(t);for(let o=0;o<this.hashCount;o++){const l=this.de(n,i,o);this.Ae(l)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Cu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e,t,n,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const i=new Map;return i.set(e,ec.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new th(je.min(),i,new bt(Ze),qi(),Ge())}}class ec{constructor(e,t,n,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new ec(n,t,Ge(),Ge(),Ge())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e,t,n,i){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=i}}class vT{constructor(e,t){this.targetId=e,this.me=t}}class yT{constructor(e,t,n=ln.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=i}}class kw{constructor(){this.fe=0,this.ge=bw(),this.pe=ln.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ge(),t=Ge(),n=Ge();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:n=n.add(i);break;default:Ue()}}),new ec(this.pe,this.ye,e,t,n)}Ce(){this.we=!1,this.ge=bw()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,lt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class zx{constructor(e){this.Be=e,this.Le=new Map,this.ke=qi(),this.qe=Dd(),this.Qe=Dd(),this.Ke=new bt(Ze)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const n=this.ze(t);switch(e.state){case 0:this.je(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.je(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),n.De(e.resumeToken));break;default:Ue()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Le.forEach((n,i)=>{this.je(i)&&t(i)})}Je(e){const t=e.targetId,n=e.me.count,i=this.Ye(t);if(i){const o=i.target;if(Um(o))if(n===0){const l=new Re(o.path);this.We(t,l,mn.newNoDocument(l,je.min()))}else lt(n===1);else{const l=this.Ze(t);if(l!==n){const c=this.Xe(e),d=c?this.et(c,e,l):1;if(d!==0){this.He(t);const p=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,p)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:o=0}=t;let l,c;try{l=Xs(n).toUint8Array()}catch(d){if(d instanceof GS)return tl("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new bg(l,i,o)}catch(d){return tl(d instanceof Cu?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return c.Te===0?null:c}et(e,t,n){return t.me.count===n-this.rt(e,t.targetId)?0:2}rt(e,t){const n=this.Be.getRemoteKeysForTarget(t);let i=0;return n.forEach(o=>{const l=this.Be.nt(),c=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.We(t,o,null),i++)}),i}it(e){const t=new Map;this.Le.forEach((o,l)=>{const c=this.Ye(l);if(c){if(o.current&&Um(c.target)){const d=new Re(c.target.path);this.st(d).has(l)||this.ot(l,d)||this.We(l,d,mn.newNoDocument(d,e))}o.be&&(t.set(l,o.ve()),o.Ce())}});let n=Ge();this.Qe.forEach((o,l)=>{let c=!0;l.forEachWhile(d=>{const p=this.Ye(d);return!p||p.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(n=n.add(o))}),this.ke.forEach((o,l)=>l.setReadTime(e));const i=new th(e,t,this.Ke,this.ke,n);return this.ke=qi(),this.qe=Dd(),this.Qe=Dd(),this.Ke=new bt(Ze),i}Ue(e,t){if(!this.je(e))return;const n=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,n){if(!this.je(e))return;const i=this.ze(e);this.ot(e,t)?i.Fe(t,1):i.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Le.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Le.get(e);return t||(t=new kw,this.Le.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new Wt(Ze),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Wt(Ze),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||Ce("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Le.get(e);return t&&t.Se?null:this.Be.ut(e)}He(e){this.Le.set(e,new kw),this.Be.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Be.getRemoteKeysForTarget(e).has(t)}}function Dd(){return new bt(Re.comparator)}function bw(){return new bt(Re.comparator)}const Wx={asc:"ASCENDING",desc:"DESCENDING"},Hx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$x={and:"AND",or:"OR"};class Yx{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function zm(r,e){return r.useProto3Json||Gf(e)?e:{value:e}}function pf(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _T(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function qx(r,e){return pf(r,e.toTimestamp())}function hi(r){return lt(!!r),je.fromTimestamp(function(t){const n=Qs(t);return new zt(n.seconds,n.nanos)}(r))}function Ig(r,e){return Wm(r,e).canonicalString()}function Wm(r,e){const t=function(i){return new yt(["projects",i.projectId,"databases",i.database])}(r).child("documents");return e===void 0?t:t.child(e)}function wT(r){const e=yt.fromString(r);return lt(kT(e)),e}function Hm(r,e){return Ig(r.databaseId,e.path)}function am(r,e){const t=wT(e);if(t.get(1)!==r.databaseId.projectId)throw new ke(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new ke(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Re(CT(t))}function ET(r,e){return Ig(r.databaseId,e)}function Kx(r){const e=wT(r);return e.length===4?yt.emptyPath():CT(e)}function $m(r){return new yt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function CT(r){return lt(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function Iw(r,e,t){return{name:Hm(r,e),fields:t.value.mapValue.fields}}function Gx(r,e){let t;if("targetChange"in e){e.targetChange;const n=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ue()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(p,m){return p.useProto3Json?(lt(m===void 0||typeof m=="string"),ln.fromBase64String(m||"")):(lt(m===void 0||m instanceof Buffer||m instanceof Uint8Array),ln.fromUint8Array(m||new Uint8Array))}(r,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(p){const m=p.code===void 0?se.UNKNOWN:gT(p.code);return new ke(m,p.message||"")}(l);t=new yT(n,i,o,c||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=am(r,n.document.name),o=hi(n.document.updateTime),l=n.document.createTime?hi(n.document.createTime):je.min(),c=new On({mapValue:{fields:n.document.fields}}),d=mn.newFoundDocument(i,o,l,c),p=n.targetIds||[],m=n.removedTargetIds||[];t=new $d(p,m,d.key,d)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=am(r,n.document),o=n.readTime?hi(n.readTime):je.min(),l=mn.newNoDocument(i,o),c=n.removedTargetIds||[];t=new $d([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=am(r,n.document),o=n.removedTargetIds||[];t=new $d([],o,i,null)}else{if(!("filter"in e))return Ue();{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:o}=n,l=new Fx(i,o),c=n.targetId;t=new vT(c,l)}}return t}function Qx(r,e){let t;if(e instanceof Ju)t={update:Iw(r,e.key,e.value)};else if(e instanceof Tg)t={delete:Hm(r,e.key)};else if(e instanceof oo)t={update:Iw(r,e.key,e.data),updateMask:sL(e.fieldMask)};else{if(!(e instanceof Ox))return Ue();t={verify:Hm(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(n=>function(o,l){const c=l.transform;if(c instanceof ff)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Fu)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Uu)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof hf)return{fieldPath:l.field.canonicalString(),increment:c.Pe};throw Ue()}(0,n))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:qx(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ue()}(r,e.precondition)),t}function Xx(r,e){return r&&r.length>0?(lt(e!==void 0),r.map(t=>function(i,o){let l=i.updateTime?hi(i.updateTime):hi(o);return l.isEqual(je.min())&&(l=hi(o)),new Rx(l,i.transformResults||[])}(t,e))):[]}function Zx(r,e){return{documents:[ET(r,e.path)]}}function Jx(r,e){const t={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),t.structuredQuery.from=[{collectionId:n.lastSegment()}]),t.parent=ET(r,i);const o=function(p){if(p.length!==0)return TT(Fr.create(p,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const l=function(p){if(p.length!==0)return p.map(m=>function(E){return{field:Ba(E.field),direction:nL(E.dir)}}(m))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const c=zm(r,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ct:t,parent:i}}function eL(r){let e=Kx(r.parent);const t=r.structuredQuery,n=t.from?t.from.length:0;let i=null;if(n>0){lt(n===1);const m=t.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let o=[];t.where&&(o=function(v){const E=ST(v);return E instanceof Fr&&JS(E)?E.getFilters():[E]}(t.where));let l=[];t.orderBy&&(l=function(v){return v.map(E=>function(T){return new df(za(T.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(E))}(t.orderBy));let c=null;t.limit&&(c=function(v){let E;return E=typeof v=="object"?v.value:v,Gf(E)?null:E}(t.limit));let d=null;t.startAt&&(d=function(v){const E=!!v.before,S=v.values||[];return new cf(S,E)}(t.startAt));let p=null;return t.endAt&&(p=function(v){const E=!v.before,S=v.values||[];return new cf(S,E)}(t.endAt)),_x(e,i,l,o,c,"F",d,p)}function tL(r,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ue()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function ST(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=za(t.unaryFilter.field);return Ft.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=za(t.unaryFilter.field);return Ft.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=za(t.unaryFilter.field);return Ft.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=za(t.unaryFilter.field);return Ft.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Ue()}}(r):r.fieldFilter!==void 0?function(t){return Ft.create(za(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ue()}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return Fr.create(t.compositeFilter.filters.map(n=>ST(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ue()}}(t.compositeFilter.op))}(r):Ue()}function nL(r){return Wx[r]}function rL(r){return Hx[r]}function iL(r){return $x[r]}function Ba(r){return{fieldPath:r.canonicalString()}}function za(r){return on.fromServerFormat(r.fieldPath)}function TT(r){return r instanceof Ft?function(t){if(t.op==="=="){if(pw(t.value))return{unaryFilter:{field:Ba(t.field),op:"IS_NAN"}};if(hw(t.value))return{unaryFilter:{field:Ba(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(pw(t.value))return{unaryFilter:{field:Ba(t.field),op:"IS_NOT_NAN"}};if(hw(t.value))return{unaryFilter:{field:Ba(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ba(t.field),op:rL(t.op),value:t.value}}}(r):r instanceof Fr?function(t){const n=t.getFilters().map(i=>TT(i));return n.length===1?n[0]:{compositeFilter:{op:iL(t.op),filters:n}}}(r):Ue()}function sL(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function kT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e,t,n,i,o=je.min(),l=je.min(),c=ln.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(e){return new Vs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Vs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oL{constructor(e){this.ht=e}}function aL(r){const e=eL({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Bm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL{constructor(){this.ln=new uL}addToCollectionParentIndex(e,t){return this.ln.add(t),ie.resolve()}getCollectionParents(e,t){return ie.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return ie.resolve()}deleteFieldIndex(e,t){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,t){return ie.resolve()}getDocumentsMatchingTarget(e,t){return ie.resolve(null)}getIndexType(e,t){return ie.resolve(0)}getFieldIndexes(e,t){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,t){return ie.resolve(Gs.min())}getMinOffsetFromCollectionGroup(e,t){return ie.resolve(Gs.min())}updateCollectionGroup(e,t,n){return ie.resolve()}updateIndexEntries(e,t){return ie.resolve()}}class uL{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t]||new Wt(yt.comparator),o=!i.has(n);return this.index[t]=i.add(n),o}has(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t];return i&&i.has(n)}getEntries(e){return(this.index[e]||new Wt(yt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class An{static withCacheSize(e){return new An(e,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */An.DEFAULT_COLLECTION_PERCENTILE=10,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,An.DEFAULT=new An(41943040,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),An.DISABLED=new An(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new sl(0)}static Qn(){return new sl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dw([r,e],[t,n]){const i=Ze(r,t);return i===0?Ze(e,n):i}class cL{constructor(e){this.Gn=e,this.buffer=new Wt(Dw),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const n=this.buffer.last();Dw(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}get maxValue(){return this.buffer.last()[0]}}class dL{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){Ce("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){El(t)?Ce("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await wl(t)}await this.Yn(3e5)})}}class fL{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(n=>Math.floor(t/100*n))}nthSequenceNumber(e,t){if(t===0)return ie.resolve(Kf.oe);const n=new cL(t);return this.Zn.forEachTarget(e,i=>n.Hn(i.sequenceNumber)).next(()=>this.Zn.er(e,i=>n.Hn(i))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.Zn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Ce("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(Pw)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(Ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Pw):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let n,i,o,l,c,d,p;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(Ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),i=this.params.maximumSequenceNumbersToCollect):i=v,l=Date.now(),this.nthSequenceNumber(e,i))).next(v=>(n=v,c=Date.now(),this.removeTargets(e,n,t))).next(v=>(o=v,d=Date.now(),this.removeOrphanedDocuments(e,n))).next(v=>(p=Date.now(),Ua()<=Ke.DEBUG&&Ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${i} in `+(c-l)+`ms
	Removed ${o} targets in `+(d-c)+`ms
	Removed ${v} documents in `+(p-d)+`ms
Total Duration: ${p-m}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:v})))}}function hL(r,e){return new fL(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(){this.changes=new Qo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,mn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return n!==void 0?ie.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mL{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gL{constructor(e,t,n,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(n!==null&&Du(n.mutation,i,Kn.empty(),zt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.getLocalViewOfDocuments(e,n,Ge()).next(()=>n))}getLocalViewOfDocuments(e,t,n=Ge()){const i=Fo();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,n).next(o=>{let l=Eu();return o.forEach((c,d)=>{l=l.insert(c,d.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const n=Fo();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,Ge()))}populateOverlays(e,t,n){const i=[];return n.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((l,c)=>{t.set(l,c)})})}computeViews(e,t,n,i){let o=qi();const l=Pu(),c=function(){return Pu()}();return t.forEach((d,p)=>{const m=n.get(p.key);i.has(p.key)&&(m===void 0||m.mutation instanceof oo)?o=o.insert(p.key,p):m!==void 0?(l.set(p.key,m.mutation.getFieldMask()),Du(m.mutation,p,m.mutation.getFieldMask(),zt.now())):l.set(p.key,Kn.empty())}),this.recalculateAndSaveOverlays(e,o).next(d=>(d.forEach((p,m)=>l.set(p,m)),t.forEach((p,m)=>{var v;return c.set(p,new mL(m,(v=l.get(p))!==null&&v!==void 0?v:null))}),c))}recalculateAndSaveOverlays(e,t){const n=Pu();let i=new bt((l,c)=>l-c),o=Ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const c of l)c.keys().forEach(d=>{const p=t.get(d);if(p===null)return;let m=n.get(d)||Kn.empty();m=c.applyToLocalView(p,m),n.set(d,m);const v=(i.get(c.batchId)||Ge()).add(d);i=i.insert(c.batchId,v)})}).next(()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const d=c.getNext(),p=d.key,m=d.value,v=lT();m.forEach(E=>{if(!o.has(E)){const S=pT(t.get(E),n.get(E));S!==null&&v.set(E,S),o=o.add(E)}}),l.push(this.documentOverlayCache.saveOverlays(e,p,v))}return ie.waitFor(l)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,t,n,i){return function(l){return Re.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):rT(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,i):this.getDocumentsMatchingCollectionQuery(e,t,n,i)}getNextDocuments(e,t,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,i).next(o=>{const l=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,i-o.size):ie.resolve(Fo());let c=-1,d=o;return l.next(p=>ie.forEach(p,(m,v)=>(c<v.largestBatchId&&(c=v.largestBatchId),o.get(m)?ie.resolve():this.remoteDocumentCache.getEntry(e,m).next(E=>{d=d.insert(m,E)}))).next(()=>this.populateOverlays(e,p,o)).next(()=>this.computeViews(e,d,p,Ge())).next(m=>({batchId:c,changes:aT(m)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Re(t)).next(n=>{let i=Eu();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,n,i){const o=t.collectionGroup;let l=Eu();return this.indexManager.getCollectionParents(e,o).next(c=>ie.forEach(c,d=>{const p=function(v,E){return new Zu(E,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(t,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,p,n,i).next(m=>{m.forEach((v,E)=>{l=l.insert(v,E)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,n,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,o,i))).next(l=>{o.forEach((d,p)=>{const m=p.getKey();l.get(m)===null&&(l=l.insert(m,mn.newInvalidDocument(m)))});let c=Eu();return l.forEach((d,p)=>{const m=o.get(d);m!==void 0&&Du(m.mutation,p,Kn.empty(),zt.now()),Zf(t,p)&&(c=c.insert(d,p))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vL{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return ie.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:hi(i.createTime)}}(t)),ie.resolve()}getNamedQuery(e,t){return ie.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(i){return{name:i.name,query:aL(i.bundledQuery),readTime:hi(i.readTime)}}(t)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{constructor(){this.overlays=new bt(Re.comparator),this.dr=new Map}getOverlay(e,t){return ie.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Fo();return ie.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&n.set(i,o)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((i,o)=>{this.Tt(e,t,o)}),ie.resolve()}removeOverlaysForBatchId(e,t,n){const i=this.dr.get(n);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.dr.delete(n)),ie.resolve()}getOverlaysForCollection(e,t,n){const i=Fo(),o=t.length+1,l=new Re(t.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const d=c.getNext().value,p=d.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===o&&d.largestBatchId>n&&i.set(d.getKey(),d)}return ie.resolve(i)}getOverlaysForCollectionGroup(e,t,n,i){let o=new bt((p,m)=>p-m);const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>n){let m=o.get(p.largestBatchId);m===null&&(m=Fo(),o=o.insert(p.largestBatchId,m)),m.set(p.getKey(),p)}}const c=Fo(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((p,m)=>c.set(p,m)),!(c.size()>=i)););return ie.resolve(c)}Tt(e,t,n){const i=this.overlays.get(n.key);if(i!==null){const l=this.dr.get(i.largestBatchId).delete(n.key);this.dr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(n.key,new Vx(t,n));let o=this.dr.get(t);o===void 0&&(o=Ge(),this.dr.set(t,o)),this.dr.set(t,o.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{constructor(){this.sessionToken=ln.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(){this.Er=new Wt(Xt.Ar),this.Rr=new Wt(Xt.Vr)}isEmpty(){return this.Er.isEmpty()}addReference(e,t){const n=new Xt(e,t);this.Er=this.Er.add(n),this.Rr=this.Rr.add(n)}mr(e,t){e.forEach(n=>this.addReference(n,t))}removeReference(e,t){this.gr(new Xt(e,t))}pr(e,t){e.forEach(n=>this.removeReference(n,t))}yr(e){const t=new Re(new yt([])),n=new Xt(t,e),i=new Xt(t,e+1),o=[];return this.Rr.forEachInRange([n,i],l=>{this.gr(l),o.push(l.key)}),o}wr(){this.Er.forEach(e=>this.gr(e))}gr(e){this.Er=this.Er.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new Re(new yt([])),n=new Xt(t,e),i=new Xt(t,e+1);let o=Ge();return this.Rr.forEachInRange([n,i],l=>{o=o.add(l.key)}),o}containsKey(e){const t=new Xt(e,0),n=this.Er.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}}class Xt{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return Re.comparator(e.key,t.key)||Ze(e.br,t.br)}static Vr(e,t){return Ze(e.br,t.br)||Re.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new Wt(Xt.Ar)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,i){const o=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new Nx(o,t,n,i);this.mutationQueue.push(l);for(const c of i)this.vr=this.vr.add(new Xt(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return ie.resolve(l)}lookupMutationBatch(e,t){return ie.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,i=this.Fr(n),o=i<0?0:i;return ie.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Xt(t,0),i=new Xt(t,Number.POSITIVE_INFINITY),o=[];return this.vr.forEachInRange([n,i],l=>{const c=this.Cr(l.br);o.push(c)}),ie.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Wt(Ze);return t.forEach(i=>{const o=new Xt(i,0),l=new Xt(i,Number.POSITIVE_INFINITY);this.vr.forEachInRange([o,l],c=>{n=n.add(c.br)})}),ie.resolve(this.Mr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,i=n.length+1;let o=n;Re.isDocumentKey(o)||(o=o.child(""));const l=new Xt(new Re(o),0);let c=new Wt(Ze);return this.vr.forEachWhile(d=>{const p=d.key.path;return!!n.isPrefixOf(p)&&(p.length===i&&(c=c.add(d.br)),!0)},l),ie.resolve(this.Mr(c))}Mr(e){const t=[];return e.forEach(n=>{const i=this.Cr(n);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){lt(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let n=this.vr;return ie.forEach(t.mutations,i=>{const o=new Xt(i.key,t.batchId);return n=n.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.vr=n})}Bn(e){}containsKey(e,t){const n=new Xt(t,0),i=this.vr.firstAfterOrEqual(n);return ie.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EL{constructor(e){this.Nr=e,this.docs=function(){return new bt(Re.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,i=this.docs.get(n),o=i?i.size:0,l=this.Nr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return ie.resolve(n?n.document.mutableCopy():mn.newInvalidDocument(t))}getEntries(e,t){let n=qi();return t.forEach(i=>{const o=this.docs.get(i);n=n.insert(i,o?o.document.mutableCopy():mn.newInvalidDocument(i))}),ie.resolve(n)}getDocumentsMatchingQuery(e,t,n,i){let o=qi();const l=t.path,c=new Re(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:p,value:{document:m}}=d.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||ZD(XD(m),n)<=0||(i.has(m.key)||Zf(t,m))&&(o=o.insert(m.key,m.mutableCopy()))}return ie.resolve(o)}getAllFromCollectionGroup(e,t,n,i){Ue()}Br(e,t){return ie.forEach(this.docs,n=>t(n))}newChangeBuffer(e){return new CL(this)}getSize(e){return ie.resolve(this.size)}}class CL extends pL{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?t.push(this.hr.addEntry(e,i)):this.hr.removeEntry(n)}),ie.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(e){this.persistence=e,this.Lr=new Qo(t=>wg(t),Eg),this.lastRemoteSnapshotVersion=je.min(),this.highestTargetId=0,this.kr=0,this.qr=new Pg,this.targetCount=0,this.Qr=sl.qn()}forEachTarget(e,t){return this.Lr.forEach((n,i)=>t(i)),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.kr&&(this.kr=t),ie.resolve()}Un(e){this.Lr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new sl(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,ie.resolve()}updateTargetData(e,t){return this.Un(t),ie.resolve()}removeTargetData(e,t){return this.Lr.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,t,n){let i=0;const o=[];return this.Lr.forEach((l,c)=>{c.sequenceNumber<=t&&n.get(c.targetId)===null&&(this.Lr.delete(l),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),ie.waitFor(o).next(()=>i)}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,t){const n=this.Lr.get(t)||null;return ie.resolve(n)}addMatchingKeys(e,t,n){return this.qr.mr(t,n),ie.resolve()}removeMatchingKeys(e,t,n){this.qr.pr(t,n);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(l=>{o.push(i.markPotentiallyOrphaned(e,l))}),ie.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),ie.resolve()}getMatchingKeysForTargetId(e,t){const n=this.qr.Sr(t);return ie.resolve(n)}containsKey(e,t){return ie.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(e,t){this.Kr={},this.overlays={},this.$r=new Kf(0),this.Ur=!1,this.Ur=!0,this.Wr=new _L,this.referenceDelegate=e(this),this.Gr=new SL(this),this.indexManager=new lL,this.remoteDocumentCache=function(i){return new EL(i)}(n=>this.referenceDelegate.zr(n)),this.serializer=new oL(t),this.jr=new vL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new yL,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Kr[e.toKey()];return n||(n=new wL(t,this.referenceDelegate),this.Kr[e.toKey()]=n),n}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,n){Ce("MemoryPersistence","Starting transaction:",e);const i=new TL(this.$r.next());return this.referenceDelegate.Hr(),n(i).next(o=>this.referenceDelegate.Jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Yr(e,t){return ie.or(Object.values(this.Kr).map(n=>()=>n.containsKey(e,t)))}}class TL extends ex{constructor(e){super(),this.currentSequenceNumber=e}}class Dg{constructor(e){this.persistence=e,this.Zr=new Pg,this.Xr=null}static ei(e){return new Dg(e)}get ti(){if(this.Xr)return this.Xr;throw Ue()}addReference(e,t,n){return this.Zr.addReference(n,t),this.ti.delete(n.toString()),ie.resolve()}removeReference(e,t,n){return this.Zr.removeReference(n,t),this.ti.add(n.toString()),ie.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),ie.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(i=>this.ti.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.ti.add(o.toString()))}).next(()=>n.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.ti,n=>{const i=Re.fromPath(n);return this.ni(e,i).next(o=>{o||t.removeEntry(i,je.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(n=>{n?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return ie.or([()=>ie.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class mf{constructor(e,t){this.persistence=e,this.ri=new Qo(n=>rx(n.path),(n,i)=>n.isEqual(i)),this.garbageCollector=hL(this,t)}static ei(e,t){return new mf(e,t)}Hr(){}Jr(e){return ie.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>t.next(i=>n+i))}nr(e){let t=0;return this.er(e,n=>{t++}).next(()=>t)}er(e,t){return ie.forEach(this.ri,(n,i)=>this.ir(e,n,i).next(o=>o?ie.resolve():t(i)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.Br(e,l=>this.ir(e,l,t).next(c=>{c||(n++,o.removeEntry(l,je.min()))})).next(()=>o.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),ie.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.ri.set(n,e.currentSequenceNumber),ie.resolve()}removeReference(e,t,n){return this.ri.set(n,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),ie.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=zd(e.data.value)),t}ir(e,t,n){return ie.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.ri.get(t);return ie.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(e,t,n,i){this.targetId=e,this.fromCache=t,this.Wi=n,this.Gi=i}static zi(e,t){let n=Ge(),i=Ge();for(const o of t.docChanges)switch(o.type){case 0:n=n.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new xg(e,t.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return TP()?8:tx(gn())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,n,i){const o={result:null};return this.Xi(e,t).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.es(e,t,i,n).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new kL;return this.ts(e,t,l).next(c=>{if(o.result=c,this.Hi)return this.ns(e,t,l,c.size)})}).next(()=>o.result)}ns(e,t,n,i){return n.documentReadCount<this.Ji?(Ua()<=Ke.DEBUG&&Ce("QueryEngine","SDK will not create cache indexes for query:",ja(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),ie.resolve()):(Ua()<=Ke.DEBUG&&Ce("QueryEngine","Query:",ja(t),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.Yi*i?(Ua()<=Ke.DEBUG&&Ce("QueryEngine","The SDK decides to create cache indexes for query:",ja(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,fi(t))):ie.resolve())}Xi(e,t){if(yw(t))return ie.resolve(null);let n=fi(t);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=Bm(t,null,"F"),n=fi(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(o=>{const l=Ge(...o);return this.Zi.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,n).next(d=>{const p=this.rs(t,c);return this.ss(t,p,l,d.readTime)?this.Xi(e,Bm(t,null,"F")):this.os(e,p,t,d)}))})))}es(e,t,n,i){return yw(t)||i.isEqual(je.min())?ie.resolve(null):this.Zi.getDocuments(e,n).next(o=>{const l=this.rs(t,o);return this.ss(t,l,n,i)?ie.resolve(null):(Ua()<=Ke.DEBUG&&Ce("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ja(t)),this.os(e,l,t,QD(i,-1)).next(c=>c))})}rs(e,t){let n=new Wt(sT(e));return t.forEach((i,o)=>{Zf(e,o)&&(n=n.add(o))}),n}ss(e,t,n,i){if(e.limit===null)return!1;if(n.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ts(e,t,n){return Ua()<=Ke.DEBUG&&Ce("QueryEngine","Using full collection scan to execute query:",ja(t)),this.Zi.getDocumentsMatchingQuery(e,t,Gs.min(),n)}os(e,t,n,i){return this.Zi.getDocumentsMatchingQuery(e,n,i).next(o=>(t.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(e,t,n,i){this.persistence=e,this._s=t,this.serializer=i,this.us=new bt(Ze),this.cs=new Qo(o=>wg(o),Eg),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(n)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gL(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function PL(r,e,t,n){return new IL(r,e,t,n)}async function IT(r,e){const t=Be(r);return await t.persistence.runTransaction("Handle user change","readonly",n=>{let i;return t.mutationQueue.getAllMutationBatches(n).next(o=>(i=o,t.Ps(e),t.mutationQueue.getAllMutationBatches(n))).next(o=>{const l=[],c=[];let d=Ge();for(const p of i){l.push(p.batchId);for(const m of p.mutations)d=d.add(m.key)}for(const p of o){c.push(p.batchId);for(const m of p.mutations)d=d.add(m.key)}return t.localDocuments.getDocuments(n,d).next(p=>({Ts:p,removedBatchIds:l,addedBatchIds:c}))})})}function DL(r,e){const t=Be(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),o=t.hs.newChangeBuffer({trackRemovals:!0});return function(c,d,p,m){const v=p.batch,E=v.keys();let S=ie.resolve();return E.forEach(T=>{S=S.next(()=>m.getEntry(d,T)).next(L=>{const P=p.docVersions.get(T);lt(P!==null),L.version.compareTo(P)<0&&(v.applyToRemoteDocument(L,p),L.isValidDocument()&&(L.setReadTime(p.commitVersion),m.addEntry(L)))})}),S.next(()=>c.mutationQueue.removeMutationBatch(d,v))}(t,n,e,o).next(()=>o.apply(n)).next(()=>t.mutationQueue.performConsistencyCheck(n)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(c){let d=Ge();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(d=d.add(c.batch.mutations[p].key));return d}(e))).next(()=>t.localDocuments.getDocuments(n,i))})}function PT(r){const e=Be(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function xL(r,e){const t=Be(r),n=e.snapshotVersion;let i=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=t.hs.newChangeBuffer({trackRemovals:!0});i=t.us;const c=[];e.targetChanges.forEach((m,v)=>{const E=i.get(v);if(!E)return;c.push(t.Gr.removeMatchingKeys(o,m.removedDocuments,v).next(()=>t.Gr.addMatchingKeys(o,m.addedDocuments,v)));let S=E.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(v)!==null?S=S.withResumeToken(ln.EMPTY_BYTE_STRING,je.min()).withLastLimboFreeSnapshotVersion(je.min()):m.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(m.resumeToken,n)),i=i.insert(v,S),function(L,P,V){return L.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=3e8?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0}(E,S,m)&&c.push(t.Gr.updateTargetData(o,S))});let d=qi(),p=Ge();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(o,m))}),c.push(LL(o,l,e.documentUpdates).next(m=>{d=m.Is,p=m.ds})),!n.isEqual(je.min())){const m=t.Gr.getLastRemoteSnapshotVersion(o).next(v=>t.Gr.setTargetsMetadata(o,o.currentSequenceNumber,n));c.push(m)}return ie.waitFor(c).next(()=>l.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,d,p)).next(()=>d)}).then(o=>(t.us=i,o))}function LL(r,e,t){let n=Ge(),i=Ge();return t.forEach(o=>n=n.add(o)),e.getEntries(r,n).next(o=>{let l=qi();return t.forEach((c,d)=>{const p=o.get(c);d.isFoundDocument()!==p.isFoundDocument()&&(i=i.add(c)),d.isNoDocument()&&d.version.isEqual(je.min())?(e.removeEntry(c,d.readTime),l=l.insert(c,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(d),l=l.insert(c,d)):Ce("LocalStore","Ignoring outdated watch update for ",c,". Current version:",p.version," Watch version:",d.version)}),{Is:l,ds:i}})}function RL(r,e){const t=Be(r);return t.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function ML(r,e){const t=Be(r);return t.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return t.Gr.getTargetData(n,e).next(o=>o?(i=o,ie.resolve(i)):t.Gr.allocateTargetId(n).next(l=>(i=new Vs(e,l,"TargetPurposeListen",n.currentSequenceNumber),t.Gr.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=t.us.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.us=t.us.insert(n.targetId,n),t.cs.set(e,n.targetId)),n})}async function Ym(r,e,t){const n=Be(r),i=n.us.get(e),o=t?"readwrite":"readwrite-primary";try{t||await n.persistence.runTransaction("Release target",o,l=>n.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!El(l))throw l;Ce("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}n.us=n.us.remove(e),n.cs.delete(i.target)}function xw(r,e,t){const n=Be(r);let i=je.min(),o=Ge();return n.persistence.runTransaction("Execute query","readwrite",l=>function(d,p,m){const v=Be(d),E=v.cs.get(m);return E!==void 0?ie.resolve(v.us.get(E)):v.Gr.getTargetData(p,m)}(n,l,fi(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,n.Gr.getMatchingKeysForTargetId(l,c.targetId).next(d=>{o=d})}).next(()=>n._s.getDocumentsMatchingQuery(l,e,t?i:je.min(),t?o:Ge())).next(c=>(AL(n,Ex(e),c),{documents:c,Es:o})))}function AL(r,e,t){let n=r.ls.get(e)||je.min();t.forEach((i,o)=>{o.readTime.compareTo(n)>0&&(n=o.readTime)}),r.ls.set(e,n)}class Lw{constructor(){this.activeTargetIds=Ix()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class OL{constructor(){this._o=new Lw,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,n){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new Lw,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){Ce("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){Ce("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xd=null;function lm(){return xd===null?xd=function(){return 268435456+Math.round(2147483648*Math.random())}():xd++,"0x"+xd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FL{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hn="WebChannelConnection";class UL extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Fo=n+"://"+t.host,this.Mo=`projects/${i}/databases/${o}`,this.xo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Oo(t,n,i,o,l){const c=lm(),d=this.No(t,n.toUriEncodedString());Ce("RestConnection",`Sending RPC '${t}' ${c}:`,d,i);const p={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Bo(p,o,l),this.Lo(t,d,p,i).then(m=>(Ce("RestConnection",`Received RPC '${t}' ${c}: `,m),m),m=>{throw tl("RestConnection",`RPC '${t}' ${c} failed with error: `,m,"url: ",d,"request:",i),m})}ko(t,n,i,o,l,c){return this.Oo(t,n,i,o,l)}Bo(t,n,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+_l}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,l)=>t[l]=o),i&&i.headers.forEach((o,l)=>t[l]=o)}No(t,n){const i=VL[t];return`${this.Fo}/v1/${n}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Lo(e,t,n,i){const o=lm();return new Promise((l,c)=>{const d=new BS;d.setWithCredentials(!0),d.listenOnce(zS.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Bd.NO_ERROR:const m=d.getResponseJson();Ce(hn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(m)),l(m);break;case Bd.TIMEOUT:Ce(hn,`RPC '${e}' ${o} timed out`),c(new ke(se.DEADLINE_EXCEEDED,"Request time out"));break;case Bd.HTTP_ERROR:const v=d.getStatus();if(Ce(hn,`RPC '${e}' ${o} failed with status:`,v,"response text:",d.getResponseText()),v>0){let E=d.getResponseJson();Array.isArray(E)&&(E=E[0]);const S=E==null?void 0:E.error;if(S&&S.status&&S.message){const T=function(P){const V=P.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(V)>=0?V:se.UNKNOWN}(S.status);c(new ke(T,S.message))}else c(new ke(se.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new ke(se.UNAVAILABLE,"Connection failed."));break;default:Ue()}}finally{Ce(hn,`RPC '${e}' ${o} completed.`)}});const p=JSON.stringify(i);Ce(hn,`RPC '${e}' ${o} sending request:`,i),d.send(t,"POST",p,n,15)})}qo(e,t,n){const i=lm(),o=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=$S(),c=HS(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Bo(d.initMessageHeaders,t,n),d.encodeInitMessageHeaders=!0;const m=o.join("");Ce(hn,`Creating RPC '${e}' stream ${i}: ${m}`,d);const v=l.createWebChannel(m,d);let E=!1,S=!1;const T=new FL({Eo:P=>{S?Ce(hn,`Not sending because RPC '${e}' stream ${i} is closed:`,P):(E||(Ce(hn,`Opening RPC '${e}' stream ${i} transport.`),v.open(),E=!0),Ce(hn,`RPC '${e}' stream ${i} sending:`,P),v.send(P))},Ao:()=>v.close()}),L=(P,V,F)=>{P.listen(V,H=>{try{F(H)}catch(j){setTimeout(()=>{throw j},0)}})};return L(v,wu.EventType.OPEN,()=>{S||(Ce(hn,`RPC '${e}' stream ${i} transport opened.`),T.So())}),L(v,wu.EventType.CLOSE,()=>{S||(S=!0,Ce(hn,`RPC '${e}' stream ${i} transport closed`),T.Do())}),L(v,wu.EventType.ERROR,P=>{S||(S=!0,tl(hn,`RPC '${e}' stream ${i} transport errored:`,P),T.Do(new ke(se.UNAVAILABLE,"The operation could not be completed")))}),L(v,wu.EventType.MESSAGE,P=>{var V;if(!S){const F=P.data[0];lt(!!F);const H=F,j=(H==null?void 0:H.error)||((V=H[0])===null||V===void 0?void 0:V.error);if(j){Ce(hn,`RPC '${e}' stream ${i} received error:`,j);const z=j.status;let $=function(k){const R=Vt[k];if(R!==void 0)return gT(R)}(z),D=j.message;$===void 0&&($=se.INTERNAL,D="Unknown error status: "+z+" with message "+j.message),S=!0,T.Do(new ke($,D)),v.close()}else Ce(hn,`RPC '${e}' stream ${i} received:`,F),T.vo(F)}}),L(c,WS.STAT_EVENT,P=>{P.stat===Om.PROXY?Ce(hn,`RPC '${e}' stream ${i} detected buffering proxy`):P.stat===Om.NOPROXY&&Ce(hn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{T.bo()},0),T}}function um(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nh(r){return new Yx(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(e,t,n=1e3,i=1.5,o=6e4){this.li=e,this.timerId=t,this.Qo=n,this.Ko=i,this.$o=o,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),n=Math.max(0,Date.now()-this.Go),i=Math.max(0,t-n);i>0&&Ce("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,i,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(e,t,n,i,o,l,c,d){this.li=e,this.Yo=n,this.Zo=i,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new DT(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===se.RESOURCE_EXHAUSTED?(Yi(t.toString()),Yi("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.Xo===t&&this.I_(n,i)},n=>{e(()=>{const i=new ke(se.UNKNOWN,"Fetching auth token failed: "+n.message);return this.d_(i)})})}I_(e,t){const n=this.T_(this.Xo);this.stream=this.E_(e,t),this.stream.Ro(()=>{n(()=>this.listener.Ro())}),this.stream.mo(()=>{n(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(i=>{n(()=>this.d_(i))}),this.stream.onMessage(i=>{n(()=>++this.n_==1?this.A_(i):this.onNext(i))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}d_(e){return Ce("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(Ce("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class jL extends xT{constructor(e,t,n,i,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,i,l),this.serializer=o}E_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=Gx(this.serializer,e),n=function(o){if(!("targetChange"in o))return je.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?je.min():l.readTime?hi(l.readTime):je.min()}(e);return this.listener.R_(t,n)}V_(e){const t={};t.database=$m(this.serializer),t.addTarget=function(o,l){let c;const d=l.target;if(c=Um(d)?{documents:Zx(o,d)}:{query:Jx(o,d).ct},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=_T(o,l.resumeToken);const p=zm(o,l.expectedCount);p!==null&&(c.expectedCount=p)}else if(l.snapshotVersion.compareTo(je.min())>0){c.readTime=pf(o,l.snapshotVersion.toTimestamp());const p=zm(o,l.expectedCount);p!==null&&(c.expectedCount=p)}return c}(this.serializer,e);const n=tL(this.serializer,e);n&&(t.labels=n),this.c_(t)}m_(e){const t={};t.database=$m(this.serializer),t.removeTarget=e,this.c_(t)}}class BL extends xT{constructor(e,t,n,i,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,i,l),this.serializer=o}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}E_(e,t){return this.connection.qo("Write",e,t)}A_(e){return lt(!!e.streamToken),this.lastStreamToken=e.streamToken,lt(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){lt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=Xx(e.writeResults,e.commitTime),n=hi(e.commitTime);return this.listener.y_(n,t)}w_(){const e={};e.database=$m(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(n=>Qx(this.serializer,n))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zL extends class{}{constructor(e,t,n,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=i,this.S_=!1}b_(){if(this.S_)throw new ke(se.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,n,i){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Oo(e,Wm(t,n),i,o,l)).catch(o=>{throw o.name==="FirebaseError"?(o.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ke(se.UNKNOWN,o.toString())})}ko(e,t,n,i,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.ko(e,Wm(t,n),i,l,c,o)).catch(l=>{throw l.name==="FirebaseError"?(l.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ke(se.UNKNOWN,l.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class WL{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Yi(t),this.C_=!1):Ce("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL{constructor(e,t,n,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.B_=[],this.L_=new Map,this.k_=new Set,this.q_=[],this.Q_=o,this.Q_.uo(l=>{n.enqueueAndForget(async()=>{Xo(this)&&(Ce("RemoteStore","Restarting streams for network reachability change."),await async function(d){const p=Be(d);p.k_.add(4),await tc(p),p.K_.set("Unknown"),p.k_.delete(4),await rh(p)}(this))})}),this.K_=new WL(n,i)}}async function rh(r){if(Xo(r))for(const e of r.q_)await e(!0)}async function tc(r){for(const e of r.q_)await e(!1)}function LT(r,e){const t=Be(r);t.L_.has(e.targetId)||(t.L_.set(e.targetId,e),Ag(t)?Mg(t):Cl(t).s_()&&Rg(t,e))}function Lg(r,e){const t=Be(r),n=Cl(t);t.L_.delete(e),n.s_()&&RT(t,e),t.L_.size===0&&(n.s_()?n.a_():Xo(t)&&t.K_.set("Unknown"))}function Rg(r,e){if(r.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(je.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Cl(r).V_(e)}function RT(r,e){r.U_.xe(e),Cl(r).m_(e)}function Mg(r){r.U_=new zx({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>r.L_.get(e)||null,nt:()=>r.datastore.serializer.databaseId}),Cl(r).start(),r.K_.F_()}function Ag(r){return Xo(r)&&!Cl(r).i_()&&r.L_.size>0}function Xo(r){return Be(r).k_.size===0}function MT(r){r.U_=void 0}async function $L(r){r.K_.set("Online")}async function YL(r){r.L_.forEach((e,t)=>{Rg(r,e)})}async function qL(r,e){MT(r),Ag(r)?(r.K_.O_(e),Mg(r)):r.K_.set("Unknown")}async function KL(r,e,t){if(r.K_.set("Online"),e instanceof yT&&e.state===2&&e.cause)try{await async function(i,o){const l=o.cause;for(const c of o.targetIds)i.L_.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i.L_.delete(c),i.U_.removeTarget(c))}(r,e)}catch(n){Ce("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await gf(r,n)}else if(e instanceof $d?r.U_.$e(e):e instanceof vT?r.U_.Je(e):r.U_.Ge(e),!t.isEqual(je.min()))try{const n=await PT(r.localStore);t.compareTo(n)>=0&&await function(o,l){const c=o.U_.it(l);return c.targetChanges.forEach((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const m=o.L_.get(p);m&&o.L_.set(p,m.withResumeToken(d.resumeToken,l))}}),c.targetMismatches.forEach((d,p)=>{const m=o.L_.get(d);if(!m)return;o.L_.set(d,m.withResumeToken(ln.EMPTY_BYTE_STRING,m.snapshotVersion)),RT(o,d);const v=new Vs(m.target,d,p,m.sequenceNumber);Rg(o,v)}),o.remoteSyncer.applyRemoteEvent(c)}(r,t)}catch(n){Ce("RemoteStore","Failed to raise snapshot:",n),await gf(r,n)}}async function gf(r,e,t){if(!El(e))throw e;r.k_.add(1),await tc(r),r.K_.set("Offline"),t||(t=()=>PT(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{Ce("RemoteStore","Retrying IndexedDB access"),await t(),r.k_.delete(1),await rh(r)})}function AT(r,e){return e().catch(t=>gf(r,t,e))}async function ih(r){const e=Be(r),t=Js(e);let n=e.B_.length>0?e.B_[e.B_.length-1].batchId:-1;for(;GL(e);)try{const i=await RL(e.localStore,n);if(i===null){e.B_.length===0&&t.a_();break}n=i.batchId,QL(e,i)}catch(i){await gf(e,i)}OT(e)&&NT(e)}function GL(r){return Xo(r)&&r.B_.length<10}function QL(r,e){r.B_.push(e);const t=Js(r);t.s_()&&t.f_&&t.g_(e.mutations)}function OT(r){return Xo(r)&&!Js(r).i_()&&r.B_.length>0}function NT(r){Js(r).start()}async function XL(r){Js(r).w_()}async function ZL(r){const e=Js(r);for(const t of r.B_)e.g_(t.mutations)}async function JL(r,e,t){const n=r.B_.shift(),i=kg.from(n,e,t);await AT(r,()=>r.remoteSyncer.applySuccessfulWrite(i)),await ih(r)}async function eR(r,e){e&&Js(r).f_&&await async function(n,i){if(function(l){return Ux(l)&&l!==se.ABORTED}(i.code)){const o=n.B_.shift();Js(n).__(),await AT(n,()=>n.remoteSyncer.rejectFailedWrite(o.batchId,i)),await ih(n)}}(r,e),OT(r)&&NT(r)}async function Mw(r,e){const t=Be(r);t.asyncQueue.verifyOperationInProgress(),Ce("RemoteStore","RemoteStore received new credentials");const n=Xo(t);t.k_.add(3),await tc(t),n&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await rh(t)}async function tR(r,e){const t=Be(r);e?(t.k_.delete(2),await rh(t)):e||(t.k_.add(2),await tc(t),t.K_.set("Unknown"))}function Cl(r){return r.W_||(r.W_=function(t,n,i){const o=Be(t);return o.b_(),new jL(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(r.datastore,r.asyncQueue,{Ro:$L.bind(null,r),mo:YL.bind(null,r),po:qL.bind(null,r),R_:KL.bind(null,r)}),r.q_.push(async e=>{e?(r.W_.__(),Ag(r)?Mg(r):r.K_.set("Unknown")):(await r.W_.stop(),MT(r))})),r.W_}function Js(r){return r.G_||(r.G_=function(t,n,i){const o=Be(t);return o.b_(),new BL(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(r.datastore,r.asyncQueue,{Ro:()=>Promise.resolve(),mo:XL.bind(null,r),po:eR.bind(null,r),p_:ZL.bind(null,r),y_:JL.bind(null,r)}),r.q_.push(async e=>{e?(r.G_.__(),await ih(r)):(await r.G_.stop(),r.B_.length>0&&(Ce("RemoteStore",`Stopping write stream with ${r.B_.length} pending writes`),r.B_=[]))})),r.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(e,t,n,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=i,this.removalCallback=o,this.deferred=new Ui,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,i,o){const l=Date.now()+n,c=new Og(e,t,l,i,o);return c.start(n),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ke(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ng(r,e){if(Yi("AsyncQueue",`${e}: ${r}`),El(r))return new ke(se.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{static emptySet(e){return new qa(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||Re.comparator(t.key,n.key):(t,n)=>Re.comparator(t.key,n.key),this.keyedMap=Eu(),this.sortedSet=new bt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof qa)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=n.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const n=new qa;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(){this.z_=new bt(Re.comparator)}track(e){const t=e.doc.key,n=this.z_.get(t);n?e.type!==0&&n.type===3?this.z_=this.z_.insert(t,e):e.type===3&&n.type!==1?this.z_=this.z_.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.z_=this.z_.remove(t):e.type===1&&n.type===2?this.z_=this.z_.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):Ue():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,n)=>{e.push(n)}),e}}class ol{constructor(e,t,n,i,o,l,c,d,p){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=p}static fromInitialDocuments(e,t,n,i,o){const l=[];return t.forEach(c=>{l.push({type:0,doc:c})}),new ol(e,t,qa.emptySet(t),l,n,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==n[i].type||!t[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class rR{constructor(){this.queries=Ow(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,n){const i=Be(t),o=i.queries;i.queries=Ow(),o.forEach((l,c)=>{for(const d of c.J_)d.onError(n)})})(this,new ke(se.ABORTED,"Firestore shutting down"))}}function Ow(){return new Qo(r=>iT(r),Xf)}async function VT(r,e){const t=Be(r);let n=3;const i=e.query;let o=t.queries.get(i);o?!o.Y_()&&e.Z_()&&(n=2):(o=new nR,n=e.Z_()?0:1);try{switch(n){case 0:o.H_=await t.onListen(i,!0);break;case 1:o.H_=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(l){const c=Ng(l,`Initialization of query '${ja(e.query)}' failed`);return void e.onError(c)}t.queries.set(i,o),o.J_.push(e),e.ea(t.onlineState),o.H_&&e.ta(o.H_)&&Vg(t)}async function FT(r,e){const t=Be(r),n=e.query;let i=3;const o=t.queries.get(n);if(o){const l=o.J_.indexOf(e);l>=0&&(o.J_.splice(l,1),o.J_.length===0?i=e.Z_()?0:1:!o.Y_()&&e.Z_()&&(i=2))}switch(i){case 0:return t.queries.delete(n),t.onUnlisten(n,!0);case 1:return t.queries.delete(n),t.onUnlisten(n,!1);case 2:return t.onLastRemoteStoreUnlisten(n);default:return}}function iR(r,e){const t=Be(r);let n=!1;for(const i of e){const o=i.query,l=t.queries.get(o);if(l){for(const c of l.J_)c.ta(i)&&(n=!0);l.H_=i}}n&&Vg(t)}function sR(r,e,t){const n=Be(r),i=n.queries.get(e);if(i)for(const o of i.J_)o.onError(t);n.queries.delete(e)}function Vg(r){r.X_.forEach(e=>{e.next()})}var qm,Nw;(Nw=qm||(qm={})).na="default",Nw.Cache="cache";class UT{constructor(e,t,n){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=n||{}}ta(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new ol(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const n=t!=="Offline";return(!this.options.ua||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=ol.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==qm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(e){this.key=e}}class BT{constructor(e){this.key=e}}class oR{constructor(e,t){this.query=e,this.Ea=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Ge(),this.mutatedKeys=Ge(),this.Va=sT(e),this.ma=new qa(this.Va)}get fa(){return this.Ea}ga(e,t){const n=t?t.pa:new Aw,i=t?t.ma:this.ma;let o=t?t.mutatedKeys:this.mutatedKeys,l=i,c=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,p=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((m,v)=>{const E=i.get(m),S=Zf(this.query,v)?v:null,T=!!E&&this.mutatedKeys.has(E.key),L=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let P=!1;E&&S?E.data.isEqual(S.data)?T!==L&&(n.track({type:3,doc:S}),P=!0):this.ya(E,S)||(n.track({type:2,doc:S}),P=!0,(d&&this.Va(S,d)>0||p&&this.Va(S,p)<0)&&(c=!0)):!E&&S?(n.track({type:0,doc:S}),P=!0):E&&!S&&(n.track({type:1,doc:E}),P=!0,(d||p)&&(c=!0)),P&&(S?(l=l.add(S),o=L?o.add(m):o.delete(m)):(l=l.delete(m),o=o.delete(m)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),o=o.delete(m.key),n.track({type:1,doc:m})}return{ma:l,pa:n,ss:c,mutatedKeys:o}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,i){const o=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const l=e.pa.j_();l.sort((m,v)=>function(S,T){const L=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ue()}};return L(S)-L(T)}(m.type,v.type)||this.Va(m.doc,v.doc)),this.wa(n),i=i!=null&&i;const c=t&&!i?this.Sa():[],d=this.Ra.size===0&&this.current&&!i?1:0,p=d!==this.Aa;return this.Aa=d,l.length!==0||p?{snapshot:new ol(this.query,e.ma,o,l,e.mutatedKeys,d===0,p,!1,!!n&&n.resumeToken.approximateByteSize()>0),ba:c}:{ba:c}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new Aw,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.Ea.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.Ea=this.Ea.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ea=this.Ea.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Ge(),this.ma.forEach(n=>{this.Da(n.key)&&(this.Ra=this.Ra.add(n.key))});const t=[];return e.forEach(n=>{this.Ra.has(n)||t.push(new BT(n))}),this.Ra.forEach(n=>{e.has(n)||t.push(new jT(n))}),t}va(e){this.Ea=e.Es,this.Ra=Ge();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return ol.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class aR{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class lR{constructor(e){this.key=e,this.Fa=!1}}class uR{constructor(e,t,n,i,o,l){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.Ma={},this.xa=new Qo(c=>iT(c),Xf),this.Oa=new Map,this.Na=new Set,this.Ba=new bt(Re.comparator),this.La=new Map,this.ka=new Pg,this.qa={},this.Qa=new Map,this.Ka=sl.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function cR(r,e,t=!0){const n=qT(r);let i;const o=n.xa.get(e);return o?(n.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Ca()):i=await zT(n,e,t,!0),i}async function dR(r,e){const t=qT(r);await zT(t,e,!0,!1)}async function zT(r,e,t,n){const i=await ML(r.localStore,fi(e)),o=i.targetId,l=r.sharedClientState.addLocalQueryTarget(o,t);let c;return n&&(c=await fR(r,e,o,l==="current",i.resumeToken)),r.isPrimaryClient&&t&&LT(r.remoteStore,i),c}async function fR(r,e,t,n,i){r.Ua=(v,E,S)=>async function(L,P,V,F){let H=P.view.ga(V);H.ss&&(H=await xw(L.localStore,P.query,!1).then(({documents:D})=>P.view.ga(D,H)));const j=F&&F.targetChanges.get(P.targetId),z=F&&F.targetMismatches.get(P.targetId)!=null,$=P.view.applyChanges(H,L.isPrimaryClient,j,z);return Fw(L,P.targetId,$.ba),$.snapshot}(r,v,E,S);const o=await xw(r.localStore,e,!0),l=new oR(e,o.Es),c=l.ga(o.documents),d=ec.createSynthesizedTargetChangeForCurrentChange(t,n&&r.onlineState!=="Offline",i),p=l.applyChanges(c,r.isPrimaryClient,d);Fw(r,t,p.ba);const m=new aR(e,t,l);return r.xa.set(e,m),r.Oa.has(t)?r.Oa.get(t).push(e):r.Oa.set(t,[e]),p.snapshot}async function hR(r,e,t){const n=Be(r),i=n.xa.get(e),o=n.Oa.get(i.targetId);if(o.length>1)return n.Oa.set(i.targetId,o.filter(l=>!Xf(l,e))),void n.xa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Ym(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),t&&Lg(n.remoteStore,i.targetId),Km(n,i.targetId)}).catch(wl)):(Km(n,i.targetId),await Ym(n.localStore,i.targetId,!0))}async function pR(r,e){const t=Be(r),n=t.xa.get(e),i=t.Oa.get(n.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(n.targetId),Lg(t.remoteStore,n.targetId))}async function mR(r,e,t){const n=CR(r);try{const i=await function(l,c){const d=Be(l),p=zt.now(),m=c.reduce((S,T)=>S.add(T.key),Ge());let v,E;return d.persistence.runTransaction("Locally write mutations","readwrite",S=>{let T=qi(),L=Ge();return d.hs.getEntries(S,m).next(P=>{T=P,T.forEach((V,F)=>{F.isValidDocument()||(L=L.add(V))})}).next(()=>d.localDocuments.getOverlayedDocuments(S,T)).next(P=>{v=P;const V=[];for(const F of c){const H=Ax(F,v.get(F.key).overlayedDocument);H!=null&&V.push(new oo(F.key,H,QS(H.value.mapValue),Or.exists(!0)))}return d.mutationQueue.addMutationBatch(S,p,V,c)}).next(P=>{E=P;const V=P.applyToLocalDocumentSet(v,L);return d.documentOverlayCache.saveOverlays(S,P.batchId,V)})}).then(()=>({batchId:E.batchId,changes:aT(v)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(l,c,d){let p=l.qa[l.currentUser.toKey()];p||(p=new bt(Ze)),p=p.insert(c,d),l.qa[l.currentUser.toKey()]=p}(n,i.batchId,t),await nc(n,i.changes),await ih(n.remoteStore)}catch(i){const o=Ng(i,"Failed to persist write");t.reject(o)}}async function WT(r,e){const t=Be(r);try{const n=await xL(t.localStore,e);e.targetChanges.forEach((i,o)=>{const l=t.La.get(o);l&&(lt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.Fa=!0:i.modifiedDocuments.size>0?lt(l.Fa):i.removedDocuments.size>0&&(lt(l.Fa),l.Fa=!1))}),await nc(t,n,e)}catch(n){await wl(n)}}function Vw(r,e,t){const n=Be(r);if(n.isPrimaryClient&&t===0||!n.isPrimaryClient&&t===1){const i=[];n.xa.forEach((o,l)=>{const c=l.view.ea(e);c.snapshot&&i.push(c.snapshot)}),function(l,c){const d=Be(l);d.onlineState=c;let p=!1;d.queries.forEach((m,v)=>{for(const E of v.J_)E.ea(c)&&(p=!0)}),p&&Vg(d)}(n.eventManager,e),i.length&&n.Ma.R_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function gR(r,e,t){const n=Be(r);n.sharedClientState.updateQueryState(e,"rejected",t);const i=n.La.get(e),o=i&&i.key;if(o){let l=new bt(Re.comparator);l=l.insert(o,mn.newNoDocument(o,je.min()));const c=Ge().add(o),d=new th(je.min(),new Map,new bt(Ze),l,c);await WT(n,d),n.Ba=n.Ba.remove(o),n.La.delete(e),Fg(n)}else await Ym(n.localStore,e,!1).then(()=>Km(n,e,t)).catch(wl)}async function vR(r,e){const t=Be(r),n=e.batch.batchId;try{const i=await DL(t.localStore,e);$T(t,n,null),HT(t,n),t.sharedClientState.updateMutationState(n,"acknowledged"),await nc(t,i)}catch(i){await wl(i)}}async function yR(r,e,t){const n=Be(r);try{const i=await function(l,c){const d=Be(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let m;return d.mutationQueue.lookupMutationBatch(p,c).next(v=>(lt(v!==null),m=v.keys(),d.mutationQueue.removeMutationBatch(p,v))).next(()=>d.mutationQueue.performConsistencyCheck(p)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(p,m,c)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,m)).next(()=>d.localDocuments.getDocuments(p,m))})}(n.localStore,e);$T(n,e,t),HT(n,e),n.sharedClientState.updateMutationState(e,"rejected",t),await nc(n,i)}catch(i){await wl(i)}}function HT(r,e){(r.Qa.get(e)||[]).forEach(t=>{t.resolve()}),r.Qa.delete(e)}function $T(r,e,t){const n=Be(r);let i=n.qa[n.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),n.qa[n.currentUser.toKey()]=i}}function Km(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const n of r.Oa.get(e))r.xa.delete(n),t&&r.Ma.Wa(n,t);r.Oa.delete(e),r.isPrimaryClient&&r.ka.yr(e).forEach(n=>{r.ka.containsKey(n)||YT(r,n)})}function YT(r,e){r.Na.delete(e.path.canonicalString());const t=r.Ba.get(e);t!==null&&(Lg(r.remoteStore,t),r.Ba=r.Ba.remove(e),r.La.delete(t),Fg(r))}function Fw(r,e,t){for(const n of t)n instanceof jT?(r.ka.addReference(n.key,e),_R(r,n)):n instanceof BT?(Ce("SyncEngine","Document no longer in limbo: "+n.key),r.ka.removeReference(n.key,e),r.ka.containsKey(n.key)||YT(r,n.key)):Ue()}function _R(r,e){const t=e.key,n=t.path.canonicalString();r.Ba.get(t)||r.Na.has(n)||(Ce("SyncEngine","New document in limbo: "+t),r.Na.add(n),Fg(r))}function Fg(r){for(;r.Na.size>0&&r.Ba.size<r.maxConcurrentLimboResolutions;){const e=r.Na.values().next().value;r.Na.delete(e);const t=new Re(yt.fromString(e)),n=r.Ka.next();r.La.set(n,new lR(t)),r.Ba=r.Ba.insert(t,n),LT(r.remoteStore,new Vs(fi(Cg(t.path)),n,"TargetPurposeLimboResolution",Kf.oe))}}async function nc(r,e,t){const n=Be(r),i=[],o=[],l=[];n.xa.isEmpty()||(n.xa.forEach((c,d)=>{l.push(n.Ua(d,e,t).then(p=>{var m;if((p||t)&&n.isPrimaryClient){const v=p?!p.fromCache:(m=t==null?void 0:t.targetChanges.get(d.targetId))===null||m===void 0?void 0:m.current;n.sharedClientState.updateQueryState(d.targetId,v?"current":"not-current")}if(p){i.push(p);const v=xg.zi(d.targetId,p);o.push(v)}}))}),await Promise.all(l),n.Ma.R_(i),await async function(d,p){const m=Be(d);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>ie.forEach(p,E=>ie.forEach(E.Wi,S=>m.persistence.referenceDelegate.addReference(v,E.targetId,S)).next(()=>ie.forEach(E.Gi,S=>m.persistence.referenceDelegate.removeReference(v,E.targetId,S)))))}catch(v){if(!El(v))throw v;Ce("LocalStore","Failed to update sequence numbers: "+v)}for(const v of p){const E=v.targetId;if(!v.fromCache){const S=m.us.get(E),T=S.snapshotVersion,L=S.withLastLimboFreeSnapshotVersion(T);m.us=m.us.insert(E,L)}}}(n.localStore,o))}async function wR(r,e){const t=Be(r);if(!t.currentUser.isEqual(e)){Ce("SyncEngine","User change. New user:",e.toKey());const n=await IT(t.localStore,e);t.currentUser=e,function(o,l){o.Qa.forEach(c=>{c.forEach(d=>{d.reject(new ke(se.CANCELLED,l))})}),o.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await nc(t,n.Ts)}}function ER(r,e){const t=Be(r),n=t.La.get(e);if(n&&n.Fa)return Ge().add(n.key);{let i=Ge();const o=t.Oa.get(e);if(!o)return i;for(const l of o){const c=t.xa.get(l);i=i.unionWith(c.view.fa)}return i}}function qT(r){const e=Be(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=WT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ER.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=gR.bind(null,e),e.Ma.R_=iR.bind(null,e.eventManager),e.Ma.Wa=sR.bind(null,e.eventManager),e}function CR(r){const e=Be(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=vR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=yR.bind(null,e),e}class vf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=nh(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return PL(this.persistence,new bL,e.initialUser,this.serializer)}ja(e){return new bT(Dg.ei,this.serializer)}za(e){return new OL}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}vf.provider={build:()=>new vf};class SR extends vf{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){lt(this.persistence.referenceDelegate instanceof mf);const n=this.persistence.referenceDelegate.garbageCollector;return new dL(n,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?An.withCacheSize(this.cacheSizeBytes):An.DEFAULT;return new bT(n=>mf.ei(n,t),this.serializer)}}class Gm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>Vw(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=wR.bind(null,this.syncEngine),await tR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new rR}()}createDatastore(e){const t=nh(e.databaseInfo.databaseId),n=function(o){return new UL(o)}(e.databaseInfo);return function(o,l,c,d){return new zL(o,l,c,d)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(n,i,o,l,c){return new HL(n,i,o,l,c)}(this.localStore,this.datastore,e.asyncQueue,t=>Vw(this.syncEngine,t,0),function(){return Rw.p()?new Rw:new NL}())}createSyncEngine(e,t){return function(i,o,l,c,d,p,m){const v=new uR(i,o,l,c,d,p);return m&&(v.$a=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const o=Be(i);Ce("RemoteStore","RemoteStore shutting down."),o.k_.add(5),await tc(o),o.Q_.shutdown(),o.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Gm.provider={build:()=>new Gm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Yi("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e,t,n,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=i,this.user=pn.UNAUTHENTICATED,this.clientId=qS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(n,async l=>{Ce("FirestoreClient","Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(n,l=>(Ce("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ui;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Ng(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function cm(r,e){r.asyncQueue.verifyOperationInProgress(),Ce("FirestoreClient","Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let n=t.initialUser;r.setCredentialChangeListener(async i=>{n.isEqual(i)||(await IT(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function Uw(r,e){r.asyncQueue.verifyOperationInProgress();const t=await kR(r);Ce("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(n=>Mw(e.remoteStore,n)),r.setAppCheckTokenChangeListener((n,i)=>Mw(e.remoteStore,i)),r._onlineComponents=e}async function kR(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Ce("FirestoreClient","Using user provided OfflineComponentProvider");try{await cm(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===se.FAILED_PRECONDITION||i.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;tl("Error using user provided cache. Falling back to memory cache: "+t),await cm(r,new vf)}}else Ce("FirestoreClient","Using default OfflineComponentProvider"),await cm(r,new SR(void 0));return r._offlineComponents}async function GT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(Ce("FirestoreClient","Using user provided OnlineComponentProvider"),await Uw(r,r._uninitializedComponentsProvider._online)):(Ce("FirestoreClient","Using default OnlineComponentProvider"),await Uw(r,new Gm))),r._onlineComponents}function bR(r){return GT(r).then(e=>e.syncEngine)}async function QT(r){const e=await GT(r),t=e.eventManager;return t.onListen=cR.bind(null,e.syncEngine),t.onUnlisten=hR.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=dR.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=pR.bind(null,e.syncEngine),t}function IR(r,e,t={}){const n=new Ui;return r.asyncQueue.enqueueAndForget(async()=>function(o,l,c,d,p){const m=new KT({next:E=>{m.eu(),l.enqueueAndForget(()=>FT(o,v));const S=E.docs.has(c);!S&&E.fromCache?p.reject(new ke(se.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&E.fromCache&&d&&d.source==="server"?p.reject(new ke(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),v=new UT(Cg(c.path),m,{includeMetadataChanges:!0,ua:!0});return VT(o,v)}(await QT(r),r.asyncQueue,e,t,n)),n.promise}function PR(r,e,t={}){const n=new Ui;return r.asyncQueue.enqueueAndForget(async()=>function(o,l,c,d,p){const m=new KT({next:E=>{m.eu(),l.enqueueAndForget(()=>FT(o,v)),E.fromCache&&d.source==="server"?p.reject(new ke(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),v=new UT(c,m,{includeMetadataChanges:!0,ua:!0});return VT(o,v)}(await QT(r),r.asyncQueue,e,t,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XT(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZT(r,e,t){if(!t)throw new ke(se.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function DR(r,e,t,n){if(e===!0&&n===!0)throw new ke(se.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function Bw(r){if(!Re.isDocumentKey(r))throw new ke(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function zw(r){if(Re.isDocumentKey(r))throw new ke(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function sh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ue()}function Ki(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ke(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=sh(r);throw new ke(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(e){var t,n;if(e.host===void 0){if(e.ssl!==void 0)throw new ke(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ke(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}DR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=XT((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ke(se.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ke(se.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ke(se.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class oh{constructor(e,t,n,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ww({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ke(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ke(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ww(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new BD;switch(n.type){case"firstParty":return new $D(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ke(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const n=jw.get(t);n&&(Ce("ComponentProvider","Removing Datastore"),jw.delete(t),n.terminate())}(this),Promise.resolve()}}function xR(r,e,t,n={}){var i;const o=(r=Ki(r,oh))._getSettings(),l=`${e}:${t}`;if(o.host!=="firestore.googleapis.com"&&o.host!==l&&tl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},o),{host:l,ssl:!1})),n.mockUserToken){let c,d;if(typeof n.mockUserToken=="string")c=n.mockUserToken,d=pn.MOCK_USER;else{c=vP(n.mockUserToken,(i=r._app)===null||i===void 0?void 0:i.options.projectId);const p=n.mockUserToken.sub||n.mockUserToken.user_id;if(!p)throw new ke(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new pn(p)}r._authCredentials=new zD(new YS(c,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Sl(this.firestore,e,this._query)}}class Nn{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $s(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Nn(this.firestore,e,this._key)}}class $s extends Sl{constructor(e,t,n){super(e,t,Cg(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Nn(this.firestore,null,new Re(e))}withConverter(e){return new $s(this.firestore,e,this._path)}}function ah(r,e,...t){if(r=Zt(r),ZT("collection","path",e),r instanceof oh){const n=yt.fromString(e,...t);return zw(n),new $s(r,null,n)}{if(!(r instanceof Nn||r instanceof $s))throw new ke(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(yt.fromString(e,...t));return zw(n),new $s(r.firestore,null,n)}}function ju(r,e,...t){if(r=Zt(r),arguments.length===1&&(e=qS.newId()),ZT("doc","path",e),r instanceof oh){const n=yt.fromString(e,...t);return Bw(n),new Nn(r,null,new Re(n))}{if(!(r instanceof Nn||r instanceof $s))throw new ke(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(yt.fromString(e,...t));return Bw(n),new Nn(r.firestore,r instanceof $s?r.converter:null,new Re(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(e=Promise.resolve()){this.Iu=[],this.du=!1,this.Eu=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new DT(this,"async_queue_retry"),this.fu=()=>{const n=um();n&&Ce("AsyncQueue","Visibility state changed to "+n.visibilityState),this.r_.Jo()},this.gu=e;const t=um();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.du}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.du){this.du=!0,this.Vu=e||!1;const t=um();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.du)return new Promise(()=>{});const t=new Ui;return this.yu(()=>this.du&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!El(e))throw e;Ce("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(n=>{this.Au=n,this.Ru=!1;const i=function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),c}(n);throw Yi("INTERNAL UNHANDLED ERROR: ",i),n}).then(n=>(this.Ru=!1,n))));return this.gu=t,t}enqueueAfterDelay(e,t,n){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const i=Og.createAndSchedule(this,e,t,n,o=>this.Su(o));return this.Eu.push(i),i}pu(){this.Au&&Ue()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.Eu)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.Eu.sort((t,n)=>t.targetTimeMs-n.targetTimeMs);for(const t of this.Eu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.Eu.indexOf(e);this.Eu.splice(t,1)}}class Tl extends oh{constructor(e,t,n,i){super(e,t,n,i),this.type="firestore",this._queue=new Hw,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Hw(e),this._firestoreClient=void 0,await e}}}function LR(r,e){const t=typeof r=="object"?r:VS(),n=typeof r=="string"?r:"(default)",i=gg(t,"firestore").getImmediate({identifier:n});if(!i._initialized){const o=mP("firestore");o&&xR(i,...o)}return i}function Ug(r){if(r._terminated)throw new ke(se.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||RR(r),r._firestoreClient}function RR(r){var e,t,n;const i=r._freezeSettings(),o=function(c,d,p,m){return new ox(c,d,p,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,XT(m.experimentalLongPollingOptions),m.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,i);r._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(r._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),r._firestoreClient=new TR(r._authCredentials,r._appCheckCredentials,r._queue,o,r._componentsProvider&&function(c){const d=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(d),_online:d}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e){this._byteString=e}static fromBase64String(e){try{return new al(ln.fromBase64String(e))}catch(t){throw new ke(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new al(ln.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ke(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new on(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ke(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ke(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ze(this._lat,e._lat)||Ze(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let o=0;o<n.length;++o)if(n[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR=/^__.*__$/;class AR{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask!==null?new oo(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ju(e,this.data,t,this.fieldTransforms)}}class JT{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new oo(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function e0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ue()}}class Wg{constructor(e,t,n,i,o,l){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=i,o===void 0&&this.Fu(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new Wg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.xu({path:n,Nu:!1});return i.Bu(e),i}Lu(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.xu({path:n,Nu:!1});return i.Fu(),i}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return yf(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Bu(this.path.get(e))}Bu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(e0(this.Mu)&&MR.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class OR{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||nh(e)}$u(e,t,n,i=!1){return new Wg({Mu:e,methodName:t,Ku:n,path:on.emptyPath(),Nu:!1,Qu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Hg(r){const e=r._freezeSettings(),t=nh(r._databaseId);return new OR(r._databaseId,!!e.ignoreUndefinedProperties,t)}function NR(r,e,t,n,i,o={}){const l=r.$u(o.merge||o.mergeFields?2:0,e,t,i);$g("Data must be an object, but it was:",l,n);const c=t0(n,l);let d,p;if(o.merge)d=new Kn(l.fieldMask),p=l.fieldTransforms;else if(o.mergeFields){const m=[];for(const v of o.mergeFields){const E=Qm(e,v,t);if(!l.contains(E))throw new ke(se.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);r0(m,E)||m.push(E)}d=new Kn(m),p=l.fieldTransforms.filter(v=>d.covers(v.field))}else d=null,p=l.fieldTransforms;return new AR(new On(c),d,p)}class uh extends jg{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof uh}}function VR(r,e,t,n){const i=r.$u(1,e,t);$g("Data must be an object, but it was:",i,n);const o=[],l=On.empty();so(n,(d,p)=>{const m=Yg(e,d,t);p=Zt(p);const v=i.Lu(m);if(p instanceof uh)o.push(m);else{const E=rc(p,v);E!=null&&(o.push(m),l.set(m,E))}});const c=new Kn(o);return new JT(l,c,i.fieldTransforms)}function FR(r,e,t,n,i,o){const l=r.$u(1,e,t),c=[Qm(e,n,t)],d=[i];if(o.length%2!=0)throw new ke(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<o.length;E+=2)c.push(Qm(e,o[E])),d.push(o[E+1]);const p=[],m=On.empty();for(let E=c.length-1;E>=0;--E)if(!r0(p,c[E])){const S=c[E];let T=d[E];T=Zt(T);const L=l.Lu(S);if(T instanceof uh)p.push(S);else{const P=rc(T,L);P!=null&&(p.push(S),m.set(S,P))}}const v=new Kn(p);return new JT(m,v,l.fieldTransforms)}function UR(r,e,t,n=!1){return rc(t,r.$u(n?4:3,e))}function rc(r,e){if(n0(r=Zt(r)))return $g("Unsupported field value:",e,r),t0(r,e);if(r instanceof jg)return function(n,i){if(!e0(i.Mu))throw i.qu(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.qu(`${n._methodName}() is not currently supported inside arrays`);const o=n._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(n,i){const o=[];let l=0;for(const c of n){let d=rc(c,i.ku(l));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),l++}return{arrayValue:{values:o}}}(r,e)}return function(n,i){if((n=Zt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return Px(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const o=zt.fromDate(n);return{timestampValue:pf(i.serializer,o)}}if(n instanceof zt){const o=new zt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:pf(i.serializer,o)}}if(n instanceof Bg)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof al)return{bytesValue:_T(i.serializer,n._byteString)};if(n instanceof Nn){const o=i.databaseId,l=n.firestore._databaseId;if(!l.isEqual(o))throw i.qu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Ig(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof zg)return function(l,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:l.toArray().map(d=>{if(typeof d!="number")throw c.qu("VectorValues must only contain numeric values.");return Sg(c.serializer,d)})}}}}}}(n,i);throw i.qu(`Unsupported field value: ${sh(n)}`)}(r,e)}function t0(r,e){const t={};return KS(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):so(r,(n,i)=>{const o=rc(i,e.Ou(n));o!=null&&(t[n]=o)}),{mapValue:{fields:t}}}function n0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof zt||r instanceof Bg||r instanceof al||r instanceof Nn||r instanceof jg||r instanceof zg)}function $g(r,e,t){if(!n0(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const n=sh(t);throw n==="an object"?e.qu(r+" a custom object"):e.qu(r+" "+n)}}function Qm(r,e,t){if((e=Zt(e))instanceof lh)return e._internalPath;if(typeof e=="string")return Yg(r,e);throw yf("Field path arguments must be of type string or ",r,!1,void 0,t)}const jR=new RegExp("[~\\*/\\[\\]]");function Yg(r,e,t){if(e.search(jR)>=0)throw yf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new lh(...e.split("."))._internalPath}catch{throw yf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function yf(r,e,t,n,i){const o=n&&!n.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(o||l)&&(d+=" (found",o&&(d+=` in field ${n}`),l&&(d+=` in document ${i}`),d+=")"),new ke(se.INVALID_ARGUMENT,c+r+d)}function r0(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(e,t,n,i,o){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Nn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new BR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(qg("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class BR extends i0{data(){return super.data()}}function qg(r,e){return typeof e=="string"?Yg(r,e):e instanceof lh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zR(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ke(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Kg{}class WR extends Kg{}function HR(r,e,...t){let n=[];e instanceof Kg&&n.push(e),n=n.concat(t),function(o){const l=o.filter(d=>d instanceof Gg).length,c=o.filter(d=>d instanceof ch).length;if(l>1||l>0&&c>0)throw new ke(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)r=i._apply(r);return r}class ch extends WR{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new ch(e,t,n)}_apply(e){const t=this._parse(e);return s0(e._query,t),new Sl(e.firestore,e.converter,jm(e._query,t))}_parse(e){const t=Hg(e.firestore);return function(o,l,c,d,p,m,v){let E;if(p.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new ke(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){Yw(v,m);const S=[];for(const T of v)S.push($w(d,o,T));E={arrayValue:{values:S}}}else E=$w(d,o,v)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||Yw(v,m),E=UR(c,l,v,m==="in"||m==="not-in");return Ft.create(p,m,E)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function $R(r,e,t){const n=e,i=qg("where",r);return ch._create(i,n,t)}class Gg extends Kg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Gg(e,t)}_parse(e){const t=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return t.length===1?t[0]:Fr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let l=i;const c=o.getFlattenedFilters();for(const d of c)s0(l,d),l=jm(l,d)}(e._query,t),new Sl(e.firestore,e.converter,jm(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function $w(r,e,t){if(typeof(t=Zt(t))=="string"){if(t==="")throw new ke(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!rT(e)&&t.indexOf("/")!==-1)throw new ke(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const n=e.path.child(yt.fromString(t));if(!Re.isDocumentKey(n))throw new ke(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return fw(r,new Re(n))}if(t instanceof Nn)return fw(r,t._key);throw new ke(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${sh(t)}.`)}function Yw(r,e){if(!Array.isArray(r)||r.length===0)throw new ke(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function s0(r,e){const t=function(i,o){for(const l of i)for(const c of l.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null}(r.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ke(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ke(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class YR{convertValue(e,t="none"){switch(Zs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Xs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ue()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return so(e,(i,o)=>{n[i]=this.convertValue(o,t)}),n}convertVectorValue(e){var t,n,i;const o=(i=(n=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(l=>Lt(l.doubleValue));return new zg(o)}convertGeoPoint(e){return new Bg(Lt(e.latitude),Lt(e.longitude))}convertArray(e,t){return(e.values||[]).map(n=>this.convertValue(n,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Qf(e);return n==null?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Ou(e));default:return null}}convertTimestamp(e){const t=Qs(e);return new zt(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=yt.fromString(e);lt(kT(n));const i=new Nu(n.get(1),n.get(3)),o=new Re(n.popFirst(5));return i.isEqual(t)||Yi(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qR(r,e,t){let n;return n=r?r.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class o0 extends i0{constructor(e,t,n,i,o,l){super(e,t,n,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Yd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(qg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Yd extends o0{data(e={}){return super.data(e)}}class KR{constructor(e,t,n,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Su(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new Yd(this._firestore,this._userDataWriter,n.key,n,new Su(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ke(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(c=>{const d=new Yd(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Su(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{const d=new Yd(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Su(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,m=-1;return c.type!==0&&(p=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),m=l.indexOf(c.doc.key)),{type:GR(c.type),doc:d,oldIndex:p,newIndex:m}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function GR(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ue()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QR(r){r=Ki(r,Nn);const e=Ki(r.firestore,Tl);return IR(Ug(e),r._key).then(t=>ZR(e,r,t))}class a0 extends YR{constructor(e){super(),this.firestore=e}convertBytes(e){return new al(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Nn(this.firestore,null,t)}}function l0(r){r=Ki(r,Sl);const e=Ki(r.firestore,Tl),t=Ug(e),n=new a0(e);return zR(r._query),PR(t,r._query).then(i=>new KR(e,n,r,i))}function XR(r,e,t,...n){r=Ki(r,Nn);const i=Ki(r.firestore,Tl),o=Hg(i);let l;return l=typeof(e=Zt(e))=="string"||e instanceof lh?FR(o,"updateDoc",r._key,e,t,n):VR(o,"updateDoc",r._key,e),Qg(i,[l.toMutation(r._key,Or.exists(!0))])}function u0(r){return Qg(Ki(r.firestore,Tl),[new Tg(r._key,Or.none())])}function c0(r,e){const t=Ki(r.firestore,Tl),n=ju(r),i=qR(r.converter,e);return Qg(t,[NR(Hg(r.firestore),"addDoc",n._key,i,r.converter!==null,{}).toMutation(n._key,Or.exists(!1))]).then(()=>n)}function Qg(r,e){return function(n,i){const o=new Ui;return n.asyncQueue.enqueueAndForget(async()=>mR(await bR(n),i,o)),o.promise}(Ug(r),e)}function ZR(r,e,t){const n=t.docs.get(e._key),i=new a0(r);return new o0(r,i,e._key,n,new Su(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){_l=i})(yl),el(new Ho("firestore",(n,{instanceIdentifier:i,options:o})=>{const l=n.getProvider("app").getImmediate(),c=new Tl(new WD(n.getProvider("auth-internal")),new qD(n.getProvider("app-check-internal")),function(p,m){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ke(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nu(p.options.projectId,m)}(l,i),l);return o=Object.assign({useFetchStreams:t},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),Ws(ow,"4.7.6",e),Ws(ow,"4.7.6","esm2017")})();var JR="firebase",eM="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ws(JR,eM,"app");function Xg(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t}function d0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const tM=d0,f0=new Qu("auth","Firebase",d0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _f=new pg("@firebase/auth");function nM(r,...e){_f.logLevel<=Ke.WARN&&_f.warn(`Auth (${yl}): ${r}`,...e)}function qd(r,...e){_f.logLevel<=Ke.ERROR&&_f.error(`Auth (${yl}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hr(r,...e){throw Jg(r,...e)}function Nr(r,...e){return Jg(r,...e)}function Zg(r,e,t){const n=Object.assign(Object.assign({},tM()),{[e]:t});return new Qu("auth","Firebase",n).create(e,{appName:r.name})}function Ys(r){return Zg(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function rM(r,e,t){const n=t;if(!(e instanceof n))throw n.name!==e.constructor.name&&hr(r,"argument-error"),Zg(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Jg(r,...e){if(typeof r!="string"){const t=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=r.name),r._errorFactory.create(t,...n)}return f0.create(r,...e)}function Ne(r,e,...t){if(!r)throw Jg(e,...t)}function Ni(r){const e="INTERNAL ASSERTION FAILED: "+r;throw qd(e),new Error(e)}function Gi(r,e){r||Ni(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xm(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function iM(){return qw()==="http:"||qw()==="https:"}function qw(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(iM()||EP()||"connection"in navigator)?navigator.onLine:!0}function oM(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,t){this.shortDelay=e,this.longDelay=t,Gi(t>e,"Short delay should be less than long delay!"),this.isMobile=yP()||CP()}get(){return sM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ev(r,e){Gi(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ni("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ni("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ni("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lM=new ic(3e4,6e4);function Zo(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function ao(r,e,t,n,i={}){return p0(r,i,async()=>{let o={},l={};n&&(e==="GET"?l=n:o={body:JSON.stringify(n)});const c=Xu(Object.assign({key:r.config.apiKey},l)).slice(1),d=await r._getAdditionalHeaders();d["Content-Type"]="application/json",r.languageCode&&(d["X-Firebase-Locale"]=r.languageCode);const p=Object.assign({method:e,headers:d},o);return wP()||(p.referrerPolicy="no-referrer"),h0.fetch()(m0(r,r.config.apiHost,t,c),p)})}async function p0(r,e,t){r._canInitEmulator=!1;const n=Object.assign(Object.assign({},aM),e);try{const i=new cM(r),o=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw Ld(r,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const c=o.ok?l.errorMessage:l.error.message,[d,p]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ld(r,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw Ld(r,"email-already-in-use",l);if(d==="USER_DISABLED")throw Ld(r,"user-disabled",l);const m=n[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Zg(r,m,p);hr(r,m)}}catch(i){if(i instanceof Zi)throw i;hr(r,"network-request-failed",{message:String(i)})}}async function dh(r,e,t,n,i={}){const o=await ao(r,e,t,n,i);return"mfaPendingCredential"in o&&hr(r,"multi-factor-auth-required",{_serverResponse:o}),o}function m0(r,e,t,n){const i=`${e}${t}?${n}`;return r.config.emulator?ev(r.config,i):`${r.config.apiScheme}://${i}`}function uM(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class cM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,n)=>{this.timer=setTimeout(()=>n(Nr(this.auth,"network-request-failed")),lM.get())})}}function Ld(r,e,t){const n={appName:r.name};t.email&&(n.email=t.email),t.phoneNumber&&(n.phoneNumber=t.phoneNumber);const i=Nr(r,e,n);return i.customData._tokenResponse=t,i}function Kw(r){return r!==void 0&&r.enterprise!==void 0}class dM{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return uM(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function fM(r,e){return ao(r,"GET","/v2/recaptchaConfig",Zo(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hM(r,e){return ao(r,"POST","/v1/accounts:delete",e)}async function g0(r,e){return ao(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function pM(r,e=!1){const t=Zt(r),n=await t.getIdToken(e),i=tv(n);Ne(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:i,token:n,authTime:xu(dm(i.auth_time)),issuedAtTime:xu(dm(i.iat)),expirationTime:xu(dm(i.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function dm(r){return Number(r)*1e3}function tv(r){const[e,t,n]=r.split(".");if(e===void 0||t===void 0||n===void 0)return qd("JWT malformed, contained fewer than 3 sections"),null;try{const i=xS(t);return i?JSON.parse(i):(qd("Failed to decode base64 JWT payload"),null)}catch(i){return qd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Gw(r){const e=tv(r);return Ne(e,"internal-error"),Ne(typeof e.exp<"u","internal-error"),Ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bu(r,e,t=!1){if(t)return e;try{return await e}catch(n){throw n instanceof Zi&&mM(n)&&r.auth.currentUser===r&&await r.auth.signOut(),n}}function mM({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=xu(this.lastLoginAt),this.creationTime=xu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wf(r){var e;const t=r.auth,n=await r.getIdToken(),i=await Bu(r,g0(t,{idToken:n}));Ne(i==null?void 0:i.users.length,t,"internal-error");const o=i.users[0];r._notifyReloadListener(o);const l=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?v0(o.providerUserInfo):[],c=yM(r.providerData,l),d=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!(c!=null&&c.length),m=d?p:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Zm(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(r,v)}async function vM(r){const e=Zt(r);await wf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function yM(r,e){return[...r.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function v0(r){return r.map(e=>{var{providerId:t}=e,n=Xg(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _M(r,e){const t=await p0(r,{},async()=>{const n=Xu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=r.config,l=m0(r,i,"/v1/token",`key=${o}`),c=await r._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",h0.fetch()(l,{method:"POST",headers:c,body:n})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function wM(r,e){return ao(r,"POST","/v2/accounts:revokeToken",Zo(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ne(e.idToken,"internal-error"),Ne(typeof e.idToken<"u","internal-error"),Ne(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Gw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ne(e.length!==0,"internal-error");const t=Gw(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:i,expiresIn:o}=await _M(e,t);this.updateTokensAndExpiration(n,i,Number(o))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,t){const{refreshToken:n,accessToken:i,expirationTime:o}=t,l=new Ka;return n&&(Ne(typeof n=="string","internal-error",{appName:e}),l.refreshToken=n),i&&(Ne(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),o&&(Ne(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ka,this.toJSON())}_performRefresh(){return Ni("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ps(r,e){Ne(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Vi{constructor(e){var{uid:t,auth:n,stsTokenManager:i}=e,o=Xg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new gM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Zm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Bu(this,this.stsTokenManager.getToken(this.auth,e));return Ne(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return pM(this,e)}reload(){return vM(this)}_assign(e){this!==e&&(Ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Vi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await wf(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ci(this.auth.app))return Promise.reject(Ys(this.auth));const e=await this.getIdToken();return await Bu(this,hM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,i,o,l,c,d,p,m;const v=(n=t.displayName)!==null&&n!==void 0?n:void 0,E=(i=t.email)!==null&&i!==void 0?i:void 0,S=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,T=(l=t.photoURL)!==null&&l!==void 0?l:void 0,L=(c=t.tenantId)!==null&&c!==void 0?c:void 0,P=(d=t._redirectEventId)!==null&&d!==void 0?d:void 0,V=(p=t.createdAt)!==null&&p!==void 0?p:void 0,F=(m=t.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:H,emailVerified:j,isAnonymous:z,providerData:$,stsTokenManager:D}=t;Ne(H&&D,e,"internal-error");const I=Ka.fromJSON(this.name,D);Ne(typeof H=="string",e,"internal-error"),Ps(v,e.name),Ps(E,e.name),Ne(typeof j=="boolean",e,"internal-error"),Ne(typeof z=="boolean",e,"internal-error"),Ps(S,e.name),Ps(T,e.name),Ps(L,e.name),Ps(P,e.name),Ps(V,e.name),Ps(F,e.name);const k=new Vi({uid:H,auth:e,email:E,emailVerified:j,displayName:v,isAnonymous:z,photoURL:T,phoneNumber:S,tenantId:L,stsTokenManager:I,createdAt:V,lastLoginAt:F});return $&&Array.isArray($)&&(k.providerData=$.map(R=>Object.assign({},R))),P&&(k._redirectEventId=P),k}static async _fromIdTokenResponse(e,t,n=!1){const i=new Ka;i.updateFromServerResponse(t);const o=new Vi({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await wf(o),o}static async _fromGetAccountInfoResponse(e,t,n){const i=t.users[0];Ne(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?v0(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),c=new Ka;c.updateFromIdToken(n);const d=new Vi({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:l}),p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Zm(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(d,p),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw=new Map;function Fi(r){Gi(r instanceof Function,"Expected a class definition");let e=Qw.get(r);return e?(Gi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Qw.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}y0.type="NONE";const Xw=y0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kd(r,e,t){return`firebase:${r}:${e}:${t}`}class Ga{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:i,name:o}=this.auth;this.fullUserKey=Kd(this.userKey,i.apiKey,o),this.fullPersistenceKey=Kd("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Vi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new Ga(Fi(Xw),e,n);const i=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let o=i[0]||Fi(Xw);const l=Kd(n,e.config.apiKey,e.name);let c=null;for(const p of t)try{const m=await p._get(l);if(m){const v=Vi._fromJSON(e,m);p!==o&&(c=v),o=p;break}}catch{}const d=i.filter(p=>p._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new Ga(o,e,n):(o=d[0],c&&await o._set(l,c.toJSON()),await Promise.all(t.map(async p=>{if(p!==o)try{await p._remove(l)}catch{}})),new Ga(o,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zw(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(C0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(T0(e))return"Blackberry";if(k0(e))return"Webos";if(w0(e))return"Safari";if((e.includes("chrome/")||E0(e))&&!e.includes("edge/"))return"Chrome";if(S0(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=r.match(t);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function _0(r=gn()){return/firefox\//i.test(r)}function w0(r=gn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function E0(r=gn()){return/crios\//i.test(r)}function C0(r=gn()){return/iemobile/i.test(r)}function S0(r=gn()){return/android/i.test(r)}function T0(r=gn()){return/blackberry/i.test(r)}function k0(r=gn()){return/webos/i.test(r)}function nv(r=gn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function EM(r=gn()){var e;return nv(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function CM(){return SP()&&document.documentMode===10}function b0(r=gn()){return nv(r)||S0(r)||k0(r)||T0(r)||/windows phone/i.test(r)||C0(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I0(r,e=[]){let t;switch(r){case"Browser":t=Zw(gn());break;case"Worker":t=`${Zw(gn())}-${r}`;break;default:t=r}const n=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${yl}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=o=>new Promise((l,c)=>{try{const d=e(o);l(d)}catch(d){c(d)}});n.onAbort=t,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TM(r,e={}){return ao(r,"GET","/v2/passwordPolicy",Zo(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kM=6;class bM{constructor(e){var t,n,i,o;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:kM,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,i,o,l,c;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(t=d.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),d.isValid&&(d.isValid=(n=d.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(i=d.containsLowercaseLetter)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(o=d.containsUppercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(l=d.containsNumericCharacter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(c=d.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),d}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(e,t,n,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Jw(this),this.idTokenSubscription=new Jw(this),this.beforeStateQueue=new SM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=f0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Fi(t)),this._initializationPromise=this.queue(async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await Ga.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await g0(this,{idToken:e}),n=await Vi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(ci(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=i==null?void 0:i._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===c)&&(d!=null&&d.user)&&(i=d.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await wf(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=oM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ci(this.app))return Promise.reject(Ys(this));const t=e?Zt(e):null;return t&&Ne(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ci(this.app)?Promise.reject(Ys(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ci(this.app)?Promise.reject(Ys(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Fi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await TM(this),t=new bM(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Qu("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(n.tenantId=this.tenantId),await wM(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Fi(e)||this._popupRedirectResolver;Ne(t,this,"argument-error"),this.redirectPersistenceManager=await Ga.create(this,[Fi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,i){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ne(c,this,"internal-error"),c.then(()=>{l||o(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,n,i);return()=>{l=!0,d()}}else{const d=e.addObserver(t);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=I0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&nM(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Jo(r){return Zt(r)}class Jw{constructor(e){this.auth=e,this.observer=null,this.addObserver=LP(t=>this.observer=t)}get next(){return Ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function PM(r){fh=r}function P0(r){return fh.loadJS(r)}function DM(){return fh.recaptchaEnterpriseScript}function xM(){return fh.gapiScript}function LM(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class RM{constructor(){this.enterprise=new MM}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class MM{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const AM="recaptcha-enterprise",D0="NO_RECAPTCHA";class OM{constructor(e){this.type=AM,this.auth=Jo(e)}async verify(e="verify",t=!1){async function n(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,c)=>{fM(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const p=new dM(d);return o.tenantId==null?o._agentRecaptchaConfig=p:o._tenantRecaptchaConfigs[o.tenantId]=p,l(p.siteKey)}}).catch(d=>{c(d)})})}function i(o,l,c){const d=window.grecaptcha;Kw(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:e}).then(p=>{l(p)}).catch(()=>{l(D0)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new RM().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{n(this.auth).then(c=>{if(!t&&Kw(window.grecaptcha))i(c,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=DM();d.length!==0&&(d+=c),P0(d).then(()=>{i(c,o,l)}).catch(p=>{l(p)})}}).catch(c=>{l(c)})})}}async function eE(r,e,t,n=!1,i=!1){const o=new OM(r);let l;if(i)l=D0;else try{l=await o.verify(t)}catch{l=await o.verify(t,!0)}const c=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const d=c.phoneEnrollmentInfo.phoneNumber,p=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:p,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const d=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return n?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function tE(r,e,t,n,i){var o;if(!((o=r._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await eE(r,e,t,t==="getOobCode");return n(r,l)}else return n(r,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await eE(r,e,t,t==="getOobCode");return n(r,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NM(r,e){const t=gg(r,"auth");if(t.isInitialized()){const i=t.getImmediate(),o=t.getOptions();if(af(o,e??{}))return i;hr(i,"already-initialized")}return t.initialize({options:e})}function VM(r,e){const t=(e==null?void 0:e.persistence)||[],n=(Array.isArray(t)?t:[t]).map(Fi);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function FM(r,e,t){const n=Jo(r);Ne(n._canInitEmulator,n,"emulator-config-failed"),Ne(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,o=x0(e),{host:l,port:c}=UM(e),d=c===null?"":`:${c}`;n.config.emulator={url:`${o}//${l}${d}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:l,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),jM()}function x0(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function UM(r){const e=x0(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const n=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const o=i[1];return{host:o,port:nE(n.substr(o.length+1))}}else{const[o,l]=n.split(":");return{host:o,port:nE(l)}}}function nE(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function jM(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ni("not implemented")}_getIdTokenResponse(e){return Ni("not implemented")}_linkToIdToken(e,t){return Ni("not implemented")}_getReauthenticationResolver(e){return Ni("not implemented")}}async function BM(r,e){return ao(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zM(r,e){return dh(r,"POST","/v1/accounts:signInWithPassword",Zo(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WM(r,e){return dh(r,"POST","/v1/accounts:signInWithEmailLink",Zo(r,e))}async function HM(r,e){return dh(r,"POST","/v1/accounts:signInWithEmailLink",Zo(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu extends rv{constructor(e,t,n,i=null){super("password",n),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new zu(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new zu(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tE(e,t,"signInWithPassword",zM);case"emailLink":return WM(e,{email:this._email,oobCode:this._password});default:hr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const n={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tE(e,n,"signUpPassword",BM);case"emailLink":return HM(e,{idToken:t,email:this._email,oobCode:this._password});default:hr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qa(r,e){return dh(r,"POST","/v1/accounts:signInWithIdp",Zo(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $M="http://localhost";class Yo extends rv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Yo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):hr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=t,o=Xg(t,["providerId","signInMethod"]);if(!n||!i)return null;const l=new Yo(n,i);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return Qa(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Qa(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Qa(e,t)}buildRequest(){const e={requestUri:$M,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Xu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YM(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function qM(r){const e=yu(_u(r)).link,t=e?yu(_u(e)).deep_link_id:null,n=yu(_u(r)).deep_link_id;return(n?yu(_u(n)).link:null)||n||t||e||r}class iv{constructor(e){var t,n,i,o,l,c;const d=yu(_u(e)),p=(t=d.apiKey)!==null&&t!==void 0?t:null,m=(n=d.oobCode)!==null&&n!==void 0?n:null,v=YM((i=d.mode)!==null&&i!==void 0?i:null);Ne(p&&m&&v,"argument-error"),this.apiKey=p,this.operation=v,this.code=m,this.continueUrl=(o=d.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(l=d.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(c=d.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const t=qM(e);try{return new iv(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(){this.providerId=kl.PROVIDER_ID}static credential(e,t){return zu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=iv.parseLink(t);return Ne(n,"argument-error"),zu._fromEmailAndCode(e,n.code,n.tenantId)}}kl.PROVIDER_ID="password";kl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";kl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc extends sv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms extends sc{constructor(){super("facebook.com")}static credential(e){return Yo._fromParams({providerId:Ms.PROVIDER_ID,signInMethod:Ms.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ms.credentialFromTaggedObject(e)}static credentialFromError(e){return Ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ms.credential(e.oauthAccessToken)}catch{return null}}}Ms.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ms.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi extends sc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Yo._fromParams({providerId:Oi.PROVIDER_ID,signInMethod:Oi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Oi.credentialFromTaggedObject(e)}static credentialFromError(e){return Oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return Oi.credential(t,n)}catch{return null}}}Oi.GOOGLE_SIGN_IN_METHOD="google.com";Oi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As extends sc{constructor(){super("github.com")}static credential(e){return Yo._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return As.credentialFromTaggedObject(e)}static credentialFromError(e){return As.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return As.credential(e.oauthAccessToken)}catch{return null}}}As.GITHUB_SIGN_IN_METHOD="github.com";As.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os extends sc{constructor(){super("twitter.com")}static credential(e,t){return Yo._fromParams({providerId:Os.PROVIDER_ID,signInMethod:Os.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Os.credentialFromTaggedObject(e)}static credentialFromError(e){return Os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return Os.credential(t,n)}catch{return null}}}Os.TWITTER_SIGN_IN_METHOD="twitter.com";Os.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,i=!1){const o=await Vi._fromIdTokenResponse(e,n,i),l=rE(n);return new ll({user:o,providerId:l,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const i=rE(n);return new ll({user:e,providerId:i,_tokenResponse:n,operationType:t})}}function rE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef extends Zi{constructor(e,t,n,i){var o;super(t.code,t.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Ef.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,i){return new Ef(e,t,n,i)}}function L0(r,e,t,n){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Ef._fromErrorAndOperation(r,o,e,n):o})}async function KM(r,e,t=!1){const n=await Bu(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return ll._forOperation(r,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GM(r,e,t=!1){const{auth:n}=r;if(ci(n.app))return Promise.reject(Ys(n));const i="reauthenticate";try{const o=await Bu(r,L0(n,i,e,r),t);Ne(o.idToken,n,"internal-error");const l=tv(o.idToken);Ne(l,n,"internal-error");const{sub:c}=l;return Ne(r.uid===c,n,"user-mismatch"),ll._forOperation(r,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&hr(n,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R0(r,e,t=!1){if(ci(r.app))return Promise.reject(Ys(r));const n="signIn",i=await L0(r,n,e),o=await ll._fromIdTokenResponse(r,n,i);return t||await r._updateCurrentUser(o.user),o}async function QM(r,e){return R0(Jo(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XM(r){const e=Jo(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function ZM(r,e,t){return ci(r.app)?Promise.reject(Ys(r)):QM(Zt(r),kl.credential(e,t)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&XM(r),n})}function JM(r,e,t,n){return Zt(r).onIdTokenChanged(e,t,n)}function e1(r,e,t){return Zt(r).beforeAuthStateChanged(e,t)}function M0(r,e,t,n){return Zt(r).onAuthStateChanged(e,t,n)}function t1(r){return Zt(r).signOut()}const Cf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Cf,"1"),this.storage.removeItem(Cf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1=1e3,r1=10;class O0 extends A0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=b0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),i=this.localCache[t];n!==i&&e(t,i,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,c,d)=>{this.notifyListeners(l,d)});return}const n=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(n);!t&&this.localCache[n]===l||this.notifyListeners(n,l)},o=this.storage.getItem(n);CM()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,r1):i()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},n1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}O0.type="LOCAL";const i1=O0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0 extends A0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}N0.type="SESSION";const V0=N0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const n=new hh(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:i,data:o}=t.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const c=Array.from(l).map(async p=>p(t.origin,o)),d=await s1(c);t.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ov(r="",e=10){let t="";for(let n=0;n<e;n++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,l;return new Promise((c,d)=>{const p=ov("",20);i.port1.start();const m=setTimeout(()=>{d(new Error("unsupported_event"))},n);l={messageChannel:i,onMessage(v){const E=v;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(E.data.response);break;default:clearTimeout(m),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pi(){return window}function a1(r){pi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F0(){return typeof pi().WorkerGlobalScope<"u"&&typeof pi().importScripts=="function"}async function l1(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function u1(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function c1(){return F0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0="firebaseLocalStorageDb",d1=1,Sf="firebaseLocalStorage",j0="fbase_key";class oc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function ph(r,e){return r.transaction([Sf],e?"readwrite":"readonly").objectStore(Sf)}function f1(){const r=indexedDB.deleteDatabase(U0);return new oc(r).toPromise()}function Jm(){const r=indexedDB.open(U0,d1);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const n=r.result;try{n.createObjectStore(Sf,{keyPath:j0})}catch(i){t(i)}}),r.addEventListener("success",async()=>{const n=r.result;n.objectStoreNames.contains(Sf)?e(n):(n.close(),await f1(),e(await Jm()))})})}async function iE(r,e,t){const n=ph(r,!0).put({[j0]:e,value:t});return new oc(n).toPromise()}async function h1(r,e){const t=ph(r,!1).get(e),n=await new oc(t).toPromise();return n===void 0?null:n.value}function sE(r,e){const t=ph(r,!0).delete(e);return new oc(t).toPromise()}const p1=800,m1=3;class B0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Jm(),this.db)}async _withRetries(e){let t=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(t++>m1)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return F0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hh._getInstance(c1()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await l1(),!this.activeServiceWorker)return;this.sender=new o1(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((t=n[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||u1()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Jm();return await iE(e,Cf,"1"),await sE(e,Cf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>iE(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(n=>h1(n,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>sE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=ph(i,!1).getAll();return new oc(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),p1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}B0.type="LOCAL";const g1=B0;new ic(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z0(r,e){return e?Fi(e):(Ne(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av extends rv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qa(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Qa(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Qa(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function v1(r){return R0(r.auth,new av(r),r.bypassAuthState)}function y1(r){const{auth:e,user:t}=r;return Ne(t,e,"internal-error"),GM(t,new av(r),r.bypassAuthState)}async function _1(r){const{auth:e,user:t}=r;return Ne(t,e,"internal-error"),KM(t,new av(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(e,t,n,i,o=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:i,tenantId:o,error:l,type:c}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:t,sessionId:n,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return v1;case"linkViaPopup":case"linkViaRedirect":return _1;case"reauthViaPopup":case"reauthViaRedirect":return y1;default:hr(this.auth,"internal-error")}}resolve(e){Gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1=new ic(2e3,1e4);async function E1(r,e,t){if(ci(r.app))return Promise.reject(Nr(r,"operation-not-supported-in-this-environment"));const n=Jo(r);rM(r,e,sv);const i=z0(n,t);return new Uo(n,"signInViaPopup",e,i).executeNotNull()}class Uo extends W0{constructor(e,t,n,i,o){super(e,t,i,o),this.provider=n,this.authWindow=null,this.pollId=null,Uo.currentPopupAction&&Uo.currentPopupAction.cancel(),Uo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ne(e,this.auth,"internal-error"),e}async onExecution(){Gi(this.filter.length===1,"Popup operations only handle one event");const e=ov();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Nr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Nr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Uo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;if(!((n=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Nr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,w1.get())};e()}}Uo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1="pendingRedirect",Gd=new Map;class S1 extends W0{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=Gd.get(this.auth._key());if(!e){try{const n=await T1(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}Gd.set(this.auth._key(),e)}return this.bypassAuthState||Gd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function T1(r,e){const t=I1(e),n=b1(r);if(!await n._isAvailable())return!1;const i=await n._get(t)==="true";return await n._remove(t),i}function k1(r,e){Gd.set(r._key(),e)}function b1(r){return Fi(r._redirectPersistence)}function I1(r){return Kd(C1,r.config.apiKey,r.name)}async function P1(r,e,t=!1){if(ci(r.app))return Promise.reject(Ys(r));const n=Jo(r),i=z0(n,e),l=await new S1(n,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,await n._persistUserIfCurrent(l.user),await n._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1=10*60*1e3;class x1{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!L1(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!H0(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";t.onError(Nr(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=D1&&this.cachedEventUids.clear(),this.cachedEventUids.has(oE(e))}saveEventToCache(e){this.cachedEventUids.add(oE(e)),this.lastProcessedEventTime=Date.now()}}function oE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function H0({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function L1(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return H0(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R1(r,e={}){return ao(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,A1=/^https?/;async function O1(r){if(r.config.emulator)return;const{authorizedDomains:e}=await R1(r);for(const t of e)try{if(N1(t))return}catch{}hr(r,"unauthorized-domain")}function N1(r){const e=Xm(),{protocol:t,hostname:n}=new URL(e);if(r.startsWith("chrome-extension://")){const l=new URL(r);return l.hostname===""&&n===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===n}if(!A1.test(t))return!1;if(M1.test(r))return n===r;const i=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1=new ic(3e4,6e4);function aE(){const r=pi().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function F1(r){return new Promise((e,t)=>{var n,i,o;function l(){aE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{aE(),t(Nr(r,"network-request-failed"))},timeout:V1.get()})}if(!((i=(n=pi().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=pi().gapi)===null||o===void 0)&&o.load)l();else{const c=LM("iframefcb");return pi()[c]=()=>{gapi.load?l():t(Nr(r,"network-request-failed"))},P0(`${xM()}?onload=${c}`).catch(d=>t(d))}}).catch(e=>{throw Qd=null,e})}let Qd=null;function U1(r){return Qd=Qd||F1(r),Qd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1=new ic(5e3,15e3),B1="__/auth/iframe",z1="emulator/auth/iframe",W1={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},H1=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $1(r){const e=r.config;Ne(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?ev(e,z1):`https://${r.config.authDomain}/${B1}`,n={apiKey:e.apiKey,appName:r.name,v:yl},i=H1.get(r.config.apiHost);i&&(n.eid=i);const o=r._getFrameworks();return o.length&&(n.fw=o.join(",")),`${t}?${Xu(n).slice(1)}`}async function Y1(r){const e=await U1(r),t=pi().gapi;return Ne(t,r,"internal-error"),e.open({where:document.body,url:$1(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:W1,dontclear:!0},n=>new Promise(async(i,o)=>{await n.restyle({setHideOnLeave:!1});const l=Nr(r,"network-request-failed"),c=pi().setTimeout(()=>{o(l)},j1.get());function d(){pi().clearTimeout(c),i(n)}n.ping(d).then(d,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},K1=500,G1=600,Q1="_blank",X1="http://localhost";class lE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Z1(r,e,t,n=K1,i=G1){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-n)/2,0).toString();let c="";const d=Object.assign(Object.assign({},q1),{width:n.toString(),height:i.toString(),top:o,left:l}),p=gn().toLowerCase();t&&(c=E0(p)?Q1:t),_0(p)&&(e=e||X1,d.scrollbars="yes");const m=Object.entries(d).reduce((E,[S,T])=>`${E}${S}=${T},`,"");if(EM(p)&&c!=="_self")return J1(e||"",c),new lE(null);const v=window.open(e||"",c,m);Ne(v,r,"popup-blocked");try{v.focus()}catch{}return new lE(v)}function J1(r,e){const t=document.createElement("a");t.href=r,t.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA="__/auth/handler",tA="emulator/auth/handler",nA=encodeURIComponent("fac");async function uE(r,e,t,n,i,o){Ne(r.config.authDomain,r,"auth-domain-config-required"),Ne(r.config.apiKey,r,"invalid-api-key");const l={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:n,v:yl,eventId:i};if(e instanceof sv){e.setDefaultLanguage(r.languageCode),l.providerId=e.providerId||"",xP(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,v]of Object.entries({}))l[m]=v}if(e instanceof sc){const m=e.getScopes().filter(v=>v!=="");m.length>0&&(l.scopes=m.join(","))}r.tenantId&&(l.tid=r.tenantId);const c=l;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const d=await r._getAppCheckToken(),p=d?`#${nA}=${encodeURIComponent(d)}`:"";return`${rA(r)}?${Xu(c).slice(1)}${p}`}function rA({config:r}){return r.emulator?ev(r,tA):`https://${r.authDomain}/${eA}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fm="webStorageSupport";class iA{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=V0,this._completeRedirectFn=P1,this._overrideRedirectResult=k1}async _openPopup(e,t,n,i){var o;Gi((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await uE(e,t,n,Xm(),i);return Z1(e,l,ov())}async _openRedirect(e,t,n,i){await this._originValidation(e);const o=await uE(e,t,n,Xm(),i);return a1(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(Gi(o,"If manager is not set, promise should be"),o)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await Y1(e),n=new x1(e);return t.register("authEvent",i=>(Ne(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(fm,{type:fm},i=>{var o;const l=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[fm];l!==void 0&&t(!!l),hr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=O1(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return b0()||w0()||nv()}}const sA=iA;var cE="@firebase/auth",dE="1.8.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aA(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function lA(r){el(new Ho("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=n.options;Ne(l&&!l.includes(":"),"invalid-api-key",{appName:n.name});const d={apiKey:l,authDomain:c,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:I0(r)},p=new IM(n,i,o,d);return VM(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),el(new Ho("auth-internal",e=>{const t=Jo(e.getProvider("auth").getImmediate());return(n=>new oA(n))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ws(cE,dE,aA(r)),Ws(cE,dE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA=5*60,cA=MS("authIdTokenMaxAge")||uA;let fE=null;const dA=r=>async e=>{const t=e&&await e.getIdTokenResult(),n=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>cA)return;const i=t==null?void 0:t.token;fE!==i&&(fE=i,await fetch(r,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function fA(r=VS()){const e=gg(r,"auth");if(e.isInitialized())return e.getImmediate();const t=NM(r,{popupRedirectResolver:sA,persistence:[g1,i1,V0]}),n=MS("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(n,location.origin);if(location.origin===o.origin){const l=dA(o.toString());e1(t,l,()=>l(t.currentUser)),JM(t,c=>l(c))}}const i=LS("auth");return i&&FM(t,`http://${i}`),t}function hA(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}PM({loadJS(r){return new Promise((e,t)=>{const n=document.createElement("script");n.setAttribute("src",r),n.onload=e,n.onerror=i=>{const o=Nr("internal-error");o.customData=i,t(o)},n.type="text/javascript",n.charset="UTF-8",hA().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});lA("Browser");const pA={apiKey:"AIzaSyDkuORkd8sA-p8D8S1-xw6dUptjPH3pULM",authDomain:"airbnb-clone-915c4.firebaseapp.com",projectId:"airbnb-clone-915c4",storageBucket:"airbnb-clone-915c4.firebasestorage.app",messagingSenderId:"474894328567",appId:"1:474894328567:web:32a22923d2802da6f8e9f2"},$0=NS(pA),vi=fA($0),mA=new Oi,eo=LR($0);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function gA(r,e,t,n){function i(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function c(m){try{p(n.next(m))}catch(v){l(v)}}function d(m){try{p(n.throw(m))}catch(v){l(v)}}function p(m){m.done?o(m.value):i(m.value).then(c,d)}p((n=n.apply(r,[])).next())})}function vA(r,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,l;return l={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function c(p){return function(m){return d([p,m])}}function d(p){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,i&&(o=p[0]&2?i.return:p[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,p[1])).done)return o;switch(i=0,o&&(p=[p[0]&2,o.value]),p[0]){case 0:case 1:o=p;break;case 4:return t.label++,{value:p[1],done:!1};case 5:t.label++,i=p[1],p=[0];continue;case 7:p=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(p[0]===6||p[0]===2)){t=0;continue}if(p[0]===3&&(!o||p[1]>o[0]&&p[1]<o[3])){t.label=p[1];break}if(p[0]===6&&t.label<o[1]){t.label=o[1],o=p;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(p);break}o[2]&&t.ops.pop(),t.trys.pop();continue}p=e.call(r,t)}catch(m){p=[6,m],i=0}finally{n=o=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var $a=function(){return $a=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},$a.apply(this,arguments)},Y0=function(r){return{loading:r==null,value:r}},yA=function(){return function(r,e){switch(e.type){case"error":return $a($a({},r),{error:e.error,loading:!1,value:void 0});case"reset":return Y0(e.defaultValue);case"value":return $a($a({},r),{error:void 0,loading:!1,value:e.value});default:return r}}},_A=function(r){var e=r?r():void 0,t=y.useReducer(yA(),Y0(e)),n=t[0],i=t[1],o=y.useCallback(function(){var d=r?r():void 0;i({type:"reset",defaultValue:d})},[r]),l=y.useCallback(function(d){i({type:"error",error:d})},[]),c=y.useCallback(function(d){i({type:"value",value:d})},[]);return y.useMemo(function(){return{error:n.error,loading:n.loading,reset:o,setError:l,setValue:c,value:n.value}},[n.error,n.loading,o,l,c,n.value])},bl=function(r,e){var t=_A(function(){return r.currentUser}),n=t.error,i=t.loading,o=t.setError,l=t.setValue,c=t.value;return y.useEffect(function(){var d=M0(r,function(p){return gA(void 0,void 0,void 0,function(){var m;return vA(this,function(v){switch(v.label){case 0:return[3,4];case 1:return v.trys.push([1,3,,4]),[4,e.onUserChanged(p)];case 2:return v.sent(),[3,4];case 3:return m=v.sent(),o(m),[3,4];case 4:return l(p),[2]}})})},o);return function(){d()}},[r]),[c,i,n]};const q0=({id:r,title:e,image:t,price:n,location:i,userId:o})=>{const[l,c]=y.useState(!1),[d]=bl(vi);y.useEffect(()=>{const v=JSON.parse(localStorage.getItem("favorites")||"[]");c(v.includes(r))},[r]);const p=()=>{let v=JSON.parse(localStorage.getItem("favorites")||"[]");l?v=v.filter(E=>E!==r):v.push(r),localStorage.setItem("favorites",JSON.stringify(v)),c(!l)},m=async()=>{if(window.confirm("Voulez-vous vraiment supprimer cette annonce ?")){if(!d||d.uid!==o){alert("Vous n'avez pas l'autorisation de supprimer cette annonce !");return}try{await u0(ju(eo,"listings",r)),alert("Annonce supprimée avec succès !"),window.location.reload()}catch(v){console.error("Erreur lors de la suppression :",v),alert("Erreur lors de la suppression !")}}};return Q.jsxs("div",{className:"glass border rounded-lg shadow-lg overflow-hidden transition-transform hover:scale-105 duration-300",children:[Q.jsx("img",{src:t,alt:e,className:"w-full h-48 object-cover rounded-t-lg"}),Q.jsxs("div",{className:"p-4",children:[Q.jsx("h2",{className:"text-lg font-bold text-gray-900",children:e}),Q.jsx("p",{className:"text-gray-700 font-medium",children:i}),Q.jsxs("p",{className:"text-gray-800 font-semibold",children:[n,"€ / nuit"]}),Q.jsxs("div",{className:"mt-4 flex flex-col gap-2",children:[Q.jsx(Ha,{to:`/listing/${r}`,className:"bg-blue-500 text-white px-4 py-2 rounded-lg text-center hover:bg-blue-600",children:"Voir Plus"}),Q.jsx("button",{onClick:p,className:`px-4 py-2 text-white rounded-lg w-full ${l?"bg-red-500":"bg-gray-500 hover:bg-gray-700"}`,children:l?"❤️ Retirer des favoris":"🤍 Ajouter aux favoris"}),d&&d.uid===o&&Q.jsxs(Q.Fragment,{children:[Q.jsx(Ha,{to:`/edit-listing/${r}`,className:"bg-yellow-500 text-white px-4 py-2 rounded-lg text-center hover:bg-yellow-600",children:"Modifier"}),Q.jsx("button",{onClick:m,className:"bg-red-600 text-white px-4 py-2 rounded-lg w-full hover:bg-red-700",children:"Supprimer"})]})]})]})]})},hE=[{id:1,title:"Appartement cosy à Paris",image:"https://images.unsplash.com/photo-1564013799919-ab600027ffc6",price:120,location:"Paris, France"},{id:2,title:"Villa avec piscine à Nice",image:"https://images.unsplash.com/photo-1600585154340-be6161a56a0c",price:250,location:"Nice, France"},{id:3,title:"Chalet en montagne à Chamonix",image:"https://images.unsplash.com/photo-1502672023488-70e25813eb80",price:180,location:"Chamonix, France"},{id:4,title:"Loft moderne à Lyon",image:"https://images.pexels.com/photos/4703/inside-apartment-design-home.jpg",price:140,location:"Lyon, France"},{id:5,title:"Maison de campagne en Provence",image:"https://images.unsplash.com/photo-1600596542815-ffad4c1539a9",price:200,location:"Provence, France"},{id:6,title:"Appartement avec terrasse à Bordeaux",image:"https://images.pexels.com/photos/206172/pexels-photo-206172.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",price:160,location:"Bordeaux, France"},{id:7,title:"Penthouse à Marseille",image:"https://images.unsplash.com/photo-1600596542815-ffad4c1539a9",price:300,location:"Marseille, France"},{id:8,title:"Studio économique à Toulouse",image:"https://images.pexels.com/photos/53610/large-home-residential-house-architecture-53610.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",price:90,location:"Toulouse, France"}],wA=()=>{const[r,e]=y.useState([]),[t,n]=y.useState("");y.useEffect(()=>{(async()=>{try{const c=(await l0(ah(eo,"listings"))).docs.map(d=>({id:d.id,...d.data()}));e([...hE,...c])}catch(l){console.error("Erreur lors de la récupération des annonces:",l),e(hE)}})()},[]);const i=r.filter(o=>o.title.toLowerCase().includes(t.toLowerCase())||o.location.toLowerCase().includes(t.toLowerCase()));return Q.jsxs("div",{className:"container mx-auto mt-20 p-6",children:[Q.jsx("h1",{className:"text-4xl font-bold text-center text-white drop-shadow-lg",children:"🏡 Découvrez nos logements"}),Q.jsx("div",{className:"mt-6 flex justify-center",children:Q.jsx("input",{type:"text",placeholder:"Rechercher un logement...",value:t,onChange:o=>n(o.target.value),className:"p-2 border rounded-md w-1/2"})}),Q.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6 mt-8",children:i.length>0?i.map(o=>Q.jsx("div",{className:"glass",children:Q.jsx(q0,{...o})},o.id)):Q.jsx("p",{className:"text-center text-gray-500 col-span-3",children:"Aucun logement trouvé."})})]})};function K0(r){var e,t,n="";if(typeof r=="string"||typeof r=="number")n+=r;else if(typeof r=="object")if(Array.isArray(r)){var i=r.length;for(e=0;e<i;e++)r[e]&&(t=K0(r[e]))&&(n&&(n+=" "),n+=t)}else for(t in r)r[t]&&(n&&(n+=" "),n+=t);return n}function an(){for(var r,e,t=0,n="",i=arguments.length;t<i;t++)(r=arguments[t])&&(e=K0(r))&&(n&&(n+=" "),n+=e);return n}const G0=6048e5,EA=864e5,mh=6e4,gh=36e5,CA=1e3,pE=Symbol.for("constructDateFrom");function dt(r,e){return typeof r=="function"?r(e):r&&typeof r=="object"&&pE in r?r[pE](e):r instanceof Date?new r.constructor(e):new Date(e)}function De(r,e){return dt(e||r,r)}function Vr(r,e,t){const n=De(r,t==null?void 0:t.in);return isNaN(e)?dt((t==null?void 0:t.in)||r,NaN):(e&&n.setDate(n.getDate()+e),n)}function Ur(r,e,t){const n=De(r,t==null?void 0:t.in);if(isNaN(e))return dt(r,NaN);if(!e)return n;const i=n.getDate(),o=dt(r,n.getTime());o.setMonth(n.getMonth()+e+1,0);const l=o.getDate();return i>=l?o:(n.setFullYear(o.getFullYear(),o.getMonth(),i),n)}function Q0(r,e,t){return dt(r,+De(r)+e)}function SA(r,e,t){return Q0(r,e*gh)}let TA={};function ea(){return TA}function Qi(r,e){var c,d,p,m;const t=ea(),n=(e==null?void 0:e.weekStartsOn)??((d=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??t.weekStartsOn??((m=(p=t.locale)==null?void 0:p.options)==null?void 0:m.weekStartsOn)??0,i=De(r,e==null?void 0:e.in),o=i.getDay(),l=(o<n?7:0)+o-n;return i.setDate(i.getDate()-l),i.setHours(0,0,0,0),i}function ul(r,e){return Qi(r,{...e,weekStartsOn:1})}function X0(r,e){const t=De(r,e==null?void 0:e.in),n=t.getFullYear(),i=dt(t,0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);const o=ul(i),l=dt(t,0);l.setFullYear(n,0,4),l.setHours(0,0,0,0);const c=ul(l);return t.getTime()>=o.getTime()?n+1:t.getTime()>=c.getTime()?n:n-1}function Tf(r){const e=De(r),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+r-+t}function Ji(r,...e){const t=dt.bind(null,e.find(n=>typeof n=="object"));return e.map(t)}function qo(r,e){const t=De(r,e==null?void 0:e.in);return t.setHours(0,0,0,0),t}function cl(r,e,t){const[n,i]=Ji(t==null?void 0:t.in,r,e),o=qo(n),l=qo(i),c=+o-Tf(o),d=+l-Tf(l);return Math.round((c-d)/EA)}function kA(r,e){const t=X0(r,e),n=dt(r,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),ul(n)}function eg(r,e,t){const n=De(r,t==null?void 0:t.in);return n.setTime(n.getTime()+e*mh),n}function lv(r,e,t){return Ur(r,e*3,t)}function bA(r,e,t){return Q0(r,e*1e3)}function kf(r,e,t){return Vr(r,e*7,t)}function ji(r,e,t){return Ur(r,e*12,t)}function mE(r,e){let t,n=e==null?void 0:e.in;return r.forEach(i=>{!n&&typeof i=="object"&&(n=dt.bind(null,i));const o=De(i,n);(!t||t<o||isNaN(+o))&&(t=o)}),dt(n,t||NaN)}function gE(r,e){let t,n=e==null?void 0:e.in;return r.forEach(i=>{!n&&typeof i=="object"&&(n=dt.bind(null,i));const o=De(i,n);(!t||t>o||isNaN(+o))&&(t=o)}),dt(n,t||NaN)}function IA(r,e,t){const[n,i]=Ji(t==null?void 0:t.in,r,e);return+qo(n)==+qo(i)}function Bi(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function bf(r){return!(!Bi(r)&&typeof r!="number"||isNaN(+De(r)))}function If(r,e,t){const[n,i]=Ji(t==null?void 0:t.in,r,e),o=n.getFullYear()-i.getFullYear(),l=n.getMonth()-i.getMonth();return o*12+l}function Bo(r,e){const t=De(r,e==null?void 0:e.in);return Math.trunc(t.getMonth()/3)+1}function Pf(r,e,t){const[n,i]=Ji(t==null?void 0:t.in,r,e),o=n.getFullYear()-i.getFullYear(),l=Bo(n)-Bo(i);return o*4+l}function Df(r,e,t){const[n,i]=Ji(t==null?void 0:t.in,r,e);return n.getFullYear()-i.getFullYear()}function PA(r,e,t){const[n,i]=Ji(t==null?void 0:t.in,r,e),o=vE(n,i),l=Math.abs(cl(n,i));n.setDate(n.getDate()-o*l);const c=+(vE(n,i)===-o),d=o*(l-c);return d===0?0:d}function vE(r,e){const t=r.getFullYear()-e.getFullYear()||r.getMonth()-e.getMonth()||r.getDate()-e.getDate()||r.getHours()-e.getHours()||r.getMinutes()-e.getMinutes()||r.getSeconds()-e.getSeconds()||r.getMilliseconds()-e.getMilliseconds();return t<0?-1:t>0?1:t}function Z0(r,e){const t=De(r,e==null?void 0:e.in);return t.setHours(23,59,59,999),t}function J0(r,e){const t=De(r,e==null?void 0:e.in),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function tg(r,e){const t=De(r,e==null?void 0:e.in),n=t.getMonth(),i=n-n%3;return t.setMonth(i,1),t.setHours(0,0,0,0),t}function ek(r,e){const t=De(r,e==null?void 0:e.in);return t.setDate(1),t.setHours(0,0,0,0),t}function tk(r,e){const t=De(r,e==null?void 0:e.in),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(23,59,59,999),t}function vh(r,e){const t=De(r,e==null?void 0:e.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}function DA(r,e){var c,d;const t=ea(),n=t.weekStartsOn??((d=(c=t.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??0,i=De(r,e==null?void 0:e.in),o=i.getDay(),l=(o<n?-7:0)+6-(o-n);return i.setDate(i.getDate()+l),i.setHours(23,59,59,999),i}const xA={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},LA=(r,e,t)=>{let n;const i=xA[r];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+n:n+" ago":n};function hm(r){return(e={})=>{const t=e.width?String(e.width):r.defaultWidth;return r.formats[t]||r.formats[r.defaultWidth]}}const RA={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},MA={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},AA={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},OA={date:hm({formats:RA,defaultWidth:"full"}),time:hm({formats:MA,defaultWidth:"full"}),dateTime:hm({formats:AA,defaultWidth:"full"})},NA={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},VA=(r,e,t,n)=>NA[r];function du(r){return(e,t)=>{const n=t!=null&&t.context?String(t.context):"standalone";let i;if(n==="formatting"&&r.formattingValues){const l=r.defaultFormattingWidth||r.defaultWidth,c=t!=null&&t.width?String(t.width):l;i=r.formattingValues[c]||r.formattingValues[l]}else{const l=r.defaultWidth,c=t!=null&&t.width?String(t.width):r.defaultWidth;i=r.values[c]||r.values[l]}const o=r.argumentCallback?r.argumentCallback(e):e;return i[o]}}const FA={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},UA={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},jA={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},BA={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},zA={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},WA={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},HA=(r,e)=>{const t=Number(r),n=t%100;if(n>20||n<10)switch(n%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},$A={ordinalNumber:HA,era:du({values:FA,defaultWidth:"wide"}),quarter:du({values:UA,defaultWidth:"wide",argumentCallback:r=>r-1}),month:du({values:jA,defaultWidth:"wide"}),day:du({values:BA,defaultWidth:"wide"}),dayPeriod:du({values:zA,defaultWidth:"wide",formattingValues:WA,defaultFormattingWidth:"wide"})};function fu(r){return(e,t={})=>{const n=t.width,i=n&&r.matchPatterns[n]||r.matchPatterns[r.defaultMatchWidth],o=e.match(i);if(!o)return null;const l=o[0],c=n&&r.parsePatterns[n]||r.parsePatterns[r.defaultParseWidth],d=Array.isArray(c)?qA(c,v=>v.test(l)):YA(c,v=>v.test(l));let p;p=r.valueCallback?r.valueCallback(d):d,p=t.valueCallback?t.valueCallback(p):p;const m=e.slice(l.length);return{value:p,rest:m}}}function YA(r,e){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t)&&e(r[t]))return t}function qA(r,e){for(let t=0;t<r.length;t++)if(e(r[t]))return t}function KA(r){return(e,t={})=>{const n=e.match(r.matchPattern);if(!n)return null;const i=n[0],o=e.match(r.parsePattern);if(!o)return null;let l=r.valueCallback?r.valueCallback(o[0]):o[0];l=t.valueCallback?t.valueCallback(l):l;const c=e.slice(i.length);return{value:l,rest:c}}}const GA=/^(\d+)(th|st|nd|rd)?/i,QA=/\d+/i,XA={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},ZA={any:[/^b/i,/^(a|c)/i]},JA={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},eO={any:[/1/i,/2/i,/3/i,/4/i]},tO={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},nO={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},rO={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},iO={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},sO={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},oO={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},aO={ordinalNumber:KA({matchPattern:GA,parsePattern:QA,valueCallback:r=>parseInt(r,10)}),era:fu({matchPatterns:XA,defaultMatchWidth:"wide",parsePatterns:ZA,defaultParseWidth:"any"}),quarter:fu({matchPatterns:JA,defaultMatchWidth:"wide",parsePatterns:eO,defaultParseWidth:"any",valueCallback:r=>r+1}),month:fu({matchPatterns:tO,defaultMatchWidth:"wide",parsePatterns:nO,defaultParseWidth:"any"}),day:fu({matchPatterns:rO,defaultMatchWidth:"wide",parsePatterns:iO,defaultParseWidth:"any"}),dayPeriod:fu({matchPatterns:sO,defaultMatchWidth:"any",parsePatterns:oO,defaultParseWidth:"any"})},nk={code:"en-US",formatDistance:LA,formatLong:OA,formatRelative:VA,localize:$A,match:aO,options:{weekStartsOn:0,firstWeekContainsDate:1}};function lO(r,e){const t=De(r,e==null?void 0:e.in);return cl(t,vh(t))+1}function uv(r,e){const t=De(r,e==null?void 0:e.in),n=+ul(t)-+kA(t);return Math.round(n/G0)+1}function cv(r,e){var m,v,E,S;const t=De(r,e==null?void 0:e.in),n=t.getFullYear(),i=ea(),o=(e==null?void 0:e.firstWeekContainsDate)??((v=(m=e==null?void 0:e.locale)==null?void 0:m.options)==null?void 0:v.firstWeekContainsDate)??i.firstWeekContainsDate??((S=(E=i.locale)==null?void 0:E.options)==null?void 0:S.firstWeekContainsDate)??1,l=dt((e==null?void 0:e.in)||r,0);l.setFullYear(n+1,0,o),l.setHours(0,0,0,0);const c=Qi(l,e),d=dt((e==null?void 0:e.in)||r,0);d.setFullYear(n,0,o),d.setHours(0,0,0,0);const p=Qi(d,e);return+t>=+c?n+1:+t>=+p?n:n-1}function uO(r,e){var c,d,p,m;const t=ea(),n=(e==null?void 0:e.firstWeekContainsDate)??((d=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??t.firstWeekContainsDate??((m=(p=t.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??1,i=cv(r,e),o=dt((e==null?void 0:e.in)||r,0);return o.setFullYear(i,0,n),o.setHours(0,0,0,0),Qi(o,e)}function rk(r,e){const t=De(r,e==null?void 0:e.in),n=+Qi(t,e)-+uO(t,e);return Math.round(n/G0)+1}function ct(r,e){const t=r<0?"-":"",n=Math.abs(r).toString().padStart(e,"0");return t+n}const Ds={y(r,e){const t=r.getFullYear(),n=t>0?t:1-t;return ct(e==="yy"?n%100:n,e.length)},M(r,e){const t=r.getMonth();return e==="M"?String(t+1):ct(t+1,2)},d(r,e){return ct(r.getDate(),e.length)},a(r,e){const t=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(r,e){return ct(r.getHours()%12||12,e.length)},H(r,e){return ct(r.getHours(),e.length)},m(r,e){return ct(r.getMinutes(),e.length)},s(r,e){return ct(r.getSeconds(),e.length)},S(r,e){const t=e.length,n=r.getMilliseconds(),i=Math.trunc(n*Math.pow(10,t-3));return ct(i,e.length)}},Fa={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},yE={G:function(r,e,t){const n=r.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(n,{width:"abbreviated"});case"GGGGG":return t.era(n,{width:"narrow"});case"GGGG":default:return t.era(n,{width:"wide"})}},y:function(r,e,t){if(e==="yo"){const n=r.getFullYear(),i=n>0?n:1-n;return t.ordinalNumber(i,{unit:"year"})}return Ds.y(r,e)},Y:function(r,e,t,n){const i=cv(r,n),o=i>0?i:1-i;if(e==="YY"){const l=o%100;return ct(l,2)}return e==="Yo"?t.ordinalNumber(o,{unit:"year"}):ct(o,e.length)},R:function(r,e){const t=X0(r);return ct(t,e.length)},u:function(r,e){const t=r.getFullYear();return ct(t,e.length)},Q:function(r,e,t){const n=Math.ceil((r.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return ct(n,2);case"Qo":return t.ordinalNumber(n,{unit:"quarter"});case"QQQ":return t.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(n,{width:"wide",context:"formatting"})}},q:function(r,e,t){const n=Math.ceil((r.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return ct(n,2);case"qo":return t.ordinalNumber(n,{unit:"quarter"});case"qqq":return t.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(n,{width:"wide",context:"standalone"})}},M:function(r,e,t){const n=r.getMonth();switch(e){case"M":case"MM":return Ds.M(r,e);case"Mo":return t.ordinalNumber(n+1,{unit:"month"});case"MMM":return t.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(n,{width:"wide",context:"formatting"})}},L:function(r,e,t){const n=r.getMonth();switch(e){case"L":return String(n+1);case"LL":return ct(n+1,2);case"Lo":return t.ordinalNumber(n+1,{unit:"month"});case"LLL":return t.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(n,{width:"wide",context:"standalone"})}},w:function(r,e,t,n){const i=rk(r,n);return e==="wo"?t.ordinalNumber(i,{unit:"week"}):ct(i,e.length)},I:function(r,e,t){const n=uv(r);return e==="Io"?t.ordinalNumber(n,{unit:"week"}):ct(n,e.length)},d:function(r,e,t){return e==="do"?t.ordinalNumber(r.getDate(),{unit:"date"}):Ds.d(r,e)},D:function(r,e,t){const n=lO(r);return e==="Do"?t.ordinalNumber(n,{unit:"dayOfYear"}):ct(n,e.length)},E:function(r,e,t){const n=r.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(n,{width:"short",context:"formatting"});case"EEEE":default:return t.day(n,{width:"wide",context:"formatting"})}},e:function(r,e,t,n){const i=r.getDay(),o=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return ct(o,2);case"eo":return t.ordinalNumber(o,{unit:"day"});case"eee":return t.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(i,{width:"short",context:"formatting"});case"eeee":default:return t.day(i,{width:"wide",context:"formatting"})}},c:function(r,e,t,n){const i=r.getDay(),o=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return ct(o,e.length);case"co":return t.ordinalNumber(o,{unit:"day"});case"ccc":return t.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(i,{width:"narrow",context:"standalone"});case"cccccc":return t.day(i,{width:"short",context:"standalone"});case"cccc":default:return t.day(i,{width:"wide",context:"standalone"})}},i:function(r,e,t){const n=r.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return ct(i,e.length);case"io":return t.ordinalNumber(i,{unit:"day"});case"iii":return t.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(n,{width:"short",context:"formatting"});case"iiii":default:return t.day(n,{width:"wide",context:"formatting"})}},a:function(r,e,t){const i=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(r,e,t){const n=r.getHours();let i;switch(n===12?i=Fa.noon:n===0?i=Fa.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(r,e,t){const n=r.getHours();let i;switch(n>=17?i=Fa.evening:n>=12?i=Fa.afternoon:n>=4?i=Fa.morning:i=Fa.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(r,e,t){if(e==="ho"){let n=r.getHours()%12;return n===0&&(n=12),t.ordinalNumber(n,{unit:"hour"})}return Ds.h(r,e)},H:function(r,e,t){return e==="Ho"?t.ordinalNumber(r.getHours(),{unit:"hour"}):Ds.H(r,e)},K:function(r,e,t){const n=r.getHours()%12;return e==="Ko"?t.ordinalNumber(n,{unit:"hour"}):ct(n,e.length)},k:function(r,e,t){let n=r.getHours();return n===0&&(n=24),e==="ko"?t.ordinalNumber(n,{unit:"hour"}):ct(n,e.length)},m:function(r,e,t){return e==="mo"?t.ordinalNumber(r.getMinutes(),{unit:"minute"}):Ds.m(r,e)},s:function(r,e,t){return e==="so"?t.ordinalNumber(r.getSeconds(),{unit:"second"}):Ds.s(r,e)},S:function(r,e){return Ds.S(r,e)},X:function(r,e,t){const n=r.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return wE(n);case"XXXX":case"XX":return No(n);case"XXXXX":case"XXX":default:return No(n,":")}},x:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"x":return wE(n);case"xxxx":case"xx":return No(n);case"xxxxx":case"xxx":default:return No(n,":")}},O:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+_E(n,":");case"OOOO":default:return"GMT"+No(n,":")}},z:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+_E(n,":");case"zzzz":default:return"GMT"+No(n,":")}},t:function(r,e,t){const n=Math.trunc(+r/1e3);return ct(n,e.length)},T:function(r,e,t){return ct(+r,e.length)}};function _E(r,e=""){const t=r>0?"-":"+",n=Math.abs(r),i=Math.trunc(n/60),o=n%60;return o===0?t+String(i):t+String(i)+e+ct(o,2)}function wE(r,e){return r%60===0?(r>0?"-":"+")+ct(Math.abs(r)/60,2):No(r,e)}function No(r,e=""){const t=r>0?"-":"+",n=Math.abs(r),i=ct(Math.trunc(n/60),2),o=ct(n%60,2);return t+i+e+o}const EE=(r,e)=>{switch(r){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},ik=(r,e)=>{switch(r){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},cO=(r,e)=>{const t=r.match(/(P+)(p+)?/)||[],n=t[1],i=t[2];if(!i)return EE(r,e);let o;switch(n){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",EE(n,e)).replace("{{time}}",ik(i,e))},ng={p:ik,P:cO},dO=/^D+$/,fO=/^Y+$/,hO=["D","DD","YY","YYYY"];function pO(r){return dO.test(r)}function mO(r){return fO.test(r)}function gO(r,e,t){const n=vO(r,e,t);if(console.warn(n),hO.includes(r))throw new RangeError(n)}function vO(r,e,t){const n=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${e}\`) for formatting ${n} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const yO=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,_O=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,wO=/^'([^]*?)'?$/,EO=/''/g,CO=/[a-zA-Z]/;function CE(r,e,t){var m,v,E,S,T,L,P,V;const n=ea(),i=(t==null?void 0:t.locale)??n.locale??nk,o=(t==null?void 0:t.firstWeekContainsDate)??((v=(m=t==null?void 0:t.locale)==null?void 0:m.options)==null?void 0:v.firstWeekContainsDate)??n.firstWeekContainsDate??((S=(E=n.locale)==null?void 0:E.options)==null?void 0:S.firstWeekContainsDate)??1,l=(t==null?void 0:t.weekStartsOn)??((L=(T=t==null?void 0:t.locale)==null?void 0:T.options)==null?void 0:L.weekStartsOn)??n.weekStartsOn??((V=(P=n.locale)==null?void 0:P.options)==null?void 0:V.weekStartsOn)??0,c=De(r,t==null?void 0:t.in);if(!bf(c))throw new RangeError("Invalid time value");let d=e.match(_O).map(F=>{const H=F[0];if(H==="p"||H==="P"){const j=ng[H];return j(F,i.formatLong)}return F}).join("").match(yO).map(F=>{if(F==="''")return{isToken:!1,value:"'"};const H=F[0];if(H==="'")return{isToken:!1,value:SO(F)};if(yE[H])return{isToken:!0,value:F};if(H.match(CO))throw new RangeError("Format string contains an unescaped latin alphabet character `"+H+"`");return{isToken:!1,value:F}});i.localize.preprocessor&&(d=i.localize.preprocessor(c,d));const p={firstWeekContainsDate:o,weekStartsOn:l,locale:i};return d.map(F=>{if(!F.isToken)return F.value;const H=F.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&mO(H)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&pO(H))&&gO(H,e,String(r));const j=yE[H[0]];return j(c,H,i.localize,p)}).join("")}function SO(r){const e=r.match(wO);return e?e[1].replace(EO,"'"):r}function SE(r,e){return De(r,e==null?void 0:e.in).getDate()}function TO(r,e){return De(r,e==null?void 0:e.in).getDay()}function kO(r,e){const t=De(r,e==null?void 0:e.in),n=t.getFullYear(),i=t.getMonth(),o=dt(t,0);return o.setFullYear(n,i+1,0),o.setHours(0,0,0,0),o.getDate()}function bO(){return Object.assign({},ea())}function zi(r,e){return De(r,e==null?void 0:e.in).getHours()}function IO(r,e){const t=De(r,e==null?void 0:e.in).getDay();return t===0?7:t}function Wi(r,e){return De(r,e==null?void 0:e.in).getMinutes()}function Sn(r,e){return De(r,e==null?void 0:e.in).getMonth()}function qs(r){return De(r).getSeconds()}function rg(r){return+De(r)}function $e(r,e){return De(r,e==null?void 0:e.in).getFullYear()}function to(r,e){return+De(r)>+De(e)}function Ko(r,e){return+De(r)<+De(e)}function PO(r,e){return+De(r)==+De(e)}function DO(r,e){const t=xO(e)?new e(0):dt(e,0);return t.setFullYear(r.getFullYear(),r.getMonth(),r.getDate()),t.setHours(r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()),t}function xO(r){var e;return typeof r=="function"&&((e=r.prototype)==null?void 0:e.constructor)===r}const LO=10;class sk{constructor(){Ee(this,"subPriority",0)}validate(e,t){return!0}}class RO extends sk{constructor(e,t,n,i,o){super(),this.value=e,this.validateValue=t,this.setValue=n,this.priority=i,o&&(this.subPriority=o)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,n){return this.setValue(e,t,this.value,n)}}class MO extends sk{constructor(t,n){super();Ee(this,"priority",LO);Ee(this,"subPriority",-1);this.context=t||(i=>dt(n,i))}set(t,n){return n.timestampIsSet?t:dt(t,DO(t,this.context))}}class ot{run(e,t,n,i){const o=this.parse(e,t,n,i);return o?{setter:new RO(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}validate(e,t,n){return!0}}class AO extends ot{constructor(){super(...arguments);Ee(this,"priority",140);Ee(this,"incompatibleTokens",["R","u","t","T"])}parse(t,n,i){switch(n){case"G":case"GG":case"GGG":return i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"});case"GGGGG":return i.era(t,{width:"narrow"});case"GGGG":default:return i.era(t,{width:"wide"})||i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"})}}set(t,n,i){return n.era=i,t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}}const Rt={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},li={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Mt(r,e){return r&&{value:e(r.value),rest:r.rest}}function kt(r,e){const t=e.match(r);return t?{value:parseInt(t[0],10),rest:e.slice(t[0].length)}:null}function ui(r,e){const t=e.match(r);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};const n=t[1]==="+"?1:-1,i=t[2]?parseInt(t[2],10):0,o=t[3]?parseInt(t[3],10):0,l=t[5]?parseInt(t[5],10):0;return{value:n*(i*gh+o*mh+l*CA),rest:e.slice(t[0].length)}}function ok(r){return kt(Rt.anyDigitsSigned,r)}function Dt(r,e){switch(r){case 1:return kt(Rt.singleDigit,e);case 2:return kt(Rt.twoDigits,e);case 3:return kt(Rt.threeDigits,e);case 4:return kt(Rt.fourDigits,e);default:return kt(new RegExp("^\\d{1,"+r+"}"),e)}}function xf(r,e){switch(r){case 1:return kt(Rt.singleDigitSigned,e);case 2:return kt(Rt.twoDigitsSigned,e);case 3:return kt(Rt.threeDigitsSigned,e);case 4:return kt(Rt.fourDigitsSigned,e);default:return kt(new RegExp("^-?\\d{1,"+r+"}"),e)}}function dv(r){switch(r){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function ak(r,e){const t=e>0,n=t?e:1-e;let i;if(n<=50)i=r||100;else{const o=n+50,l=Math.trunc(o/100)*100,c=r>=o%100;i=r+l-(c?100:0)}return t?i:1-i}function lk(r){return r%400===0||r%4===0&&r%100!==0}class OO extends ot{constructor(){super(...arguments);Ee(this,"priority",130);Ee(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(t,n,i){const o=l=>({year:l,isTwoDigitYear:n==="yy"});switch(n){case"y":return Mt(Dt(4,t),o);case"yo":return Mt(i.ordinalNumber(t,{unit:"year"}),o);default:return Mt(Dt(n.length,t),o)}}validate(t,n){return n.isTwoDigitYear||n.year>0}set(t,n,i){const o=t.getFullYear();if(i.isTwoDigitYear){const c=ak(i.year,o);return t.setFullYear(c,0,1),t.setHours(0,0,0,0),t}const l=!("era"in n)||n.era===1?i.year:1-i.year;return t.setFullYear(l,0,1),t.setHours(0,0,0,0),t}}class NO extends ot{constructor(){super(...arguments);Ee(this,"priority",130);Ee(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(t,n,i){const o=l=>({year:l,isTwoDigitYear:n==="YY"});switch(n){case"Y":return Mt(Dt(4,t),o);case"Yo":return Mt(i.ordinalNumber(t,{unit:"year"}),o);default:return Mt(Dt(n.length,t),o)}}validate(t,n){return n.isTwoDigitYear||n.year>0}set(t,n,i,o){const l=cv(t,o);if(i.isTwoDigitYear){const d=ak(i.year,l);return t.setFullYear(d,0,o.firstWeekContainsDate),t.setHours(0,0,0,0),Qi(t,o)}const c=!("era"in n)||n.era===1?i.year:1-i.year;return t.setFullYear(c,0,o.firstWeekContainsDate),t.setHours(0,0,0,0),Qi(t,o)}}class VO extends ot{constructor(){super(...arguments);Ee(this,"priority",130);Ee(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(t,n){return xf(n==="R"?4:n.length,t)}set(t,n,i){const o=dt(t,0);return o.setFullYear(i,0,4),o.setHours(0,0,0,0),ul(o)}}class FO extends ot{constructor(){super(...arguments);Ee(this,"priority",130);Ee(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(t,n){return xf(n==="u"?4:n.length,t)}set(t,n,i){return t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}}class UO extends ot{constructor(){super(...arguments);Ee(this,"priority",120);Ee(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,n,i){switch(n){case"Q":case"QQ":return Dt(n.length,t);case"Qo":return i.ordinalNumber(t,{unit:"quarter"});case"QQQ":return i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(t,{width:"wide",context:"formatting"})||i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=1&&n<=4}set(t,n,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}}class jO extends ot{constructor(){super(...arguments);Ee(this,"priority",120);Ee(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,n,i){switch(n){case"q":case"qq":return Dt(n.length,t);case"qo":return i.ordinalNumber(t,{unit:"quarter"});case"qqq":return i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(t,{width:"wide",context:"standalone"})||i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=1&&n<=4}set(t,n,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}}class BO extends ot{constructor(){super(...arguments);Ee(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);Ee(this,"priority",110)}parse(t,n,i){const o=l=>l-1;switch(n){case"M":return Mt(kt(Rt.month,t),o);case"MM":return Mt(Dt(2,t),o);case"Mo":return Mt(i.ordinalNumber(t,{unit:"month"}),o);case"MMM":return i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(t,{width:"wide",context:"formatting"})||i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=11}set(t,n,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}}class zO extends ot{constructor(){super(...arguments);Ee(this,"priority",110);Ee(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(t,n,i){const o=l=>l-1;switch(n){case"L":return Mt(kt(Rt.month,t),o);case"LL":return Mt(Dt(2,t),o);case"Lo":return Mt(i.ordinalNumber(t,{unit:"month"}),o);case"LLL":return i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(t,{width:"wide",context:"standalone"})||i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=0&&n<=11}set(t,n,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}}function WO(r,e,t){const n=De(r,t==null?void 0:t.in),i=rk(n,t)-e;return n.setDate(n.getDate()-i*7),De(n,t==null?void 0:t.in)}class HO extends ot{constructor(){super(...arguments);Ee(this,"priority",100);Ee(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(t,n,i){switch(n){case"w":return kt(Rt.week,t);case"wo":return i.ordinalNumber(t,{unit:"week"});default:return Dt(n.length,t)}}validate(t,n){return n>=1&&n<=53}set(t,n,i,o){return Qi(WO(t,i,o),o)}}function $O(r,e,t){const n=De(r,t==null?void 0:t.in),i=uv(n,t)-e;return n.setDate(n.getDate()-i*7),n}class YO extends ot{constructor(){super(...arguments);Ee(this,"priority",100);Ee(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(t,n,i){switch(n){case"I":return kt(Rt.week,t);case"Io":return i.ordinalNumber(t,{unit:"week"});default:return Dt(n.length,t)}}validate(t,n){return n>=1&&n<=53}set(t,n,i){return ul($O(t,i))}}const qO=[31,28,31,30,31,30,31,31,30,31,30,31],KO=[31,29,31,30,31,30,31,31,30,31,30,31];class GO extends ot{constructor(){super(...arguments);Ee(this,"priority",90);Ee(this,"subPriority",1);Ee(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(t,n,i){switch(n){case"d":return kt(Rt.date,t);case"do":return i.ordinalNumber(t,{unit:"date"});default:return Dt(n.length,t)}}validate(t,n){const i=t.getFullYear(),o=lk(i),l=t.getMonth();return o?n>=1&&n<=KO[l]:n>=1&&n<=qO[l]}set(t,n,i){return t.setDate(i),t.setHours(0,0,0,0),t}}class QO extends ot{constructor(){super(...arguments);Ee(this,"priority",90);Ee(this,"subpriority",1);Ee(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(t,n,i){switch(n){case"D":case"DD":return kt(Rt.dayOfYear,t);case"Do":return i.ordinalNumber(t,{unit:"date"});default:return Dt(n.length,t)}}validate(t,n){const i=t.getFullYear();return lk(i)?n>=1&&n<=366:n>=1&&n<=365}set(t,n,i){return t.setMonth(0,i),t.setHours(0,0,0,0),t}}function fv(r,e,t){var v,E,S,T;const n=ea(),i=(t==null?void 0:t.weekStartsOn)??((E=(v=t==null?void 0:t.locale)==null?void 0:v.options)==null?void 0:E.weekStartsOn)??n.weekStartsOn??((T=(S=n.locale)==null?void 0:S.options)==null?void 0:T.weekStartsOn)??0,o=De(r,t==null?void 0:t.in),l=o.getDay(),d=(e%7+7)%7,p=7-i,m=e<0||e>6?e-(l+p)%7:(d+p)%7-(l+p)%7;return Vr(o,m,t)}class XO extends ot{constructor(){super(...arguments);Ee(this,"priority",90);Ee(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(t,n,i){switch(n){case"E":case"EE":case"EEE":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=6}set(t,n,i,o){return t=fv(t,i,o),t.setHours(0,0,0,0),t}}class ZO extends ot{constructor(){super(...arguments);Ee(this,"priority",90);Ee(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(t,n,i,o){const l=c=>{const d=Math.floor((c-1)/7)*7;return(c+o.weekStartsOn+6)%7+d};switch(n){case"e":case"ee":return Mt(Dt(n.length,t),l);case"eo":return Mt(i.ordinalNumber(t,{unit:"day"}),l);case"eee":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"eeeee":return i.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=6}set(t,n,i,o){return t=fv(t,i,o),t.setHours(0,0,0,0),t}}class JO extends ot{constructor(){super(...arguments);Ee(this,"priority",90);Ee(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(t,n,i,o){const l=c=>{const d=Math.floor((c-1)/7)*7;return(c+o.weekStartsOn+6)%7+d};switch(n){case"c":case"cc":return Mt(Dt(n.length,t),l);case"co":return Mt(i.ordinalNumber(t,{unit:"day"}),l);case"ccc":return i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});case"ccccc":return i.day(t,{width:"narrow",context:"standalone"});case"cccccc":return i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(t,{width:"wide",context:"standalone"})||i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=0&&n<=6}set(t,n,i,o){return t=fv(t,i,o),t.setHours(0,0,0,0),t}}function eN(r,e,t){const n=De(r,t==null?void 0:t.in),i=IO(n,t),o=e-i;return Vr(n,o,t)}class tN extends ot{constructor(){super(...arguments);Ee(this,"priority",90);Ee(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(t,n,i){const o=l=>l===0?7:l;switch(n){case"i":case"ii":return Dt(n.length,t);case"io":return i.ordinalNumber(t,{unit:"day"});case"iii":return Mt(i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),o);case"iiiii":return Mt(i.day(t,{width:"narrow",context:"formatting"}),o);case"iiiiii":return Mt(i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),o);case"iiii":default:return Mt(i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),o)}}validate(t,n){return n>=1&&n<=7}set(t,n,i){return t=eN(t,i),t.setHours(0,0,0,0),t}}class nN extends ot{constructor(){super(...arguments);Ee(this,"priority",80);Ee(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(t,n,i){switch(n){case"a":case"aa":case"aaa":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,i){return t.setHours(dv(i),0,0,0),t}}class rN extends ot{constructor(){super(...arguments);Ee(this,"priority",80);Ee(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(t,n,i){switch(n){case"b":case"bb":case"bbb":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,i){return t.setHours(dv(i),0,0,0),t}}class iN extends ot{constructor(){super(...arguments);Ee(this,"priority",80);Ee(this,"incompatibleTokens",["a","b","t","T"])}parse(t,n,i){switch(n){case"B":case"BB":case"BBB":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,i){return t.setHours(dv(i),0,0,0),t}}class sN extends ot{constructor(){super(...arguments);Ee(this,"priority",70);Ee(this,"incompatibleTokens",["H","K","k","t","T"])}parse(t,n,i){switch(n){case"h":return kt(Rt.hour12h,t);case"ho":return i.ordinalNumber(t,{unit:"hour"});default:return Dt(n.length,t)}}validate(t,n){return n>=1&&n<=12}set(t,n,i){const o=t.getHours()>=12;return o&&i<12?t.setHours(i+12,0,0,0):!o&&i===12?t.setHours(0,0,0,0):t.setHours(i,0,0,0),t}}class oN extends ot{constructor(){super(...arguments);Ee(this,"priority",70);Ee(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(t,n,i){switch(n){case"H":return kt(Rt.hour23h,t);case"Ho":return i.ordinalNumber(t,{unit:"hour"});default:return Dt(n.length,t)}}validate(t,n){return n>=0&&n<=23}set(t,n,i){return t.setHours(i,0,0,0),t}}class aN extends ot{constructor(){super(...arguments);Ee(this,"priority",70);Ee(this,"incompatibleTokens",["h","H","k","t","T"])}parse(t,n,i){switch(n){case"K":return kt(Rt.hour11h,t);case"Ko":return i.ordinalNumber(t,{unit:"hour"});default:return Dt(n.length,t)}}validate(t,n){return n>=0&&n<=11}set(t,n,i){return t.getHours()>=12&&i<12?t.setHours(i+12,0,0,0):t.setHours(i,0,0,0),t}}class lN extends ot{constructor(){super(...arguments);Ee(this,"priority",70);Ee(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(t,n,i){switch(n){case"k":return kt(Rt.hour24h,t);case"ko":return i.ordinalNumber(t,{unit:"hour"});default:return Dt(n.length,t)}}validate(t,n){return n>=1&&n<=24}set(t,n,i){const o=i<=24?i%24:i;return t.setHours(o,0,0,0),t}}class uN extends ot{constructor(){super(...arguments);Ee(this,"priority",60);Ee(this,"incompatibleTokens",["t","T"])}parse(t,n,i){switch(n){case"m":return kt(Rt.minute,t);case"mo":return i.ordinalNumber(t,{unit:"minute"});default:return Dt(n.length,t)}}validate(t,n){return n>=0&&n<=59}set(t,n,i){return t.setMinutes(i,0,0),t}}class cN extends ot{constructor(){super(...arguments);Ee(this,"priority",50);Ee(this,"incompatibleTokens",["t","T"])}parse(t,n,i){switch(n){case"s":return kt(Rt.second,t);case"so":return i.ordinalNumber(t,{unit:"second"});default:return Dt(n.length,t)}}validate(t,n){return n>=0&&n<=59}set(t,n,i){return t.setSeconds(i,0),t}}class dN extends ot{constructor(){super(...arguments);Ee(this,"priority",30);Ee(this,"incompatibleTokens",["t","T"])}parse(t,n){const i=o=>Math.trunc(o*Math.pow(10,-n.length+3));return Mt(Dt(n.length,t),i)}set(t,n,i){return t.setMilliseconds(i),t}}class fN extends ot{constructor(){super(...arguments);Ee(this,"priority",10);Ee(this,"incompatibleTokens",["t","T","x"])}parse(t,n){switch(n){case"X":return ui(li.basicOptionalMinutes,t);case"XX":return ui(li.basic,t);case"XXXX":return ui(li.basicOptionalSeconds,t);case"XXXXX":return ui(li.extendedOptionalSeconds,t);case"XXX":default:return ui(li.extended,t)}}set(t,n,i){return n.timestampIsSet?t:dt(t,t.getTime()-Tf(t)-i)}}class hN extends ot{constructor(){super(...arguments);Ee(this,"priority",10);Ee(this,"incompatibleTokens",["t","T","X"])}parse(t,n){switch(n){case"x":return ui(li.basicOptionalMinutes,t);case"xx":return ui(li.basic,t);case"xxxx":return ui(li.basicOptionalSeconds,t);case"xxxxx":return ui(li.extendedOptionalSeconds,t);case"xxx":default:return ui(li.extended,t)}}set(t,n,i){return n.timestampIsSet?t:dt(t,t.getTime()-Tf(t)-i)}}class pN extends ot{constructor(){super(...arguments);Ee(this,"priority",40);Ee(this,"incompatibleTokens","*")}parse(t){return ok(t)}set(t,n,i){return[dt(t,i*1e3),{timestampIsSet:!0}]}}class mN extends ot{constructor(){super(...arguments);Ee(this,"priority",20);Ee(this,"incompatibleTokens","*")}parse(t){return ok(t)}set(t,n,i){return[dt(t,i),{timestampIsSet:!0}]}}const gN={G:new AO,y:new OO,Y:new NO,R:new VO,u:new FO,Q:new UO,q:new jO,M:new BO,L:new zO,w:new HO,I:new YO,d:new GO,D:new QO,E:new XO,e:new ZO,c:new JO,i:new tN,a:new nN,b:new rN,B:new iN,h:new sN,H:new oN,K:new aN,k:new lN,m:new uN,s:new cN,S:new dN,X:new fN,x:new hN,t:new pN,T:new mN},vN=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,yN=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,_N=/^'([^]*?)'?$/,wN=/''/g,EN=/\S/,CN=/[a-zA-Z]/;function SN(r,e,t,n){var P,V,F,H,j,z,$,D;const i=()=>dt((n==null?void 0:n.in)||t,NaN),o=bO(),l=(n==null?void 0:n.locale)??o.locale??nk,c=(n==null?void 0:n.firstWeekContainsDate)??((V=(P=n==null?void 0:n.locale)==null?void 0:P.options)==null?void 0:V.firstWeekContainsDate)??o.firstWeekContainsDate??((H=(F=o.locale)==null?void 0:F.options)==null?void 0:H.firstWeekContainsDate)??1,d=(n==null?void 0:n.weekStartsOn)??((z=(j=n==null?void 0:n.locale)==null?void 0:j.options)==null?void 0:z.weekStartsOn)??o.weekStartsOn??((D=($=o.locale)==null?void 0:$.options)==null?void 0:D.weekStartsOn)??0;if(!e)return r?i():De(t,n==null?void 0:n.in);const p={firstWeekContainsDate:c,weekStartsOn:d,locale:l},m=[new MO(n==null?void 0:n.in,t)],v=e.match(yN).map(I=>{const k=I[0];if(k in ng){const R=ng[k];return R(I,l.formatLong)}return I}).join("").match(vN),E=[];for(let I of v){const k=I[0],R=gN[k];if(R){const{incompatibleTokens:A}=R;if(Array.isArray(A)){const M=E.find(fe=>A.includes(fe.token)||fe.token===k);if(M)throw new RangeError(`The format string mustn't contain \`${M.fullToken}\` and \`${I}\` at the same time`)}else if(R.incompatibleTokens==="*"&&E.length>0)throw new RangeError(`The format string mustn't contain \`${I}\` and any other token at the same time`);E.push({token:k,fullToken:I});const N=R.run(r,I,l.match,p);if(!N)return i();m.push(N.setter),r=N.rest}else{if(k.match(CN))throw new RangeError("Format string contains an unescaped latin alphabet character `"+k+"`");if(I==="''"?I="'":k==="'"&&(I=TN(I)),r.indexOf(I)===0)r=r.slice(I.length);else return i()}}if(r.length>0&&EN.test(r))return i();const S=m.map(I=>I.priority).sort((I,k)=>k-I).filter((I,k,R)=>R.indexOf(I)===k).map(I=>m.filter(k=>k.priority===I).sort((k,R)=>R.subPriority-k.subPriority)).map(I=>I[0]);let T=De(t,n==null?void 0:n.in);if(isNaN(+T))return i();const L={};for(const I of S){if(!I.validate(T,p))return i();const k=I.set(T,L,p);Array.isArray(k)?(T=k[0],Object.assign(L,k[1])):T=k}return T}function TN(r){return r.match(_N)[1].replace(wN,"'")}function kN(r,e,t){const[n,i]=Ji(t==null?void 0:t.in,r,e);return n.getFullYear()===i.getFullYear()&&n.getMonth()===i.getMonth()}function bN(r,e,t){const[n,i]=Ji(t==null?void 0:t.in,r,e);return+tg(n)==+tg(i)}function IN(r,e,t){const[n,i]=Ji(t==null?void 0:t.in,r,e);return n.getFullYear()===i.getFullYear()}function Wu(r,e,t){const n=+De(r,t==null?void 0:t.in),[i,o]=[+De(e.start,t==null?void 0:t.in),+De(e.end,t==null?void 0:t.in)].sort((l,c)=>l-c);return n>=i&&n<=o}function PN(r,e,t){return Vr(r,-1,t)}function DN(r,e){const t=()=>dt(e==null?void 0:e.in,NaN),i=MN(r);let o;if(i.date){const p=AN(i.date,2);o=ON(p.restDateString,p.year)}if(!o||isNaN(+o))return t();const l=+o;let c=0,d;if(i.time&&(c=NN(i.time),isNaN(c)))return t();if(i.timezone){if(d=VN(i.timezone),isNaN(d))return t()}else{const p=new Date(l+c),m=De(0,e==null?void 0:e.in);return m.setFullYear(p.getUTCFullYear(),p.getUTCMonth(),p.getUTCDate()),m.setHours(p.getUTCHours(),p.getUTCMinutes(),p.getUTCSeconds(),p.getUTCMilliseconds()),m}return De(l+c+d,e==null?void 0:e.in)}const Rd={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},xN=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,LN=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,RN=/^([+-])(\d{2})(?::?(\d{2}))?$/;function MN(r){const e={},t=r.split(Rd.dateTimeDelimiter);let n;if(t.length>2)return e;if(/:/.test(t[0])?n=t[0]:(e.date=t[0],n=t[1],Rd.timeZoneDelimiter.test(e.date)&&(e.date=r.split(Rd.timeZoneDelimiter)[0],n=r.substr(e.date.length,r.length))),n){const i=Rd.timezone.exec(n);i?(e.time=n.replace(i[1],""),e.timezone=i[1]):e.time=n}return e}function AN(r,e){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=r.match(t);if(!n)return{year:NaN,restDateString:""};const i=n[1]?parseInt(n[1]):null,o=n[2]?parseInt(n[2]):null;return{year:o===null?i:o*100,restDateString:r.slice((n[1]||n[2]).length)}}function ON(r,e){if(e===null)return new Date(NaN);const t=r.match(xN);if(!t)return new Date(NaN);const n=!!t[4],i=hu(t[1]),o=hu(t[2])-1,l=hu(t[3]),c=hu(t[4]),d=hu(t[5])-1;if(n)return zN(e,c,d)?FN(e,c,d):new Date(NaN);{const p=new Date(0);return!jN(e,o,l)||!BN(e,i)?new Date(NaN):(p.setUTCFullYear(e,o,Math.max(i,l)),p)}}function hu(r){return r?parseInt(r):1}function NN(r){const e=r.match(LN);if(!e)return NaN;const t=pm(e[1]),n=pm(e[2]),i=pm(e[3]);return WN(t,n,i)?t*gh+n*mh+i*1e3:NaN}function pm(r){return r&&parseFloat(r.replace(",","."))||0}function VN(r){if(r==="Z")return 0;const e=r.match(RN);if(!e)return 0;const t=e[1]==="+"?-1:1,n=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return HN(n,i)?t*(n*gh+i*mh):NaN}function FN(r,e,t){const n=new Date(0);n.setUTCFullYear(r,0,4);const i=n.getUTCDay()||7,o=(e-1)*7+t+1-i;return n.setUTCDate(n.getUTCDate()+o),n}const UN=[31,null,31,30,31,30,31,31,30,31,30,31];function uk(r){return r%400===0||r%4===0&&r%100!==0}function jN(r,e,t){return e>=0&&e<=11&&t>=1&&t<=(UN[e]||(uk(r)?29:28))}function BN(r,e){return e>=1&&e<=(uk(r)?366:365)}function zN(r,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function WN(r,e,t){return r===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&r>=0&&r<25}function HN(r,e){return e>=0&&e<=59}function dr(r,e,t){const n=De(r,t==null?void 0:t.in),i=n.getFullYear(),o=n.getDate(),l=dt(r,0);l.setFullYear(i,e,15),l.setHours(0,0,0,0);const c=kO(l);return n.setMonth(e,Math.min(o,c)),n}function Xd(r,e,t){const n=De(r,t==null?void 0:t.in);return n.setHours(e),n}function Zd(r,e,t){const n=De(r,t==null?void 0:t.in);return n.setMinutes(e),n}function Wa(r,e,t){const n=De(r,t==null?void 0:t.in),i=Math.trunc(n.getMonth()/3)+1,o=e-i;return dr(n,n.getMonth()+o*3)}function Jd(r,e,t){const n=De(r,t==null?void 0:t.in);return n.setSeconds(e),n}function oi(r,e,t){const n=De(r,t==null?void 0:t.in);return isNaN(+n)?dt(r,NaN):(n.setFullYear(e),n)}function zo(r,e,t){return Ur(r,-e,t)}function ck(r,e,t){return lv(r,-1,t)}function TE(r,e,t){return kf(r,-1,t)}function dl(r,e,t){return ji(r,-e,t)}function yh(){return typeof window<"u"}function Il(r){return dk(r)?(r.nodeName||"").toLowerCase():"#document"}function Gn(r){var e;return(r==null||(e=r.ownerDocument)==null?void 0:e.defaultView)||window}function _i(r){var e;return(e=(dk(r)?r.ownerDocument:r.document)||window.document)==null?void 0:e.documentElement}function dk(r){return yh()?r instanceof Node||r instanceof Gn(r).Node:!1}function Tn(r){return yh()?r instanceof Element||r instanceof Gn(r).Element:!1}function yi(r){return yh()?r instanceof HTMLElement||r instanceof Gn(r).HTMLElement:!1}function kE(r){return!yh()||typeof ShadowRoot>"u"?!1:r instanceof ShadowRoot||r instanceof Gn(r).ShadowRoot}function ac(r){const{overflow:e,overflowX:t,overflowY:n,display:i}=pr(r);return/auto|scroll|overlay|hidden|clip/.test(e+n+t)&&!["inline","contents"].includes(i)}function $N(r){return["table","td","th"].includes(Il(r))}function _h(r){return[":popover-open",":modal"].some(e=>{try{return r.matches(e)}catch{return!1}})}function hv(r){const e=pv(),t=Tn(r)?pr(r):r;return["transform","translate","scale","rotate","perspective"].some(n=>t[n]?t[n]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(t.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(t.contain||"").includes(n))}function YN(r){let e=no(r);for(;yi(e)&&!fl(e);){if(hv(e))return e;if(_h(e))return null;e=no(e)}return null}function pv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function fl(r){return["html","body","#document"].includes(Il(r))}function pr(r){return Gn(r).getComputedStyle(r)}function wh(r){return Tn(r)?{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}:{scrollLeft:r.scrollX,scrollTop:r.scrollY}}function no(r){if(Il(r)==="html")return r;const e=r.assignedSlot||r.parentNode||kE(r)&&r.host||_i(r);return kE(e)?e.host:e}function fk(r){const e=no(r);return fl(e)?r.ownerDocument?r.ownerDocument.body:r.body:yi(e)&&ac(e)?e:fk(e)}function Hu(r,e,t){var n;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=fk(r),o=i===((n=r.ownerDocument)==null?void 0:n.body),l=Gn(i);if(o){const c=ig(l);return e.concat(l,l.visualViewport||[],ac(i)?i:[],c&&t?Hu(c):[])}return e.concat(i,Hu(i,[],t))}function ig(r){return r.parent&&Object.getPrototypeOf(r.parent)?r.frameElement:null}const hl=Math.min,Wo=Math.max,Lf=Math.round,Md=Math.floor,mi=r=>({x:r,y:r}),qN={left:"right",right:"left",bottom:"top",top:"bottom"},KN={start:"end",end:"start"};function GN(r,e,t){return Wo(r,hl(e,t))}function Eh(r,e){return typeof r=="function"?r(e):r}function pl(r){return r.split("-")[0]}function lc(r){return r.split("-")[1]}function QN(r){return r==="x"?"y":"x"}function mv(r){return r==="y"?"height":"width"}function $u(r){return["top","bottom"].includes(pl(r))?"y":"x"}function gv(r){return QN($u(r))}function XN(r,e,t){t===void 0&&(t=!1);const n=lc(r),i=gv(r),o=mv(i);let l=i==="x"?n===(t?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(l=Rf(l)),[l,Rf(l)]}function ZN(r){const e=Rf(r);return[sg(r),e,sg(e)]}function sg(r){return r.replace(/start|end/g,e=>KN[e])}function JN(r,e,t){const n=["left","right"],i=["right","left"],o=["top","bottom"],l=["bottom","top"];switch(r){case"top":case"bottom":return t?e?i:n:e?n:i;case"left":case"right":return e?o:l;default:return[]}}function e2(r,e,t,n){const i=lc(r);let o=JN(pl(r),t==="start",n);return i&&(o=o.map(l=>l+"-"+i),e&&(o=o.concat(o.map(sg)))),o}function Rf(r){return r.replace(/left|right|bottom|top/g,e=>qN[e])}function t2(r){return{top:0,right:0,bottom:0,left:0,...r}}function hk(r){return typeof r!="number"?t2(r):{top:r,right:r,bottom:r,left:r}}function Mf(r){const{x:e,y:t,width:n,height:i}=r;return{width:n,height:i,top:t,left:e,right:e+n,bottom:t+i,x:e,y:t}}function bE(r,e,t){let{reference:n,floating:i}=r;const o=$u(e),l=gv(e),c=mv(l),d=pl(e),p=o==="y",m=n.x+n.width/2-i.width/2,v=n.y+n.height/2-i.height/2,E=n[c]/2-i[c]/2;let S;switch(d){case"top":S={x:m,y:n.y-i.height};break;case"bottom":S={x:m,y:n.y+n.height};break;case"right":S={x:n.x+n.width,y:v};break;case"left":S={x:n.x-i.width,y:v};break;default:S={x:n.x,y:n.y}}switch(lc(e)){case"start":S[l]-=E*(t&&p?-1:1);break;case"end":S[l]+=E*(t&&p?-1:1);break}return S}const n2=async(r,e,t)=>{const{placement:n="bottom",strategy:i="absolute",middleware:o=[],platform:l}=t,c=o.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(e));let p=await l.getElementRects({reference:r,floating:e,strategy:i}),{x:m,y:v}=bE(p,n,d),E=n,S={},T=0;for(let L=0;L<c.length;L++){const{name:P,fn:V}=c[L],{x:F,y:H,data:j,reset:z}=await V({x:m,y:v,initialPlacement:n,placement:E,strategy:i,middlewareData:S,rects:p,platform:l,elements:{reference:r,floating:e}});m=F??m,v=H??v,S={...S,[P]:{...S[P],...j}},z&&T<=50&&(T++,typeof z=="object"&&(z.placement&&(E=z.placement),z.rects&&(p=z.rects===!0?await l.getElementRects({reference:r,floating:e,strategy:i}):z.rects),{x:m,y:v}=bE(p,E,d)),L=-1)}return{x:m,y:v,placement:E,strategy:i,middlewareData:S}};async function r2(r,e){var t;e===void 0&&(e={});const{x:n,y:i,platform:o,rects:l,elements:c,strategy:d}=r,{boundary:p="clippingAncestors",rootBoundary:m="viewport",elementContext:v="floating",altBoundary:E=!1,padding:S=0}=Eh(e,r),T=hk(S),P=c[E?v==="floating"?"reference":"floating":v],V=Mf(await o.getClippingRect({element:(t=await(o.isElement==null?void 0:o.isElement(P)))==null||t?P:P.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(c.floating)),boundary:p,rootBoundary:m,strategy:d})),F=v==="floating"?{x:n,y:i,width:l.floating.width,height:l.floating.height}:l.reference,H=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c.floating)),j=await(o.isElement==null?void 0:o.isElement(H))?await(o.getScale==null?void 0:o.getScale(H))||{x:1,y:1}:{x:1,y:1},z=Mf(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:F,offsetParent:H,strategy:d}):F);return{top:(V.top-z.top+T.top)/j.y,bottom:(z.bottom-V.bottom+T.bottom)/j.y,left:(V.left-z.left+T.left)/j.x,right:(z.right-V.right+T.right)/j.x}}const i2=r=>({name:"arrow",options:r,async fn(e){const{x:t,y:n,placement:i,rects:o,platform:l,elements:c,middlewareData:d}=e,{element:p,padding:m=0}=Eh(r,e)||{};if(p==null)return{};const v=hk(m),E={x:t,y:n},S=gv(i),T=mv(S),L=await l.getDimensions(p),P=S==="y",V=P?"top":"left",F=P?"bottom":"right",H=P?"clientHeight":"clientWidth",j=o.reference[T]+o.reference[S]-E[S]-o.floating[T],z=E[S]-o.reference[S],$=await(l.getOffsetParent==null?void 0:l.getOffsetParent(p));let D=$?$[H]:0;(!D||!await(l.isElement==null?void 0:l.isElement($)))&&(D=c.floating[H]||o.floating[T]);const I=j/2-z/2,k=D/2-L[T]/2-1,R=hl(v[V],k),A=hl(v[F],k),N=R,M=D-L[T]-A,fe=D/2-L[T]/2+I,me=GN(N,fe,M),ce=!d.arrow&&lc(i)!=null&&fe!==me&&o.reference[T]/2-(fe<N?R:A)-L[T]/2<0,he=ce?fe<N?fe-N:fe-M:0;return{[S]:E[S]+he,data:{[S]:me,centerOffset:fe-me-he,...ce&&{alignmentOffset:he}},reset:ce}}}),s2=function(r){return r===void 0&&(r={}),{name:"flip",options:r,async fn(e){var t,n;const{placement:i,middlewareData:o,rects:l,initialPlacement:c,platform:d,elements:p}=e,{mainAxis:m=!0,crossAxis:v=!0,fallbackPlacements:E,fallbackStrategy:S="bestFit",fallbackAxisSideDirection:T="none",flipAlignment:L=!0,...P}=Eh(r,e);if((t=o.arrow)!=null&&t.alignmentOffset)return{};const V=pl(i),F=$u(c),H=pl(c)===c,j=await(d.isRTL==null?void 0:d.isRTL(p.floating)),z=E||(H||!L?[Rf(c)]:ZN(c)),$=T!=="none";!E&&$&&z.push(...e2(c,L,T,j));const D=[c,...z],I=await r2(e,P),k=[];let R=((n=o.flip)==null?void 0:n.overflows)||[];if(m&&k.push(I[V]),v){const fe=XN(i,l,j);k.push(I[fe[0]],I[fe[1]])}if(R=[...R,{placement:i,overflows:k}],!k.every(fe=>fe<=0)){var A,N;const fe=(((A=o.flip)==null?void 0:A.index)||0)+1,me=D[fe];if(me)return{data:{index:fe,overflows:R},reset:{placement:me}};let ce=(N=R.filter(he=>he.overflows[0]<=0).sort((he,G)=>he.overflows[1]-G.overflows[1])[0])==null?void 0:N.placement;if(!ce)switch(S){case"bestFit":{var M;const he=(M=R.filter(G=>{if($){const ae=$u(G.placement);return ae===F||ae==="y"}return!0}).map(G=>[G.placement,G.overflows.filter(ae=>ae>0).reduce((ae,re)=>ae+re,0)]).sort((G,ae)=>G[1]-ae[1])[0])==null?void 0:M[0];he&&(ce=he);break}case"initialPlacement":ce=c;break}if(i!==ce)return{reset:{placement:ce}}}return{}}}};async function o2(r,e){const{placement:t,platform:n,elements:i}=r,o=await(n.isRTL==null?void 0:n.isRTL(i.floating)),l=pl(t),c=lc(t),d=$u(t)==="y",p=["left","top"].includes(l)?-1:1,m=o&&d?-1:1,v=Eh(e,r);let{mainAxis:E,crossAxis:S,alignmentAxis:T}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return c&&typeof T=="number"&&(S=c==="end"?T*-1:T),d?{x:S*m,y:E*p}:{x:E*p,y:S*m}}const a2=function(r){return{name:"offset",options:r,async fn(e){var t,n;const{x:i,y:o,placement:l,middlewareData:c}=e,d=await o2(e,r);return l===((t=c.offset)==null?void 0:t.placement)&&(n=c.arrow)!=null&&n.alignmentOffset?{}:{x:i+d.x,y:o+d.y,data:{...d,placement:l}}}}};function pk(r){const e=pr(r);let t=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=yi(r),o=i?r.offsetWidth:t,l=i?r.offsetHeight:n,c=Lf(t)!==o||Lf(n)!==l;return c&&(t=o,n=l),{width:t,height:n,$:c}}function vv(r){return Tn(r)?r:r.contextElement}function Xa(r){const e=vv(r);if(!yi(e))return mi(1);const t=e.getBoundingClientRect(),{width:n,height:i,$:o}=pk(e);let l=(o?Lf(t.width):t.width)/n,c=(o?Lf(t.height):t.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const l2=mi(0);function mk(r){const e=Gn(r);return!pv()||!e.visualViewport?l2:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function u2(r,e,t){return e===void 0&&(e=!1),!t||e&&t!==Gn(r)?!1:e}function Go(r,e,t,n){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=r.getBoundingClientRect(),o=vv(r);let l=mi(1);e&&(n?Tn(n)&&(l=Xa(n)):l=Xa(r));const c=u2(o,t,n)?mk(o):mi(0);let d=(i.left+c.x)/l.x,p=(i.top+c.y)/l.y,m=i.width/l.x,v=i.height/l.y;if(o){const E=Gn(o),S=n&&Tn(n)?Gn(n):n;let T=E,L=ig(T);for(;L&&n&&S!==T;){const P=Xa(L),V=L.getBoundingClientRect(),F=pr(L),H=V.left+(L.clientLeft+parseFloat(F.paddingLeft))*P.x,j=V.top+(L.clientTop+parseFloat(F.paddingTop))*P.y;d*=P.x,p*=P.y,m*=P.x,v*=P.y,d+=H,p+=j,T=Gn(L),L=ig(T)}}return Mf({width:m,height:v,x:d,y:p})}function yv(r,e){const t=wh(r).scrollLeft;return e?e.left+t:Go(_i(r)).left+t}function gk(r,e,t){t===void 0&&(t=!1);const n=r.getBoundingClientRect(),i=n.left+e.scrollLeft-(t?0:yv(r,n)),o=n.top+e.scrollTop;return{x:i,y:o}}function c2(r){let{elements:e,rect:t,offsetParent:n,strategy:i}=r;const o=i==="fixed",l=_i(n),c=e?_h(e.floating):!1;if(n===l||c&&o)return t;let d={scrollLeft:0,scrollTop:0},p=mi(1);const m=mi(0),v=yi(n);if((v||!v&&!o)&&((Il(n)!=="body"||ac(l))&&(d=wh(n)),yi(n))){const S=Go(n);p=Xa(n),m.x=S.x+n.clientLeft,m.y=S.y+n.clientTop}const E=l&&!v&&!o?gk(l,d,!0):mi(0);return{width:t.width*p.x,height:t.height*p.y,x:t.x*p.x-d.scrollLeft*p.x+m.x+E.x,y:t.y*p.y-d.scrollTop*p.y+m.y+E.y}}function d2(r){return Array.from(r.getClientRects())}function f2(r){const e=_i(r),t=wh(r),n=r.ownerDocument.body,i=Wo(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),o=Wo(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let l=-t.scrollLeft+yv(r);const c=-t.scrollTop;return pr(n).direction==="rtl"&&(l+=Wo(e.clientWidth,n.clientWidth)-i),{width:i,height:o,x:l,y:c}}function h2(r,e){const t=Gn(r),n=_i(r),i=t.visualViewport;let o=n.clientWidth,l=n.clientHeight,c=0,d=0;if(i){o=i.width,l=i.height;const p=pv();(!p||p&&e==="fixed")&&(c=i.offsetLeft,d=i.offsetTop)}return{width:o,height:l,x:c,y:d}}function p2(r,e){const t=Go(r,!0,e==="fixed"),n=t.top+r.clientTop,i=t.left+r.clientLeft,o=yi(r)?Xa(r):mi(1),l=r.clientWidth*o.x,c=r.clientHeight*o.y,d=i*o.x,p=n*o.y;return{width:l,height:c,x:d,y:p}}function IE(r,e,t){let n;if(e==="viewport")n=h2(r,t);else if(e==="document")n=f2(_i(r));else if(Tn(e))n=p2(e,t);else{const i=mk(r);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Mf(n)}function vk(r,e){const t=no(r);return t===e||!Tn(t)||fl(t)?!1:pr(t).position==="fixed"||vk(t,e)}function m2(r,e){const t=e.get(r);if(t)return t;let n=Hu(r,[],!1).filter(c=>Tn(c)&&Il(c)!=="body"),i=null;const o=pr(r).position==="fixed";let l=o?no(r):r;for(;Tn(l)&&!fl(l);){const c=pr(l),d=hv(l);!d&&c.position==="fixed"&&(i=null),(o?!d&&!i:!d&&c.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||ac(l)&&!d&&vk(r,l))?n=n.filter(m=>m!==l):i=c,l=no(l)}return e.set(r,n),n}function g2(r){let{element:e,boundary:t,rootBoundary:n,strategy:i}=r;const l=[...t==="clippingAncestors"?_h(e)?[]:m2(e,this._c):[].concat(t),n],c=l[0],d=l.reduce((p,m)=>{const v=IE(e,m,i);return p.top=Wo(v.top,p.top),p.right=hl(v.right,p.right),p.bottom=hl(v.bottom,p.bottom),p.left=Wo(v.left,p.left),p},IE(e,c,i));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function v2(r){const{width:e,height:t}=pk(r);return{width:e,height:t}}function y2(r,e,t){const n=yi(e),i=_i(e),o=t==="fixed",l=Go(r,!0,o,e);let c={scrollLeft:0,scrollTop:0};const d=mi(0);if(n||!n&&!o)if((Il(e)!=="body"||ac(i))&&(c=wh(e)),n){const E=Go(e,!0,o,e);d.x=E.x+e.clientLeft,d.y=E.y+e.clientTop}else i&&(d.x=yv(i));const p=i&&!n&&!o?gk(i,c):mi(0),m=l.left+c.scrollLeft-d.x-p.x,v=l.top+c.scrollTop-d.y-p.y;return{x:m,y:v,width:l.width,height:l.height}}function mm(r){return pr(r).position==="static"}function PE(r,e){if(!yi(r)||pr(r).position==="fixed")return null;if(e)return e(r);let t=r.offsetParent;return _i(r)===t&&(t=t.ownerDocument.body),t}function yk(r,e){const t=Gn(r);if(_h(r))return t;if(!yi(r)){let i=no(r);for(;i&&!fl(i);){if(Tn(i)&&!mm(i))return i;i=no(i)}return t}let n=PE(r,e);for(;n&&$N(n)&&mm(n);)n=PE(n,e);return n&&fl(n)&&mm(n)&&!hv(n)?t:n||YN(r)||t}const _2=async function(r){const e=this.getOffsetParent||yk,t=this.getDimensions,n=await t(r.floating);return{reference:y2(r.reference,await e(r.floating),r.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function w2(r){return pr(r).direction==="rtl"}const E2={convertOffsetParentRelativeRectToViewportRelativeRect:c2,getDocumentElement:_i,getClippingRect:g2,getOffsetParent:yk,getElementRects:_2,getClientRects:d2,getDimensions:v2,getScale:Xa,isElement:Tn,isRTL:w2};function _k(r,e){return r.x===e.x&&r.y===e.y&&r.width===e.width&&r.height===e.height}function C2(r,e){let t=null,n;const i=_i(r);function o(){var c;clearTimeout(n),(c=t)==null||c.disconnect(),t=null}function l(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),o();const p=r.getBoundingClientRect(),{left:m,top:v,width:E,height:S}=p;if(c||e(),!E||!S)return;const T=Md(v),L=Md(i.clientWidth-(m+E)),P=Md(i.clientHeight-(v+S)),V=Md(m),H={rootMargin:-T+"px "+-L+"px "+-P+"px "+-V+"px",threshold:Wo(0,hl(1,d))||1};let j=!0;function z($){const D=$[0].intersectionRatio;if(D!==d){if(!j)return l();D?l(!1,D):n=setTimeout(()=>{l(!1,1e-7)},1e3)}D===1&&!_k(p,r.getBoundingClientRect())&&l(),j=!1}try{t=new IntersectionObserver(z,{...H,root:i.ownerDocument})}catch{t=new IntersectionObserver(z,H)}t.observe(r)}return l(!0),o}function S2(r,e,t,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=n,p=vv(r),m=i||o?[...p?Hu(p):[],...Hu(e)]:[];m.forEach(V=>{i&&V.addEventListener("scroll",t,{passive:!0}),o&&V.addEventListener("resize",t)});const v=p&&c?C2(p,t):null;let E=-1,S=null;l&&(S=new ResizeObserver(V=>{let[F]=V;F&&F.target===p&&S&&(S.unobserve(e),cancelAnimationFrame(E),E=requestAnimationFrame(()=>{var H;(H=S)==null||H.observe(e)})),t()}),p&&!d&&S.observe(p),S.observe(e));let T,L=d?Go(r):null;d&&P();function P(){const V=Go(r);L&&!_k(L,V)&&t(),L=V,T=requestAnimationFrame(P)}return t(),()=>{var V;m.forEach(F=>{i&&F.removeEventListener("scroll",t),o&&F.removeEventListener("resize",t)}),v==null||v(),(V=S)==null||V.disconnect(),S=null,d&&cancelAnimationFrame(T)}}const T2=a2,k2=s2,DE=i2,b2=(r,e,t)=>{const n=new Map,i={platform:E2,...t},o={...i.platform,_c:n};return n2(r,e,{...i,platform:o})};var ef=typeof document<"u"?y.useLayoutEffect:y.useEffect;function Af(r,e){if(r===e)return!0;if(typeof r!=typeof e)return!1;if(typeof r=="function"&&r.toString()===e.toString())return!0;let t,n,i;if(r&&e&&typeof r=="object"){if(Array.isArray(r)){if(t=r.length,t!==e.length)return!1;for(n=t;n--!==0;)if(!Af(r[n],e[n]))return!1;return!0}if(i=Object.keys(r),t=i.length,t!==Object.keys(e).length)return!1;for(n=t;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=t;n--!==0;){const o=i[n];if(!(o==="_owner"&&r.$$typeof)&&!Af(r[o],e[o]))return!1}return!0}return r!==r&&e!==e}function wk(r){return typeof window>"u"?1:(r.ownerDocument.defaultView||window).devicePixelRatio||1}function xE(r,e){const t=wk(r);return Math.round(e*t)/t}function gm(r){const e=y.useRef(r);return ef(()=>{e.current=r}),e}function I2(r){r===void 0&&(r={});const{placement:e="bottom",strategy:t="absolute",middleware:n=[],platform:i,elements:{reference:o,floating:l}={},transform:c=!0,whileElementsMounted:d,open:p}=r,[m,v]=y.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[E,S]=y.useState(n);Af(E,n)||S(n);const[T,L]=y.useState(null),[P,V]=y.useState(null),F=y.useCallback(G=>{G!==$.current&&($.current=G,L(G))},[]),H=y.useCallback(G=>{G!==D.current&&(D.current=G,V(G))},[]),j=o||T,z=l||P,$=y.useRef(null),D=y.useRef(null),I=y.useRef(m),k=d!=null,R=gm(d),A=gm(i),N=gm(p),M=y.useCallback(()=>{if(!$.current||!D.current)return;const G={placement:e,strategy:t,middleware:E};A.current&&(G.platform=A.current),b2($.current,D.current,G).then(ae=>{const re={...ae,isPositioned:N.current!==!1};fe.current&&!Af(I.current,re)&&(I.current=re,ro.flushSync(()=>{v(re)}))})},[E,e,t,A,N]);ef(()=>{p===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,v(G=>({...G,isPositioned:!1})))},[p]);const fe=y.useRef(!1);ef(()=>(fe.current=!0,()=>{fe.current=!1}),[]),ef(()=>{if(j&&($.current=j),z&&(D.current=z),j&&z){if(R.current)return R.current(j,z,M);M()}},[j,z,M,R,k]);const me=y.useMemo(()=>({reference:$,floating:D,setReference:F,setFloating:H}),[F,H]),ce=y.useMemo(()=>({reference:j,floating:z}),[j,z]),he=y.useMemo(()=>{const G={position:t,left:0,top:0};if(!ce.floating)return G;const ae=xE(ce.floating,m.x),re=xE(ce.floating,m.y);return c?{...G,transform:"translate("+ae+"px, "+re+"px)",...wk(ce.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:ae,top:re}},[t,c,ce.floating,m.x,m.y]);return y.useMemo(()=>({...m,update:M,refs:me,elements:ce,floatingStyles:he}),[m,M,me,ce,he])}const P2=r=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:r,fn(t){const{element:n,padding:i}=typeof r=="function"?r(t):r;return n&&e(n)?n.current!=null?DE({element:n.current,padding:i}).fn(t):{}:n?DE({element:n,padding:i}).fn(t):{}}}},D2=(r,e)=>({...T2(r),options:[r,e]}),x2=(r,e)=>({...k2(r),options:[r,e]}),L2=(r,e)=>({...P2(r),options:[r,e]}),Ek={...gS},R2=Ek.useInsertionEffect,M2=R2||(r=>r());function A2(r){const e=y.useRef(()=>{});return M2(()=>{e.current=r}),y.useCallback(function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.current==null?void 0:e.current(...n)},[])}var Of=typeof document<"u"?y.useLayoutEffect:y.useEffect;let LE=!1,O2=0;const RE=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+O2++;function N2(){const[r,e]=y.useState(()=>LE?RE():void 0);return Of(()=>{r==null&&e(RE())},[]),y.useEffect(()=>{LE=!0},[]),r}const V2=Ek.useId,Ck=V2||N2,F2=y.forwardRef(function(e,t){const{context:{placement:n,elements:{floating:i},middlewareData:{arrow:o,shift:l}},width:c=14,height:d=7,tipRadius:p=0,strokeWidth:m=0,staticOffset:v,stroke:E,d:S,style:{transform:T,...L}={},...P}=e,V=Ck(),[F,H]=y.useState(!1);if(Of(()=>{if(!i)return;pr(i).direction==="rtl"&&H(!0)},[i]),!i)return null;const[j,z]=n.split("-"),$=j==="top"||j==="bottom";let D=v;($&&l!=null&&l.x||!$&&l!=null&&l.y)&&(D=null);const I=m*2,k=I/2,R=c/2*(p/-8+1),A=d/2*p/4,N=!!S,M=D&&z==="end"?"bottom":"top";let fe=D&&z==="end"?"right":"left";D&&F&&(fe=z==="end"?"left":"right");const me=(o==null?void 0:o.x)!=null?D||o.x:"",ce=(o==null?void 0:o.y)!=null?D||o.y:"",he=S||"M0,0"+(" H"+c)+(" L"+(c-R)+","+(d-A))+(" Q"+c/2+","+d+" "+R+","+(d-A))+" Z",G={top:N?"rotate(180deg)":"",left:N?"rotate(90deg)":"rotate(-90deg)",bottom:N?"":"rotate(180deg)",right:N?"rotate(-90deg)":"rotate(90deg)"}[j];return Q.jsxs("svg",{...P,"aria-hidden":!0,ref:t,width:N?c:c+I,height:c,viewBox:"0 0 "+c+" "+(d>c?d:c),style:{position:"absolute",pointerEvents:"none",[fe]:me,[M]:ce,[j]:$||N?"100%":"calc(100% - "+I/2+"px)",transform:[G,T].filter(ae=>!!ae).join(" "),...L},children:[I>0&&Q.jsx("path",{clipPath:"url(#"+V+")",fill:"none",stroke:E,strokeWidth:I+(S?0:1),d:he}),Q.jsx("path",{stroke:I&&!S?P.fill:"none",d:he}),Q.jsx("clipPath",{id:V,children:Q.jsx("rect",{x:-k,y:k*(N?-1:1),width:c+I,height:c})})]})});function U2(){const r=new Map;return{emit(e,t){var n;(n=r.get(e))==null||n.forEach(i=>i(t))},on(e,t){r.set(e,[...r.get(e)||[],t])},off(e,t){var n;r.set(e,((n=r.get(e))==null?void 0:n.filter(i=>i!==t))||[])}}}const j2=y.createContext(null),B2=y.createContext(null),z2=()=>{var r;return((r=y.useContext(j2))==null?void 0:r.id)||null},W2=()=>y.useContext(B2);function H2(r){const{open:e=!1,onOpenChange:t,elements:n}=r,i=Ck(),o=y.useRef({}),[l]=y.useState(()=>U2()),c=z2()!=null,[d,p]=y.useState(n.reference),m=A2((S,T,L)=>{o.current.openEvent=S?T:void 0,l.emit("openchange",{open:S,event:T,reason:L,nested:c}),t==null||t(S,T,L)}),v=y.useMemo(()=>({setPositionReference:p}),[]),E=y.useMemo(()=>({reference:d||n.reference||null,floating:n.floating||null,domReference:n.reference}),[d,n.reference,n.floating]);return y.useMemo(()=>({dataRef:o,open:e,onOpenChange:m,elements:E,events:l,floatingId:i,refs:v}),[e,m,E,l,i,v])}function $2(r){r===void 0&&(r={});const{nodeId:e}=r,t=H2({...r,elements:{reference:null,floating:null,...r.elements}}),n=r.rootContext||t,i=n.elements,[o,l]=y.useState(null),[c,d]=y.useState(null),m=(i==null?void 0:i.domReference)||o,v=y.useRef(null),E=W2();Of(()=>{m&&(v.current=m)},[m]);const S=I2({...r,elements:{...i,...c&&{reference:c}}}),T=y.useCallback(H=>{const j=Tn(H)?{getBoundingClientRect:()=>H.getBoundingClientRect(),contextElement:H}:H;d(j),S.refs.setReference(j)},[S.refs]),L=y.useCallback(H=>{(Tn(H)||H===null)&&(v.current=H,l(H)),(Tn(S.refs.reference.current)||S.refs.reference.current===null||H!==null&&!Tn(H))&&S.refs.setReference(H)},[S.refs]),P=y.useMemo(()=>({...S.refs,setReference:L,setPositionReference:T,domReference:v}),[S.refs,L,T]),V=y.useMemo(()=>({...S.elements,domReference:m}),[S.elements,m]),F=y.useMemo(()=>({...S,...n,refs:P,elements:V,nodeId:e}),[S,P,V,e,n]);return Of(()=>{n.dataRef.current.floatingContext=F;const H=E==null?void 0:E.nodesRef.current.find(j=>j.id===e);H&&(H.context=F)}),y.useMemo(()=>({...S,context:F,refs:P,elements:V}),[S,P,V,F])}/*!
  react-datepicker v8.0.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var og=function(e,t){return og=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},og(e,t)};function Jt(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");og(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var rt=function(){return rt=Object.assign||function(t){for(var n,i=1,o=arguments.length;i<o;i++){n=arguments[i];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(t[l]=n[l])}return t},rt.apply(this,arguments)};function di(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))}var Y2=function(r){var e=r.showTimeSelectOnly,t=e===void 0?!1:e,n=r.showTime,i=n===void 0?!1:n,o=r.className,l=r.children,c=t?"Choose Time":"Choose Date".concat(i?" and Time":"");return ne.createElement("div",{className:o,role:"dialog","aria-label":c,"aria-modal":"true"},l)},q2=function(r,e){var t=y.useRef(null),n=y.useRef(r);n.current=r;var i=y.useCallback(function(o){var l,c=o.composed&&o.composedPath&&o.composedPath().find(function(d){return d instanceof Node})||o.target;t.current&&!t.current.contains(c)&&(e&&c instanceof HTMLElement&&c.classList.contains(e)||(l=n.current)===null||l===void 0||l.call(n,o))},[e]);return y.useEffect(function(){return document.addEventListener("mousedown",i),function(){document.removeEventListener("mousedown",i)}},[i]),t},Ch=function(r){var e=r.children,t=r.onClickOutside,n=r.className,i=r.containerRef,o=r.style,l=r.ignoreClass,c=q2(t,l);return ne.createElement("div",{className:n,style:o,ref:function(d){c.current=d,i&&(i.current=d)}},e)},ve;(function(r){r.ArrowUp="ArrowUp",r.ArrowDown="ArrowDown",r.ArrowLeft="ArrowLeft",r.ArrowRight="ArrowRight",r.PageUp="PageUp",r.PageDown="PageDown",r.Home="Home",r.End="End",r.Enter="Enter",r.Space=" ",r.Tab="Tab",r.Escape="Escape",r.Backspace="Backspace",r.X="x"})(ve||(ve={}));function Sk(){var r=typeof window<"u"?window:globalThis;return r}var uc=12;function at(r){if(r==null)return new Date;var e=typeof r=="string"?DN(r):De(r);return Sh(e)?e:new Date}function vm(r,e,t,n,i){i===void 0&&(i=at());for(var o=ml(t)||ml(_v()),l=Array.isArray(e)?e:[e],c=0,d=l;c<d.length;c++){var p=d[c],m=SN(r,p,i,{locale:o});if(Sh(m)&&(!n||r===Ct(m,p,t)))return m}return null}function Sh(r,e){return bf(r)&&!Ko(r,new Date("1/1/1800"))}function Ct(r,e,t){if(t==="en")return CE(r,e,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var n=t?ml(t):void 0;return t&&!n&&console.warn('A locale object was not found for the provided string ["'.concat(t,'"].')),n=n||ml(_v()),CE(r,e,{locale:n,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function cr(r,e){var t=e.dateFormat,n=e.locale,i=Array.isArray(t)&&t.length>0?t[0]:t;return r&&Ct(r,i,n)||""}function K2(r,e,t){if(!r)return"";var n=cr(r,t),i=e?cr(e,t):"";return"".concat(n," - ").concat(i)}function G2(r,e){if(!(r!=null&&r.length))return"";var t=r[0]?cr(r[0],e):"";if(r.length===1)return t;if(r.length===2&&r[1]){var n=cr(r[1],e);return"".concat(t,", ").concat(n)}var i=r.length-1;return"".concat(t," (+").concat(i,")")}function ym(r,e){var t=e.hour,n=t===void 0?0:t,i=e.minute,o=i===void 0?0:i,l=e.second,c=l===void 0?0:l;return Xd(Zd(Jd(r,c),o),n)}function Q2(r){return uv(r)}function X2(r,e){return Ct(r,"ddd",e)}function tf(r){return qo(r)}function Ks(r,e,t){var n=ml(e||_v());return Qi(r,{locale:n,weekStartsOn:t})}function Hi(r){return ek(r)}function Tu(r){return vh(r)}function ME(r){return tg(r)}function AE(){return qo(at())}function OE(r){return Z0(r)}function Z2(r){return DA(r)}function J2(r){return J0(r)}function ai(r,e){return r&&e?IN(r,e):!r&&!e}function Cn(r,e){return r&&e?kN(r,e):!r&&!e}function Nf(r,e){return r&&e?bN(r,e):!r&&!e}function nt(r,e){return r&&e?IA(r,e):!r&&!e}function jo(r,e){return r&&e?PO(r,e):!r&&!e}function ku(r,e,t){var n,i=qo(e),o=Z0(t);try{n=Wu(r,{start:i,end:o})}catch{n=!1}return n}function _v(){var r=Sk();return r.__localeId__}function ml(r){if(typeof r=="string"){var e=Sk();return e.__localeData__?e.__localeData__[r]:void 0}else return r}function eV(r,e,t){return e(Ct(r,"EEEE",t))}function tV(r,e){return Ct(r,"EEEEEE",e)}function nV(r,e){return Ct(r,"EEE",e)}function wv(r,e){return Ct(dr(at(),r),"LLLL",e)}function Tk(r,e){return Ct(dr(at(),r),"LLL",e)}function rV(r,e){return Ct(Wa(at(),r),"QQQ",e)}function fr(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,o=t.excludeDates,l=t.excludeDateIntervals,c=t.includeDates,d=t.includeDateIntervals,p=t.filterDate;return cc(r,{minDate:n,maxDate:i})||o&&o.some(function(m){return m instanceof Date?nt(r,m):nt(r,m.date)})||l&&l.some(function(m){var v=m.start,E=m.end;return Wu(r,{start:v,end:E})})||c&&!c.some(function(m){return nt(r,m)})||d&&!d.some(function(m){var v=m.start,E=m.end;return Wu(r,{start:v,end:E})})||p&&!p(at(r))||!1}function Ev(r,e){var t=e===void 0?{}:e,n=t.excludeDates,i=t.excludeDateIntervals;return i&&i.length>0?i.some(function(o){var l=o.start,c=o.end;return Wu(r,{start:l,end:c})}):n&&n.some(function(o){var l;return o instanceof Date?nt(r,o):nt(r,(l=o.date)!==null&&l!==void 0?l:new Date)})||!1}function kk(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,o=t.excludeDates,l=t.includeDates,c=t.filterDate;return cc(r,{minDate:n?ek(n):void 0,maxDate:i?J0(i):void 0})||(o==null?void 0:o.some(function(d){return Cn(r,d instanceof Date?d:d.date)}))||l&&!l.some(function(d){return Cn(r,d)})||c&&!c(at(r))||!1}function Ad(r,e,t,n){var i=$e(r),o=Sn(r),l=$e(e),c=Sn(e),d=$e(n);return i===l&&i===d?o<=t&&t<=c:i<l?d===i&&o<=t||d===l&&c>=t||d<l&&d>i:!1}function iV(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,o=t.excludeDates,l=t.includeDates;return cc(r,{minDate:n,maxDate:i})||o&&o.some(function(c){return Cn(c instanceof Date?c:c.date,r)})||l&&!l.some(function(c){return Cn(c,r)})||!1}function Od(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,o=t.excludeDates,l=t.includeDates,c=t.filterDate;return cc(r,{minDate:n,maxDate:i})||(o==null?void 0:o.some(function(d){return Nf(r,d instanceof Date?d:d.date)}))||l&&!l.some(function(d){return Nf(r,d)})||c&&!c(at(r))||!1}function Nd(r,e,t){if(!e||!t||!bf(e)||!bf(t))return!1;var n=$e(e),i=$e(t);return n<=r&&i>=r}function nf(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,o=t.excludeDates,l=t.includeDates,c=t.filterDate,d=new Date(r,0,1);return cc(d,{minDate:n?vh(n):void 0,maxDate:i?tk(i):void 0})||(o==null?void 0:o.some(function(p){return ai(d,p instanceof Date?p:p.date)}))||l&&!l.some(function(p){return ai(d,p)})||c&&!c(at(d))||!1}function Vd(r,e,t,n){var i=$e(r),o=Bo(r),l=$e(e),c=Bo(e),d=$e(n);return i===l&&i===d?o<=t&&t<=c:i<l?d===i&&o<=t||d===l&&c>=t||d<l&&d>i:!1}function cc(r,e){var t,n=e===void 0?{}:e,i=n.minDate,o=n.maxDate;return(t=i&&cl(r,i)<0||o&&cl(r,o)>0)!==null&&t!==void 0?t:!1}function NE(r,e){return e.some(function(t){return zi(t)===zi(r)&&Wi(t)===Wi(r)&&qs(t)===qs(r)})}function VE(r,e){var t=e===void 0?{}:e,n=t.excludeTimes,i=t.includeTimes,o=t.filterTime;return n&&NE(r,n)||i&&!NE(r,i)||o&&!o(r)||!1}function FE(r,e){var t=e.minTime,n=e.maxTime;if(!t||!n)throw new Error("Both minTime and maxTime props required");var i=at();i=Xd(i,zi(r)),i=Zd(i,Wi(r)),i=Jd(i,qs(r));var o=at();o=Xd(o,zi(t)),o=Zd(o,Wi(t)),o=Jd(o,qs(t));var l=at();l=Xd(l,zi(n)),l=Zd(l,Wi(n)),l=Jd(l,qs(n));var c;try{c=!Wu(i,{start:o,end:l})}catch{c=!1}return c}function UE(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.includeDates,o=zo(r,1);return n&&If(n,o)>0||i&&i.every(function(l){return If(l,o)>0})||!1}function jE(r,e){var t=e===void 0?{}:e,n=t.maxDate,i=t.includeDates,o=Ur(r,1);return n&&If(o,n)>0||i&&i.every(function(l){return If(o,l)>0})||!1}function sV(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.includeDates,o=vh(r),l=ck(o);return n&&Pf(n,l)>0||i&&i.every(function(c){return Pf(c,l)>0})||!1}function oV(r,e){var t=e===void 0?{}:e,n=t.maxDate,i=t.includeDates,o=tk(r),l=lv(o,1);return n&&Pf(l,n)>0||i&&i.every(function(c){return Pf(l,c)>0})||!1}function BE(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.includeDates,o=dl(r,1);return n&&Df(n,o)>0||i&&i.every(function(l){return Df(l,o)>0})||!1}function aV(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.yearItemNumber,o=i===void 0?uc:i,l=Tu(dl(r,o)),c=Fs(l,o).endPeriod,d=n&&$e(n);return d&&d>c||!1}function zE(r,e){var t=e===void 0?{}:e,n=t.maxDate,i=t.includeDates,o=ji(r,1);return n&&Df(o,n)>0||i&&i.every(function(l){return Df(o,l)>0})||!1}function lV(r,e){var t=e===void 0?{}:e,n=t.maxDate,i=t.yearItemNumber,o=i===void 0?uc:i,l=ji(r,o),c=Fs(l,o).startPeriod,d=n&&$e(n);return d&&d<c||!1}function bk(r){var e=r.minDate,t=r.includeDates;if(t&&e){var n=t.filter(function(i){return cl(i,e)>=0});return gE(n)}else return t?gE(t):e}function Ik(r){var e=r.maxDate,t=r.includeDates;if(t&&e){var n=t.filter(function(i){return cl(i,e)<=0});return mE(n)}else return t?mE(t):e}function WE(r,e){var t;r===void 0&&(r=[]),e===void 0&&(e="react-datepicker__day--highlighted");for(var n=new Map,i=0,o=r.length;i<o;i++){var l=r[i];if(Bi(l)){var c=Ct(l,"MM.dd.yyyy"),d=n.get(c)||[];d.includes(e)||(d.push(e),n.set(c,d))}else if(typeof l=="object"){var p=Object.keys(l),m=(t=p[0])!==null&&t!==void 0?t:"",v=l[m];if(typeof m=="string"&&Array.isArray(v))for(var E=0,S=v.length;E<S;E++){var T=v[E];if(T){var c=Ct(T,"MM.dd.yyyy"),d=n.get(c)||[];d.includes(m)||(d.push(m),n.set(c,d))}}}}return n}function uV(r,e){return r.length!==e.length?!1:r.every(function(t,n){return t===e[n]})}function cV(r,e){r===void 0&&(r=[]),e===void 0&&(e="react-datepicker__day--holidays");var t=new Map;return r.forEach(function(n){var i=n.date,o=n.holidayName;if(Bi(i)){var l=Ct(i,"MM.dd.yyyy"),c=t.get(l)||{className:"",holidayNames:[]};if(!("className"in c&&c.className===e&&uV(c.holidayNames,[o]))){c.className=e;var d=c.holidayNames;c.holidayNames=d?di(di([],d,!0),[o],!1):[o],t.set(l,c)}}}),t}function dV(r,e,t,n,i){for(var o=i.length,l=[],c=0;c<o;c++){var d=r,p=i[c];p&&(d=SA(d,zi(p)),d=eg(d,Wi(p)),d=bA(d,qs(p)));var m=eg(r,(t+1)*n);to(d,e)&&Ko(d,m)&&p!=null&&l.push(p)}return l}function HE(r){return r<10?"0".concat(r):"".concat(r)}function Fs(r,e){e===void 0&&(e=uc);var t=Math.ceil($e(r)/e)*e,n=t-(e-1);return{startPeriod:n,endPeriod:t}}function fV(r){var e=new Date(r.getFullYear(),r.getMonth(),r.getDate()),t=new Date(r.getFullYear(),r.getMonth(),r.getDate(),24);return Math.round((+t-+e)/36e5)}function $E(r){var e=r.getSeconds(),t=r.getMilliseconds();return De(r.getTime()-e*1e3-t)}function hV(r,e){return $E(r).getTime()===$E(e).getTime()}function YE(r){if(!Bi(r))throw new Error("Invalid date");var e=new Date(r);return e.setHours(0,0,0,0),e}function qE(r,e){if(!Bi(r)||!Bi(e))throw new Error("Invalid date received");var t=YE(r),n=YE(e);return Ko(t,n)}function Pk(r){return r.key===ve.Space}var pV=function(r){Jt(e,r);function e(t){var n=r.call(this,t)||this;return n.inputRef=ne.createRef(),n.onTimeChange=function(i){var o,l;n.setState({time:i});var c=n.props.date,d=c instanceof Date&&!isNaN(+c),p=d?c:new Date;if(i!=null&&i.includes(":")){var m=i.split(":"),v=m[0],E=m[1];p.setHours(Number(v)),p.setMinutes(Number(E))}(l=(o=n.props).onChange)===null||l===void 0||l.call(o,p)},n.renderTimeInput=function(){var i=n.state.time,o=n.props,l=o.date,c=o.timeString,d=o.customTimeInput;return d?y.cloneElement(d,{date:l,value:i,onChange:n.onTimeChange}):ne.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:n.inputRef,onClick:function(){var p;(p=n.inputRef.current)===null||p===void 0||p.focus()},required:!0,value:i,onChange:function(p){n.onTimeChange(p.target.value||c)}})},n.state={time:n.props.timeString},n}return e.getDerivedStateFromProps=function(t,n){return t.timeString!==n.time?{time:t.timeString}:null},e.prototype.render=function(){return ne.createElement("div",{className:"react-datepicker__input-time-container"},ne.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),ne.createElement("div",{className:"react-datepicker-time__input-container"},ne.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},e}(y.Component),mV=function(r){Jt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.dayEl=y.createRef(),t.handleClick=function(n){!t.isDisabled()&&t.props.onClick&&t.props.onClick(n)},t.handleMouseEnter=function(n){!t.isDisabled()&&t.props.onMouseEnter&&t.props.onMouseEnter(n)},t.handleOnKeyDown=function(n){var i,o,l=n.key;l===ve.Space&&(n.preventDefault(),n.key=ve.Enter),(o=(i=t.props).handleOnKeyDown)===null||o===void 0||o.call(i,n)},t.isSameDay=function(n){return nt(t.props.day,n)},t.isKeyboardSelected=function(){var n;if(t.props.disabledKeyboardNavigation)return!1;var i=t.props.selectsMultiple?(n=t.props.selectedDates)===null||n===void 0?void 0:n.some(function(l){return t.isSameDayOrWeek(l)}):t.isSameDayOrWeek(t.props.selected),o=t.props.preSelection&&t.isDisabled(t.props.preSelection);return!i&&t.isSameDayOrWeek(t.props.preSelection)&&!o},t.isDisabled=function(n){return n===void 0&&(n=t.props.day),fr(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(){return Ev(t.props.day,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.isStartOfWeek=function(){return nt(t.props.day,Ks(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameWeek=function(n){return t.props.showWeekPicker&&nt(n,Ks(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameDayOrWeek=function(n){return t.isSameDay(n)||t.isSameWeek(n)},t.getHighLightedClass=function(){var n=t.props,i=n.day,o=n.highlightDates;if(!o)return!1;var l=Ct(i,"MM.dd.yyyy");return o.get(l)},t.getHolidaysClass=function(){var n,i=t.props,o=i.day,l=i.holidays;if(!l)return[void 0];var c=Ct(o,"MM.dd.yyyy");return l.has(c)?[(n=l.get(c))===null||n===void 0?void 0:n.className]:[void 0]},t.isInRange=function(){var n=t.props,i=n.day,o=n.startDate,l=n.endDate;return!o||!l?!1:ku(i,o,l)},t.isInSelectingRange=function(){var n,i=t.props,o=i.day,l=i.selectsStart,c=i.selectsEnd,d=i.selectsRange,p=i.selectsDisabledDaysInRange,m=i.startDate,v=i.endDate,E=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return!(l||c||d)||!E||!p&&t.isDisabled()?!1:l&&v&&(Ko(E,v)||jo(E,v))?ku(o,E,v):c&&m&&(to(E,m)||jo(E,m))||d&&m&&!v&&(to(E,m)||jo(E,m))?ku(o,m,E):!1},t.isSelectingRangeStart=function(){var n;if(!t.isInSelectingRange())return!1;var i=t.props,o=i.day,l=i.startDate,c=i.selectsStart,d=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return c?nt(o,d):nt(o,l)},t.isSelectingRangeEnd=function(){var n;if(!t.isInSelectingRange())return!1;var i=t.props,o=i.day,l=i.endDate,c=i.selectsEnd,d=i.selectsRange,p=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return c||d?nt(o,p):nt(o,l)},t.isRangeStart=function(){var n=t.props,i=n.day,o=n.startDate,l=n.endDate;return!o||!l?!1:nt(o,i)},t.isRangeEnd=function(){var n=t.props,i=n.day,o=n.startDate,l=n.endDate;return!o||!l?!1:nt(l,i)},t.isWeekend=function(){var n=TO(t.props.day);return n===0||n===6},t.isAfterMonth=function(){return t.props.month!==void 0&&(t.props.month+1)%12===Sn(t.props.day)},t.isBeforeMonth=function(){return t.props.month!==void 0&&(Sn(t.props.day)+1)%12===t.props.month},t.isCurrentDay=function(){return t.isSameDay(at())},t.isSelected=function(){var n;return t.props.selectsMultiple?(n=t.props.selectedDates)===null||n===void 0?void 0:n.some(function(i){return t.isSameDayOrWeek(i)}):t.isSameDayOrWeek(t.props.selected)},t.getClassNames=function(n){var i=t.props.dayClassName?t.props.dayClassName(n):void 0;return an("react-datepicker__day",i,"react-datepicker__day--"+X2(t.props.day),{"react-datepicker__day--disabled":t.isDisabled(),"react-datepicker__day--excluded":t.isExcluded(),"react-datepicker__day--selected":t.isSelected(),"react-datepicker__day--keyboard-selected":t.isKeyboardSelected(),"react-datepicker__day--range-start":t.isRangeStart(),"react-datepicker__day--range-end":t.isRangeEnd(),"react-datepicker__day--in-range":t.isInRange(),"react-datepicker__day--in-selecting-range":t.isInSelectingRange(),"react-datepicker__day--selecting-range-start":t.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":t.isSelectingRangeEnd(),"react-datepicker__day--today":t.isCurrentDay(),"react-datepicker__day--weekend":t.isWeekend(),"react-datepicker__day--outside-month":t.isAfterMonth()||t.isBeforeMonth()},t.getHighLightedClass(),t.getHolidaysClass())},t.getAriaLabel=function(){var n=t.props,i=n.day,o=n.ariaLabelPrefixWhenEnabled,l=o===void 0?"Choose":o,c=n.ariaLabelPrefixWhenDisabled,d=c===void 0?"Not available":c,p=t.isDisabled()||t.isExcluded()?d:l;return"".concat(p," ").concat(Ct(i,"PPPP",t.props.locale))},t.getTitle=function(){var n=t.props,i=n.day,o=n.holidays,l=o===void 0?new Map:o,c=n.excludeDates,d=Ct(i,"MM.dd.yyyy"),p=[];return l.has(d)&&p.push.apply(p,l.get(d).holidayNames),t.isExcluded()&&p.push(c==null?void 0:c.filter(function(m){return m instanceof Date?nt(m,i):nt(m==null?void 0:m.date,i)}).map(function(m){if(!(m instanceof Date))return m==null?void 0:m.message})),p.join(", ")},t.getTabIndex=function(){var n=t.props.selected,i=t.props.preSelection,o=!(t.props.showWeekPicker&&(t.props.showWeekNumber||!t.isStartOfWeek()))&&(t.isKeyboardSelected()||t.isSameDay(n)&&nt(i,n))?0:-1;return o},t.handleFocusDay=function(){var n;t.shouldFocusDay()&&((n=t.dayEl.current)===null||n===void 0||n.focus({preventScroll:!0}))},t.renderDayContents=function(){return t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()||t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()?null:t.props.renderDayContents?t.props.renderDayContents(SE(t.props.day),t.props.day):SE(t.props.day)},t.render=function(){return ne.createElement("div",{ref:t.dayEl,className:t.getClassNames(t.props.day),onKeyDown:t.handleOnKeyDown,onClick:t.handleClick,onMouseEnter:t.props.usePointerEvent?void 0:t.handleMouseEnter,onPointerEnter:t.props.usePointerEvent?t.handleMouseEnter:void 0,tabIndex:t.getTabIndex(),"aria-label":t.getAriaLabel(),role:"option",title:t.getTitle(),"aria-disabled":t.isDisabled(),"aria-current":t.isCurrentDay()?"date":void 0,"aria-selected":t.isSelected()||t.isInRange()},t.renderDayContents(),t.getTitle()!==""&&ne.createElement("span",{className:"overlay"},t.getTitle()))},t}return e.prototype.componentDidMount=function(){this.handleFocusDay()},e.prototype.componentDidUpdate=function(){this.handleFocusDay()},e.prototype.shouldFocusDay=function(){var t=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(t=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(t=!1),this.isDayActiveElement()&&(t=!0),this.isDuplicateDay()&&(t=!1)),t},e.prototype.isDayActiveElement=function(){var t,n,i;return((n=(t=this.props.containerRef)===null||t===void 0?void 0:t.current)===null||n===void 0?void 0:n.contains(document.activeElement))&&((i=document.activeElement)===null||i===void 0?void 0:i.classList.contains("react-datepicker__day"))},e.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},e}(y.Component),gV=function(r){Jt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.weekNumberEl=y.createRef(),t.handleClick=function(n){t.props.onClick&&t.props.onClick(n)},t.handleOnKeyDown=function(n){var i,o,l=n.key;l===ve.Space&&(n.preventDefault(),n.key=ve.Enter),(o=(i=t.props).handleOnKeyDown)===null||o===void 0||o.call(i,n)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!nt(t.props.date,t.props.selected)&&nt(t.props.date,t.props.preSelection)},t.getTabIndex=function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||nt(t.props.date,t.props.selected)&&nt(t.props.preSelection,t.props.selected))?0:-1},t.handleFocusWeekNumber=function(n){var i=!1;t.getTabIndex()===0&&!(n!=null&&n.isInputFocused)&&nt(t.props.date,t.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(i=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(i=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(i=!0)),i&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},e.prototype.componentDidUpdate=function(t){this.handleFocusWeekNumber(t)},e.prototype.render=function(){var t=this.props,n=t.weekNumber,i=t.isWeekDisabled,o=t.ariaLabelPrefix,l=o===void 0?e.defaultProps.ariaLabelPrefix:o,c=t.onClick,d={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!c&&!i,"react-datepicker__week-number--selected":!!c&&nt(this.props.date,this.props.selected)};return ne.createElement("div",{ref:this.weekNumberEl,className:an(d),"aria-label":"".concat(l," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},n)},e}(y.Component),vV=function(r){Jt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.isDisabled=function(n){return fr(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.handleDayClick=function(n,i){t.props.onDayClick&&t.props.onDayClick(n,i)},t.handleDayMouseEnter=function(n){t.props.onDayMouseEnter&&t.props.onDayMouseEnter(n)},t.handleWeekClick=function(n,i,o){for(var l,c,d,p=new Date(n),m=0;m<7;m++){var v=new Date(n);v.setDate(v.getDate()+m);var E=!t.isDisabled(v);if(E){p=v;break}}typeof t.props.onWeekSelect=="function"&&t.props.onWeekSelect(p,i,o),t.props.showWeekPicker&&t.handleDayClick(p,o),((l=t.props.shouldCloseOnSelect)!==null&&l!==void 0?l:e.defaultProps.shouldCloseOnSelect)&&((d=(c=t.props).setOpen)===null||d===void 0||d.call(c,!1))},t.formatWeekNumber=function(n){return t.props.formatWeekNumber?t.props.formatWeekNumber(n):Q2(n)},t.isWeekDisabled=function(){for(var n=t.startOfWeek(),i=Vr(n,6),o=new Date(n);o<=i;){if(!t.isDisabled(o))return!1;o=Vr(o,1)}return!0},t.renderDays=function(){var n=t.startOfWeek(),i=[],o=t.formatWeekNumber(n);if(t.props.showWeekNumber){var l=t.props.onWeekSelect||t.props.showWeekPicker?t.handleWeekClick.bind(t,n,o):void 0;i.push(ne.createElement(gV,rt({key:"W"},e.defaultProps,t.props,{weekNumber:o,isWeekDisabled:t.isWeekDisabled(),date:n,onClick:l})))}return i.concat([0,1,2,3,4,5,6].map(function(c){var d=Vr(n,c);return ne.createElement(mV,rt({},e.defaultProps,t.props,{ariaLabelPrefixWhenEnabled:t.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:t.props.disabledDayAriaLabelPrefix,key:d.valueOf(),day:d,onClick:t.handleDayClick.bind(t,d),onMouseEnter:t.handleDayMouseEnter.bind(t,d)}))}))},t.startOfWeek=function(){return Ks(t.props.day,t.props.locale,t.props.calendarStartDay)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!nt(t.startOfWeek(),t.props.selected)&&nt(t.startOfWeek(),t.props.preSelection)},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t={"react-datepicker__week":!0,"react-datepicker__week--selected":nt(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return ne.createElement("div",{className:an(t)},this.renderDays())},e}(y.Component),pu,yV=6,Za={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},_m=(pu={},pu[Za.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},pu[Za.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},pu[Za.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},pu),Fd=1;function KE(r,e){return r?Za.FOUR_COLUMNS:e?Za.TWO_COLUMNS:Za.THREE_COLUMNS}var _V=function(r){Jt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.MONTH_REFS=di([],Array(12),!0).map(function(){return y.createRef()}),t.QUARTER_REFS=di([],Array(4),!0).map(function(){return y.createRef()}),t.isDisabled=function(n){return fr(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(n){return Ev(n,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.handleDayClick=function(n,i){var o,l;(l=(o=t.props).onDayClick)===null||l===void 0||l.call(o,n,i,t.props.orderInDisplay)},t.handleDayMouseEnter=function(n){var i,o;(o=(i=t.props).onDayMouseEnter)===null||o===void 0||o.call(i,n)},t.handleMouseLeave=function(){var n,i;(i=(n=t.props).onMouseLeave)===null||i===void 0||i.call(n)},t.isRangeStartMonth=function(n){var i=t.props,o=i.day,l=i.startDate,c=i.endDate;return!l||!c?!1:Cn(dr(o,n),l)},t.isRangeStartQuarter=function(n){var i=t.props,o=i.day,l=i.startDate,c=i.endDate;return!l||!c?!1:Nf(Wa(o,n),l)},t.isRangeEndMonth=function(n){var i=t.props,o=i.day,l=i.startDate,c=i.endDate;return!l||!c?!1:Cn(dr(o,n),c)},t.isRangeEndQuarter=function(n){var i=t.props,o=i.day,l=i.startDate,c=i.endDate;return!l||!c?!1:Nf(Wa(o,n),c)},t.isInSelectingRangeMonth=function(n){var i,o=t.props,l=o.day,c=o.selectsStart,d=o.selectsEnd,p=o.selectsRange,m=o.startDate,v=o.endDate,E=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return!(c||d||p)||!E?!1:c&&v?Ad(E,v,n,l):d&&m||p&&m&&!v?Ad(m,E,n,l):!1},t.isSelectingMonthRangeStart=function(n){var i;if(!t.isInSelectingRangeMonth(n))return!1;var o=t.props,l=o.day,c=o.startDate,d=o.selectsStart,p=dr(l,n),m=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return d?Cn(p,m):Cn(p,c)},t.isSelectingMonthRangeEnd=function(n){var i;if(!t.isInSelectingRangeMonth(n))return!1;var o=t.props,l=o.day,c=o.endDate,d=o.selectsEnd,p=o.selectsRange,m=dr(l,n),v=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return d||p?Cn(m,v):Cn(m,c)},t.isInSelectingRangeQuarter=function(n){var i,o=t.props,l=o.day,c=o.selectsStart,d=o.selectsEnd,p=o.selectsRange,m=o.startDate,v=o.endDate,E=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return!(c||d||p)||!E?!1:c&&v?Vd(E,v,n,l):d&&m||p&&m&&!v?Vd(m,E,n,l):!1},t.isWeekInMonth=function(n){var i=t.props.day,o=Vr(n,6);return Cn(n,i)||Cn(o,i)},t.isCurrentMonth=function(n,i){return $e(n)===$e(at())&&i===Sn(at())},t.isCurrentQuarter=function(n,i){return $e(n)===$e(at())&&i===Bo(at())},t.isSelectedMonth=function(n,i,o){return Sn(o)===i&&$e(n)===$e(o)},t.isSelectMonthInList=function(n,i,o){return o.some(function(l){return t.isSelectedMonth(n,i,l)})},t.isSelectedQuarter=function(n,i,o){return Bo(n)===i&&$e(n)===$e(o)},t.renderWeeks=function(){for(var n=[],i=t.props.fixedHeight,o=0,l=!1,c=Ks(Hi(t.props.day),t.props.locale,t.props.calendarStartDay),d=function(T){return t.props.showWeekPicker?Ks(T,t.props.locale,t.props.calendarStartDay):t.props.preSelection},p=function(T){return t.props.showWeekPicker?Ks(T,t.props.locale,t.props.calendarStartDay):t.props.selected},m=t.props.selected?p(t.props.selected):void 0,v=t.props.preSelection?d(t.props.preSelection):void 0;n.push(ne.createElement(vV,rt({},t.props,{ariaLabelPrefix:t.props.weekAriaLabelPrefix,key:o,day:c,month:Sn(t.props.day),onDayClick:t.handleDayClick,onDayMouseEnter:t.handleDayMouseEnter,selected:m,preSelection:v,showWeekNumber:t.props.showWeekNumbers}))),!l;){o++,c=kf(c,1);var E=i&&o>=yV,S=!i&&!t.isWeekInMonth(c);if(E||S)if(t.props.peekNextMonth)l=!0;else break}return n},t.onMonthClick=function(n,i){var o=t.isMonthDisabledForLabelDate(i),l=o.isDisabled,c=o.labelDate;l||t.handleDayClick(Hi(c),n)},t.onMonthMouseEnter=function(n){var i=t.isMonthDisabledForLabelDate(n),o=i.isDisabled,l=i.labelDate;o||t.handleDayMouseEnter(Hi(l))},t.handleMonthNavigation=function(n,i){var o,l,c,d;(l=(o=t.props).setPreSelection)===null||l===void 0||l.call(o,i),(d=(c=t.MONTH_REFS[n])===null||c===void 0?void 0:c.current)===null||d===void 0||d.focus()},t.handleKeyboardNavigation=function(n,i,o){var l,c=t.props,d=c.selected,p=c.preSelection,m=c.setPreSelection,v=c.minDate,E=c.maxDate,S=c.showFourColumnMonthYearPicker,T=c.showTwoColumnMonthYearPicker;if(p){var L=KE(S,T),P=t.getVerticalOffset(L),V=(l=_m[L])===null||l===void 0?void 0:l.grid,F=function(D,I,k){var R,A,N=I,M=k;switch(D){case ve.ArrowRight:N=Ur(I,Fd),M=k===11?0:k+Fd;break;case ve.ArrowLeft:N=zo(I,Fd),M=k===0?11:k-Fd;break;case ve.ArrowUp:N=zo(I,P),M=!((R=V==null?void 0:V[0])===null||R===void 0)&&R.includes(k)?k+12-P:k-P;break;case ve.ArrowDown:N=Ur(I,P),M=!((A=V==null?void 0:V[V.length-1])===null||A===void 0)&&A.includes(k)?k-12+P:k+P;break}return{newCalculatedDate:N,newCalculatedMonth:M}},H=function(D,I,k){for(var R=40,A=D,N=!1,M=0,fe=F(A,I,k),me=fe.newCalculatedDate,ce=fe.newCalculatedMonth;!N;){if(M>=R){me=I,ce=k;break}if(v&&me<v){A=ve.ArrowRight;var he=F(A,me,ce);me=he.newCalculatedDate,ce=he.newCalculatedMonth}if(E&&me>E){A=ve.ArrowLeft;var he=F(A,me,ce);me=he.newCalculatedDate,ce=he.newCalculatedMonth}if(iV(me,t.props)){var he=F(A,me,ce);me=he.newCalculatedDate,ce=he.newCalculatedMonth}else N=!0;M++}return{newCalculatedDate:me,newCalculatedMonth:ce}};if(i===ve.Enter){t.isMonthDisabled(o)||(t.onMonthClick(n,o),m==null||m(d));return}var j=H(i,p,o),z=j.newCalculatedDate,$=j.newCalculatedMonth;switch(i){case ve.ArrowRight:case ve.ArrowLeft:case ve.ArrowUp:case ve.ArrowDown:t.handleMonthNavigation($,z);break}}},t.getVerticalOffset=function(n){var i,o;return(o=(i=_m[n])===null||i===void 0?void 0:i.verticalNavigationOffset)!==null&&o!==void 0?o:0},t.onMonthKeyDown=function(n,i){var o=t.props,l=o.disabledKeyboardNavigation,c=o.handleOnMonthKeyDown,d=n.key;d!==ve.Tab&&n.preventDefault(),l||t.handleKeyboardNavigation(n,d,i),c&&c(n)},t.onQuarterClick=function(n,i){var o=Wa(t.props.day,i);Od(o,t.props)||t.handleDayClick(ME(o),n)},t.onQuarterMouseEnter=function(n){var i=Wa(t.props.day,n);Od(i,t.props)||t.handleDayMouseEnter(ME(i))},t.handleQuarterNavigation=function(n,i){var o,l,c,d;t.isDisabled(i)||t.isExcluded(i)||((l=(o=t.props).setPreSelection)===null||l===void 0||l.call(o,i),(d=(c=t.QUARTER_REFS[n-1])===null||c===void 0?void 0:c.current)===null||d===void 0||d.focus())},t.onQuarterKeyDown=function(n,i){var o,l,c=n.key;if(!t.props.disabledKeyboardNavigation)switch(c){case ve.Enter:t.onQuarterClick(n,i),(l=(o=t.props).setPreSelection)===null||l===void 0||l.call(o,t.props.selected);break;case ve.ArrowRight:if(!t.props.preSelection)break;t.handleQuarterNavigation(i===4?1:i+1,lv(t.props.preSelection,1));break;case ve.ArrowLeft:if(!t.props.preSelection)break;t.handleQuarterNavigation(i===1?4:i-1,ck(t.props.preSelection));break}},t.isMonthDisabledForLabelDate=function(n){var i,o=t.props,l=o.day,c=o.minDate,d=o.maxDate,p=o.excludeDates,m=o.includeDates,v=dr(l,n);return{isDisabled:(i=(c||d||p||m)&&kk(v,t.props))!==null&&i!==void 0?i:!1,labelDate:v}},t.isMonthDisabled=function(n){var i=t.isMonthDisabledForLabelDate(n).isDisabled;return i},t.getMonthClassNames=function(n){var i=t.props,o=i.day,l=i.startDate,c=i.endDate,d=i.preSelection,p=i.monthClassName,m=p?p(dr(o,n)):void 0,v=t.getSelection();return an("react-datepicker__month-text","react-datepicker__month-".concat(n),m,{"react-datepicker__month-text--disabled":t.isMonthDisabled(n),"react-datepicker__month-text--selected":v?t.isSelectMonthInList(o,n,v):void 0,"react-datepicker__month-text--keyboard-selected":!t.props.disabledKeyboardNavigation&&d&&t.isSelectedMonth(o,n,d)&&!t.isMonthDisabled(n),"react-datepicker__month-text--in-selecting-range":t.isInSelectingRangeMonth(n),"react-datepicker__month-text--in-range":l&&c?Ad(l,c,n,o):void 0,"react-datepicker__month-text--range-start":t.isRangeStartMonth(n),"react-datepicker__month-text--range-end":t.isRangeEndMonth(n),"react-datepicker__month-text--selecting-range-start":t.isSelectingMonthRangeStart(n),"react-datepicker__month-text--selecting-range-end":t.isSelectingMonthRangeEnd(n),"react-datepicker__month-text--today":t.isCurrentMonth(o,n)})},t.getTabIndex=function(n){if(t.props.preSelection==null)return"-1";var i=Sn(t.props.preSelection),o=t.isMonthDisabledForLabelDate(i).isDisabled,l=n===i&&!(o||t.props.disabledKeyboardNavigation)?"0":"-1";return l},t.getQuarterTabIndex=function(n){if(t.props.preSelection==null)return"-1";var i=Bo(t.props.preSelection),o=Od(t.props.day,t.props),l=n===i&&!(o||t.props.disabledKeyboardNavigation)?"0":"-1";return l},t.getAriaLabel=function(n){var i=t.props,o=i.chooseDayAriaLabelPrefix,l=o===void 0?"Choose":o,c=i.disabledDayAriaLabelPrefix,d=c===void 0?"Not available":c,p=i.day,m=i.locale,v=dr(p,n),E=t.isDisabled(v)||t.isExcluded(v)?d:l;return"".concat(E," ").concat(Ct(v,"MMMM yyyy",m))},t.getQuarterClassNames=function(n){var i=t.props,o=i.day,l=i.startDate,c=i.endDate,d=i.selected,p=i.minDate,m=i.maxDate,v=i.excludeDates,E=i.includeDates,S=i.filterDate,T=i.preSelection,L=i.disabledKeyboardNavigation,P=(p||m||v||E||S)&&Od(Wa(o,n),t.props);return an("react-datepicker__quarter-text","react-datepicker__quarter-".concat(n),{"react-datepicker__quarter-text--disabled":P,"react-datepicker__quarter-text--selected":d?t.isSelectedQuarter(o,n,d):void 0,"react-datepicker__quarter-text--keyboard-selected":!L&&T&&t.isSelectedQuarter(o,n,T)&&!P,"react-datepicker__quarter-text--in-selecting-range":t.isInSelectingRangeQuarter(n),"react-datepicker__quarter-text--in-range":l&&c?Vd(l,c,n,o):void 0,"react-datepicker__quarter-text--range-start":t.isRangeStartQuarter(n),"react-datepicker__quarter-text--range-end":t.isRangeEndQuarter(n)})},t.getMonthContent=function(n){var i=t.props,o=i.showFullMonthYearPicker,l=i.renderMonthContent,c=i.locale,d=i.day,p=Tk(n,c),m=wv(n,c);return l?l(n,p,m,d):o?m:p},t.getQuarterContent=function(n){var i,o=t.props,l=o.renderQuarterContent,c=o.locale,d=rV(n,c);return(i=l==null?void 0:l(n,d))!==null&&i!==void 0?i:d},t.renderMonths=function(){var n,i=t.props,o=i.showTwoColumnMonthYearPicker,l=i.showFourColumnMonthYearPicker,c=i.day,d=i.selected,p=(n=_m[KE(l,o)])===null||n===void 0?void 0:n.grid;return p==null?void 0:p.map(function(m,v){return ne.createElement("div",{className:"react-datepicker__month-wrapper",key:v},m.map(function(E,S){return ne.createElement("div",{ref:t.MONTH_REFS[E],key:S,onClick:function(T){t.onMonthClick(T,E)},onKeyDown:function(T){Pk(T)&&(T.preventDefault(),T.key=ve.Enter),t.onMonthKeyDown(T,E)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onMonthMouseEnter(E)},onPointerEnter:t.props.usePointerEvent?function(){return t.onMonthMouseEnter(E)}:void 0,tabIndex:Number(t.getTabIndex(E)),className:t.getMonthClassNames(E),"aria-disabled":t.isMonthDisabled(E),role:"option","aria-label":t.getAriaLabel(E),"aria-current":t.isCurrentMonth(c,E)?"date":void 0,"aria-selected":d?t.isSelectedMonth(c,E,d):void 0},t.getMonthContent(E))}))})},t.renderQuarters=function(){var n=t.props,i=n.day,o=n.selected,l=[1,2,3,4];return ne.createElement("div",{className:"react-datepicker__quarter-wrapper"},l.map(function(c,d){return ne.createElement("div",{key:d,ref:t.QUARTER_REFS[d],role:"option",onClick:function(p){t.onQuarterClick(p,c)},onKeyDown:function(p){t.onQuarterKeyDown(p,c)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onQuarterMouseEnter(c)},onPointerEnter:t.props.usePointerEvent?function(){return t.onQuarterMouseEnter(c)}:void 0,className:t.getQuarterClassNames(c),"aria-selected":o?t.isSelectedQuarter(i,c,o):void 0,tabIndex:Number(t.getQuarterTabIndex(c)),"aria-current":t.isCurrentQuarter(i,c)?"date":void 0},t.getQuarterContent(c))}))},t.getClassNames=function(){var n=t.props,i=n.selectingDate,o=n.selectsStart,l=n.selectsEnd,c=n.showMonthYearPicker,d=n.showQuarterYearPicker,p=n.showWeekPicker;return an("react-datepicker__month",{"react-datepicker__month--selecting-range":i&&(o||l)},{"react-datepicker__monthPicker":c},{"react-datepicker__quarterPicker":d},{"react-datepicker__weekPicker":p})},t}return e.prototype.getSelection=function(){var t=this.props,n=t.selected,i=t.selectedDates,o=t.selectsMultiple;if(o)return i;if(n)return[n]},e.prototype.render=function(){var t=this.props,n=t.showMonthYearPicker,i=t.showQuarterYearPicker,o=t.day,l=t.ariaLabelPrefix,c=l===void 0?"Month ":l,d=c?c.trim()+" ":"";return ne.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(d).concat(Ct(o,"MMMM, yyyy",this.props.locale)),role:"listbox"},n?this.renderMonths():i?this.renderQuarters():this.renderWeeks())},e}(y.Component),wV=function(r){Jt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.isSelectedMonth=function(n){return t.props.month===n},t.renderOptions=function(){return t.props.monthNames.map(function(n,i){return ne.createElement("div",{className:t.isSelectedMonth(i)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:n,onClick:t.onChange.bind(t,i),"aria-selected":t.isSelectedMonth(i)?"true":void 0},t.isSelectedMonth(i)?ne.createElement("span",{className:"react-datepicker__month-option--selected"},"✓"):"",n)})},t.onChange=function(n){return t.props.onChange(n)},t.handleClickOutside=function(){return t.props.onCancel()},t}return e.prototype.render=function(){return ne.createElement(Ch,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},e}(y.Component),EV=function(r){Jt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(n){return n.map(function(i,o){return ne.createElement("option",{key:i,value:o},i)})},t.renderSelectMode=function(n){return ne.createElement("select",{value:t.props.month,className:"react-datepicker__month-select",onChange:function(i){return t.onChange(parseInt(i.target.value))}},t.renderSelectOptions(n))},t.renderReadView=function(n,i){return ne.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:t.toggleDropdown},ne.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),ne.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},i[t.props.month]))},t.renderDropdown=function(n){return ne.createElement(wV,rt({key:"dropdown"},t.props,{monthNames:n,onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(n){var i=t.state.dropdownVisible,o=[t.renderReadView(!i,n)];return i&&o.unshift(t.renderDropdown(n)),o},t.onChange=function(n){t.toggleDropdown(),n!==t.props.month&&t.props.onChange(n)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t=this,n=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(o){return Tk(o,t.props.locale)}:function(o){return wv(o,t.props.locale)}),i;switch(this.props.dropdownMode){case"scroll":i=this.renderScrollMode(n);break;case"select":i=this.renderSelectMode(n);break}return ne.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},i)},e}(y.Component);function CV(r,e){for(var t=[],n=Hi(r),i=Hi(e);!to(n,i);)t.push(at(n)),n=Ur(n,1);return t}var SV=function(r){Jt(e,r);function e(t){var n=r.call(this,t)||this;return n.renderOptions=function(){return n.state.monthYearsList.map(function(i){var o=rg(i),l=ai(n.props.date,i)&&Cn(n.props.date,i);return ne.createElement("div",{className:l?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:o,onClick:n.onChange.bind(n,o),"aria-selected":l?"true":void 0},l?ne.createElement("span",{className:"react-datepicker__month-year-option--selected"},"✓"):"",Ct(i,n.props.dateFormat,n.props.locale))})},n.onChange=function(i){return n.props.onChange(i)},n.handleClickOutside=function(){n.props.onCancel()},n.state={monthYearsList:CV(n.props.minDate,n.props.maxDate)},n}return e.prototype.render=function(){var t=an({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return ne.createElement(Ch,{className:t,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(y.Component),TV=function(r){Jt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var n=Hi(t.props.minDate),i=Hi(t.props.maxDate),o=[];!to(n,i);){var l=rg(n);o.push(ne.createElement("option",{key:l,value:l},Ct(n,t.props.dateFormat,t.props.locale))),n=Ur(n,1)}return o},t.onSelectChange=function(n){t.onChange(parseInt(n.target.value))},t.renderSelectMode=function(){return ne.createElement("select",{value:rg(Hi(t.props.date)),className:"react-datepicker__month-year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(n){var i=Ct(t.props.date,t.props.dateFormat,t.props.locale);return ne.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:t.toggleDropdown},ne.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),ne.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},i))},t.renderDropdown=function(){return ne.createElement(SV,rt({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var n=t.state.dropdownVisible,i=[t.renderReadView(!n)];return n&&i.unshift(t.renderDropdown()),i},t.onChange=function(n){t.toggleDropdown();var i=at(n);ai(t.props.date,i)&&Cn(t.props.date,i)||t.props.onChange(i)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return ne.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},t)},e}(y.Component),kV=function(r){Jt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={height:null},t.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var n,i,o;t.list&&(t.list.scrollTop=(o=t.centerLi&&e.calcCenterPosition(t.props.monthRef?t.props.monthRef.clientHeight-((i=(n=t.header)===null||n===void 0?void 0:n.clientHeight)!==null&&i!==void 0?i:0):t.list.clientHeight,t.centerLi))!==null&&o!==void 0?o:0)})},t.handleClick=function(n){var i,o;(t.props.minTime||t.props.maxTime)&&FE(n,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&VE(n,t.props)||(o=(i=t.props).onChange)===null||o===void 0||o.call(i,n)},t.isSelectedTime=function(n){return t.props.selected&&hV(t.props.selected,n)},t.isDisabledTime=function(n){return(t.props.minTime||t.props.maxTime)&&FE(n,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&VE(n,t.props)},t.liClasses=function(n){var i,o=["react-datepicker__time-list-item",t.props.timeClassName?t.props.timeClassName(n):void 0];return t.isSelectedTime(n)&&o.push("react-datepicker__time-list-item--selected"),t.isDisabledTime(n)&&o.push("react-datepicker__time-list-item--disabled"),t.props.injectTimes&&(zi(n)*3600+Wi(n)*60+qs(n))%(((i=t.props.intervals)!==null&&i!==void 0?i:e.defaultProps.intervals)*60)!==0&&o.push("react-datepicker__time-list-item--injected"),o.join(" ")},t.handleOnKeyDown=function(n,i){var o,l;n.key===ve.Space&&(n.preventDefault(),n.key=ve.Enter),(n.key===ve.ArrowUp||n.key===ve.ArrowLeft)&&n.target instanceof HTMLElement&&n.target.previousSibling&&(n.preventDefault(),n.target.previousSibling instanceof HTMLElement&&n.target.previousSibling.focus()),(n.key===ve.ArrowDown||n.key===ve.ArrowRight)&&n.target instanceof HTMLElement&&n.target.nextSibling&&(n.preventDefault(),n.target.nextSibling instanceof HTMLElement&&n.target.nextSibling.focus()),n.key===ve.Enter&&t.handleClick(i),(l=(o=t.props).handleOnKeyDown)===null||l===void 0||l.call(o,n)},t.renderTimes=function(){for(var n,i=[],o=typeof t.props.format=="string"?t.props.format:"p",l=(n=t.props.intervals)!==null&&n!==void 0?n:e.defaultProps.intervals,c=t.props.selected||t.props.openToDate||at(),d=tf(c),p=t.props.injectTimes&&t.props.injectTimes.sort(function(P,V){return P.getTime()-V.getTime()}),m=60*fV(c),v=m/l,E=0;E<v;E++){var S=eg(d,E*l);if(i.push(S),p){var T=dV(d,S,E,l,p);i=i.concat(T)}}var L=i.reduce(function(P,V){return V.getTime()<=c.getTime()?V:P},i[0]);return i.map(function(P){return ne.createElement("li",{key:P.valueOf(),onClick:t.handleClick.bind(t,P),className:t.liClasses(P),ref:function(V){P===L&&(t.centerLi=V)},onKeyDown:function(V){t.handleOnKeyDown(V,P)},tabIndex:P===L?0:-1,role:"option","aria-selected":t.isSelectedTime(P)?"true":void 0,"aria-disabled":t.isDisabledTime(P)?"true":void 0},Ct(P,o,t.props.locale))})},t.renderTimeCaption=function(){return t.props.showTimeCaption===!1?ne.createElement(ne.Fragment,null):ne.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(t.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(n){t.header=n}},ne.createElement("div",{className:"react-datepicker-time__header"},t.props.timeCaption))},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},e.prototype.render=function(){var t=this,n,i=this.state.height;return ne.createElement("div",{className:"react-datepicker__time-container ".concat(((n=this.props.todayButton)!==null&&n!==void 0?n:e.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),ne.createElement("div",{className:"react-datepicker__time"},ne.createElement("div",{className:"react-datepicker__time-box"},ne.createElement("ul",{className:"react-datepicker__time-list",ref:function(o){t.list=o},style:i?{height:i}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},e.calcCenterPosition=function(t,n){return n.offsetTop-(t/2-n.clientHeight/2)},e}(y.Component),GE=3,bV=function(r){Jt(e,r);function e(t){var n=r.call(this,t)||this;return n.YEAR_REFS=di([],Array(n.props.yearItemNumber),!0).map(function(){return y.createRef()}),n.isDisabled=function(i){return fr(i,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(i){return Ev(i,{excludeDates:n.props.excludeDates})},n.selectingDate=function(){var i;return(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection},n.updateFocusOnPaginate=function(i){var o=function(){var l,c;(c=(l=n.YEAR_REFS[i])===null||l===void 0?void 0:l.current)===null||c===void 0||c.focus()};window.requestAnimationFrame(o)},n.handleYearClick=function(i,o){n.props.onDayClick&&n.props.onDayClick(i,o)},n.handleYearNavigation=function(i,o){var l,c,d,p,m=n.props,v=m.date,E=m.yearItemNumber;if(!(v===void 0||E===void 0)){var S=Fs(v,E).startPeriod;n.isDisabled(o)||n.isExcluded(o)||((c=(l=n.props).setPreSelection)===null||c===void 0||c.call(l,o),i-S<0?n.updateFocusOnPaginate(E-(S-i)):i-S>=E?n.updateFocusOnPaginate(Math.abs(E-(i-S))):(p=(d=n.YEAR_REFS[i-S])===null||d===void 0?void 0:d.current)===null||p===void 0||p.focus())}},n.isSameDay=function(i,o){return nt(i,o)},n.isCurrentYear=function(i){return i===$e(at())},n.isRangeStart=function(i){return n.props.startDate&&n.props.endDate&&ai(oi(at(),i),n.props.startDate)},n.isRangeEnd=function(i){return n.props.startDate&&n.props.endDate&&ai(oi(at(),i),n.props.endDate)},n.isInRange=function(i){return Nd(i,n.props.startDate,n.props.endDate)},n.isInSelectingRange=function(i){var o=n.props,l=o.selectsStart,c=o.selectsEnd,d=o.selectsRange,p=o.startDate,m=o.endDate;return!(l||c||d)||!n.selectingDate()?!1:l&&m?Nd(i,n.selectingDate(),m):c&&p||d&&p&&!m?Nd(i,p,n.selectingDate()):!1},n.isSelectingRangeStart=function(i){var o;if(!n.isInSelectingRange(i))return!1;var l=n.props,c=l.startDate,d=l.selectsStart,p=oi(at(),i);return d?ai(p,(o=n.selectingDate())!==null&&o!==void 0?o:null):ai(p,c??null)},n.isSelectingRangeEnd=function(i){var o;if(!n.isInSelectingRange(i))return!1;var l=n.props,c=l.endDate,d=l.selectsEnd,p=l.selectsRange,m=oi(at(),i);return d||p?ai(m,(o=n.selectingDate())!==null&&o!==void 0?o:null):ai(m,c??null)},n.isKeyboardSelected=function(i){if(!(n.props.date===void 0||n.props.selected==null||n.props.preSelection==null)){var o=n.props,l=o.minDate,c=o.maxDate,d=o.excludeDates,p=o.includeDates,m=o.filterDate,v=Tu(oi(n.props.date,i)),E=(l||c||d||p||m)&&nf(i,n.props);return!n.props.disabledKeyboardNavigation&&!n.props.inline&&!nt(v,Tu(n.props.selected))&&nt(v,Tu(n.props.preSelection))&&!E}},n.onYearClick=function(i,o){var l=n.props.date;l!==void 0&&n.handleYearClick(Tu(oi(l,o)),i)},n.onYearKeyDown=function(i,o){var l,c,d=i.key,p=n.props,m=p.date,v=p.yearItemNumber,E=p.handleOnKeyDown;if(d!==ve.Tab&&i.preventDefault(),!n.props.disabledKeyboardNavigation)switch(d){case ve.Enter:if(n.props.selected==null)break;n.onYearClick(i,o),(c=(l=n.props).setPreSelection)===null||c===void 0||c.call(l,n.props.selected);break;case ve.ArrowRight:if(n.props.preSelection==null)break;n.handleYearNavigation(o+1,ji(n.props.preSelection,1));break;case ve.ArrowLeft:if(n.props.preSelection==null)break;n.handleYearNavigation(o-1,dl(n.props.preSelection,1));break;case ve.ArrowUp:{if(m===void 0||v===void 0||n.props.preSelection==null)break;var S=Fs(m,v).startPeriod,T=GE,L=o-T;if(L<S){var P=v%T;o>=S&&o<S+P?T=P:T+=P,L=o-T}n.handleYearNavigation(L,dl(n.props.preSelection,T));break}case ve.ArrowDown:{if(m===void 0||v===void 0||n.props.preSelection==null)break;var V=Fs(m,v).endPeriod,T=GE,L=o+T;if(L>V){var P=v%T;o<=V&&o>V-P?T=P:T+=P,L=o+T}n.handleYearNavigation(L,ji(n.props.preSelection,T));break}}E&&E(i)},n.getYearClassNames=function(i){var o=n.props,l=o.date,c=o.minDate,d=o.maxDate,p=o.selected,m=o.excludeDates,v=o.includeDates,E=o.filterDate,S=o.yearClassName;return an("react-datepicker__year-text","react-datepicker__year-".concat(i),l?S==null?void 0:S(oi(l,i)):void 0,{"react-datepicker__year-text--selected":p?i===$e(p):void 0,"react-datepicker__year-text--disabled":(c||d||m||v||E)&&nf(i,n.props),"react-datepicker__year-text--keyboard-selected":n.isKeyboardSelected(i),"react-datepicker__year-text--range-start":n.isRangeStart(i),"react-datepicker__year-text--range-end":n.isRangeEnd(i),"react-datepicker__year-text--in-range":n.isInRange(i),"react-datepicker__year-text--in-selecting-range":n.isInSelectingRange(i),"react-datepicker__year-text--selecting-range-start":n.isSelectingRangeStart(i),"react-datepicker__year-text--selecting-range-end":n.isSelectingRangeEnd(i),"react-datepicker__year-text--today":n.isCurrentYear(i)})},n.getYearTabIndex=function(i){if(n.props.disabledKeyboardNavigation||n.props.preSelection==null)return"-1";var o=$e(n.props.preSelection),l=nf(i,n.props);return i===o&&!l?"0":"-1"},n.getYearContent=function(i){return n.props.renderYearContent?n.props.renderYearContent(i):i},n}return e.prototype.render=function(){var t=this,n=[],i=this.props,o=i.date,l=i.yearItemNumber,c=i.onYearMouseEnter,d=i.onYearMouseLeave;if(o===void 0)return null;for(var p=Fs(o,l),m=p.startPeriod,v=p.endPeriod,E=function(L){n.push(ne.createElement("div",{ref:S.YEAR_REFS[L-m],onClick:function(P){t.onYearClick(P,L)},onKeyDown:function(P){Pk(P)&&(P.preventDefault(),P.key=ve.Enter),t.onYearKeyDown(P,L)},tabIndex:Number(S.getYearTabIndex(L)),className:S.getYearClassNames(L),onMouseEnter:S.props.usePointerEvent?void 0:function(P){return c(P,L)},onPointerEnter:S.props.usePointerEvent?function(P){return c(P,L)}:void 0,onMouseLeave:S.props.usePointerEvent?void 0:function(P){return d(P,L)},onPointerLeave:S.props.usePointerEvent?function(P){return d(P,L)}:void 0,key:L,"aria-current":S.isCurrentYear(L)?"date":void 0},S.getYearContent(L)))},S=this,T=m;T<=v;T++)E(T);return ne.createElement("div",{className:"react-datepicker__year"},ne.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},n))},e}(y.Component);function IV(r,e,t,n){for(var i=[],o=0;o<2*e+1;o++){var l=r+e-o,c=!0;t&&(c=$e(t)<=l),n&&c&&(c=$e(n)>=l),c&&i.push(l)}return i}var PV=function(r){Jt(e,r);function e(t){var n=r.call(this,t)||this;n.renderOptions=function(){var c=n.props.year,d=n.state.yearsList.map(function(v){return ne.createElement("div",{className:c===v?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:v,onClick:n.onChange.bind(n,v),"aria-selected":c===v?"true":void 0},c===v?ne.createElement("span",{className:"react-datepicker__year-option--selected"},"✓"):"",v)}),p=n.props.minDate?$e(n.props.minDate):null,m=n.props.maxDate?$e(n.props.maxDate):null;return(!m||!n.state.yearsList.find(function(v){return v===m}))&&d.unshift(ne.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:n.incrementYears},ne.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!p||!n.state.yearsList.find(function(v){return v===p}))&&d.push(ne.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:n.decrementYears},ne.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),d},n.onChange=function(c){n.props.onChange(c)},n.handleClickOutside=function(){n.props.onCancel()},n.shiftYears=function(c){var d=n.state.yearsList.map(function(p){return p+c});n.setState({yearsList:d})},n.incrementYears=function(){return n.shiftYears(1)},n.decrementYears=function(){return n.shiftYears(-1)};var i=t.yearDropdownItemNumber,o=t.scrollableYearDropdown,l=i||(o?10:5);return n.state={yearsList:IV(n.props.year,l,n.props.minDate,n.props.maxDate)},n.dropdownRef=y.createRef(),n}return e.prototype.componentDidMount=function(){var t=this.dropdownRef.current;if(t){var n=t.children?Array.from(t.children):null,i=n?n.find(function(o){return o.ariaSelected}):null;t.scrollTop=i&&i instanceof HTMLElement?i.offsetTop+(i.clientHeight-t.clientHeight)/2:(t.scrollHeight-t.clientHeight)/2}},e.prototype.render=function(){var t=an({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return ne.createElement(Ch,{className:t,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(y.Component),DV=function(r){Jt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var n=t.props.minDate?$e(t.props.minDate):1900,i=t.props.maxDate?$e(t.props.maxDate):2100,o=[],l=n;l<=i;l++)o.push(ne.createElement("option",{key:l,value:l},l));return o},t.onSelectChange=function(n){t.onChange(parseInt(n.target.value))},t.renderSelectMode=function(){return ne.createElement("select",{value:t.props.year,className:"react-datepicker__year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(n){return ne.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(i){return t.toggleDropdown(i)}},ne.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),ne.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},t.props.year))},t.renderDropdown=function(){return ne.createElement(PV,rt({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var n=t.state.dropdownVisible,i=[t.renderReadView(!n)];return n&&i.unshift(t.renderDropdown()),i},t.onChange=function(n){t.toggleDropdown(),n!==t.props.year&&t.props.onChange(n)},t.toggleDropdown=function(n){t.setState({dropdownVisible:!t.state.dropdownVisible},function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,n)})},t.handleYearChange=function(n,i){var o;(o=t.onSelect)===null||o===void 0||o.call(t,n,i),t.setOpen()},t.onSelect=function(n,i){var o,l;(l=(o=t.props).onSelect)===null||l===void 0||l.call(o,n,i)},t.setOpen=function(){var n,i;(i=(n=t.props).setOpen)===null||i===void 0||i.call(n,!0)},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return ne.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},t)},e}(y.Component),xV=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],LV=function(r){var e=(r.className||"").split(/\s+/);return xV.some(function(t){return e.indexOf(t)>=0})},RV=function(r){Jt(e,r);function e(t){var n=r.call(this,t)||this;return n.monthContainer=void 0,n.handleClickOutside=function(i){n.props.onClickOutside(i)},n.setClickOutsideRef=function(){return n.containerRef.current},n.handleDropdownFocus=function(i){var o,l;LV(i.target)&&((l=(o=n.props).onDropdownFocus)===null||l===void 0||l.call(o,i))},n.getDateInView=function(){var i=n.props,o=i.preSelection,l=i.selected,c=i.openToDate,d=bk(n.props),p=Ik(n.props),m=at(),v=c||l||o;return v||(d&&Ko(m,d)?d:p&&to(m,p)?p:m)},n.increaseMonth=function(){n.setState(function(i){var o=i.date;return{date:Ur(o,1)}},function(){return n.handleMonthChange(n.state.date)})},n.decreaseMonth=function(){n.setState(function(i){var o=i.date;return{date:zo(o,1)}},function(){return n.handleMonthChange(n.state.date)})},n.handleDayClick=function(i,o,l){n.props.onSelect(i,o,l),n.props.setPreSelection&&n.props.setPreSelection(i)},n.handleDayMouseEnter=function(i){n.setState({selectingDate:i}),n.props.onDayMouseEnter&&n.props.onDayMouseEnter(i)},n.handleMonthMouseLeave=function(){n.setState({selectingDate:void 0}),n.props.onMonthMouseLeave&&n.props.onMonthMouseLeave()},n.handleYearMouseEnter=function(i,o){n.setState({selectingDate:oi(at(),o)}),n.props.onYearMouseEnter&&n.props.onYearMouseEnter(i,o)},n.handleYearMouseLeave=function(i,o){n.props.onYearMouseLeave&&n.props.onYearMouseLeave(i,o)},n.handleYearChange=function(i){var o,l,c,d;(l=(o=n.props).onYearChange)===null||l===void 0||l.call(o,i),n.setState({isRenderAriaLiveMessage:!0}),n.props.adjustDateOnChange&&(n.props.onSelect(i),(d=(c=n.props).setOpen)===null||d===void 0||d.call(c,!0)),n.props.setPreSelection&&n.props.setPreSelection(i)},n.getEnabledPreSelectionDateForMonth=function(i){if(!fr(i,n.props))return i;for(var o=Hi(i),l=J2(i),c=PA(l,o),d=null,p=0;p<=c;p++){var m=Vr(o,p);if(!fr(m,n.props)){d=m;break}}return d},n.handleMonthChange=function(i){var o,l,c,d=(o=n.getEnabledPreSelectionDateForMonth(i))!==null&&o!==void 0?o:i;n.handleCustomMonthChange(d),n.props.adjustDateOnChange&&(n.props.onSelect(d),(c=(l=n.props).setOpen)===null||c===void 0||c.call(l,!0)),n.props.setPreSelection&&n.props.setPreSelection(d)},n.handleCustomMonthChange=function(i){var o,l;(l=(o=n.props).onMonthChange)===null||l===void 0||l.call(o,i),n.setState({isRenderAriaLiveMessage:!0})},n.handleMonthYearChange=function(i){n.handleYearChange(i),n.handleMonthChange(i)},n.changeYear=function(i){n.setState(function(o){var l=o.date;return{date:oi(l,Number(i))}},function(){return n.handleYearChange(n.state.date)})},n.changeMonth=function(i){n.setState(function(o){var l=o.date;return{date:dr(l,Number(i))}},function(){return n.handleMonthChange(n.state.date)})},n.changeMonthYear=function(i){n.setState(function(o){var l=o.date;return{date:oi(dr(l,Sn(i)),$e(i))}},function(){return n.handleMonthYearChange(n.state.date)})},n.header=function(i){i===void 0&&(i=n.state.date);var o=Ks(i,n.props.locale,n.props.calendarStartDay),l=[];return n.props.showWeekNumbers&&l.push(ne.createElement("div",{key:"W",className:"react-datepicker__day-name"},n.props.weekLabel||"#")),l.concat([0,1,2,3,4,5,6].map(function(c){var d=Vr(o,c),p=n.formatWeekday(d,n.props.locale),m=n.props.weekDayClassName?n.props.weekDayClassName(d):void 0;return ne.createElement("div",{key:c,"aria-label":Ct(d,"EEEE",n.props.locale),className:an("react-datepicker__day-name",m)},p)}))},n.formatWeekday=function(i,o){return n.props.formatWeekDay?eV(i,n.props.formatWeekDay,o):n.props.useWeekdaysShort?nV(i,o):tV(i,o)},n.decreaseYear=function(){n.setState(function(i){var o,l=i.date;return{date:dl(l,n.props.showYearPicker?(o=n.props.yearItemNumber)!==null&&o!==void 0?o:e.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.clearSelectingDate=function(){n.setState({selectingDate:void 0})},n.renderPreviousButton=function(){var i,o,l;if(!n.props.renderCustomHeader){var c=(i=n.props.monthsShown)!==null&&i!==void 0?i:e.defaultProps.monthsShown,d=n.props.showPreviousMonths?c-1:0,p=(o=n.props.monthSelectedIn)!==null&&o!==void 0?o:d,m=zo(n.state.date,p),v;switch(!0){case n.props.showMonthYearPicker:v=BE(n.state.date,n.props);break;case n.props.showYearPicker:v=aV(n.state.date,n.props);break;case n.props.showQuarterYearPicker:v=sV(n.state.date,n.props);break;default:v=UE(m,n.props);break}if(!(!((l=n.props.forceShowMonthNavigation)!==null&&l!==void 0?l:e.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&v||n.props.showTimeSelectOnly)){var E=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],S=["react-datepicker__navigation","react-datepicker__navigation--previous"],T=n.decreaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(T=n.decreaseYear),v&&n.props.showDisabledMonthNavigation&&(S.push("react-datepicker__navigation--previous--disabled"),T=void 0);var L=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,P=n.props,V=P.previousMonthButtonLabel,F=V===void 0?e.defaultProps.previousMonthButtonLabel:V,H=P.previousYearButtonLabel,j=H===void 0?e.defaultProps.previousYearButtonLabel:H,z=n.props,$=z.previousMonthAriaLabel,D=$===void 0?typeof F=="string"?F:"Previous Month":$,I=z.previousYearAriaLabel,k=I===void 0?typeof j=="string"?j:"Previous Year":I;return ne.createElement("button",{type:"button",className:S.join(" "),onClick:T,onKeyDown:n.props.handleOnKeyDown,"aria-label":L?k:D},ne.createElement("span",{className:E.join(" ")},L?j:F))}}},n.increaseYear=function(){n.setState(function(i){var o,l=i.date;return{date:ji(l,n.props.showYearPicker?(o=n.props.yearItemNumber)!==null&&o!==void 0?o:e.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.renderNextButton=function(){var i;if(!n.props.renderCustomHeader){var o;switch(!0){case n.props.showMonthYearPicker:o=zE(n.state.date,n.props);break;case n.props.showYearPicker:o=lV(n.state.date,n.props);break;case n.props.showQuarterYearPicker:o=oV(n.state.date,n.props);break;default:o=jE(n.state.date,n.props);break}if(!(!((i=n.props.forceShowMonthNavigation)!==null&&i!==void 0?i:e.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&o||n.props.showTimeSelectOnly)){var l=["react-datepicker__navigation","react-datepicker__navigation--next"],c=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];n.props.showTimeSelect&&l.push("react-datepicker__navigation--next--with-time"),n.props.todayButton&&l.push("react-datepicker__navigation--next--with-today-button");var d=n.increaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(d=n.increaseYear),o&&n.props.showDisabledMonthNavigation&&(l.push("react-datepicker__navigation--next--disabled"),d=void 0);var p=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,m=n.props,v=m.nextMonthButtonLabel,E=v===void 0?e.defaultProps.nextMonthButtonLabel:v,S=m.nextYearButtonLabel,T=S===void 0?e.defaultProps.nextYearButtonLabel:S,L=n.props,P=L.nextMonthAriaLabel,V=P===void 0?typeof E=="string"?E:"Next Month":P,F=L.nextYearAriaLabel,H=F===void 0?typeof T=="string"?T:"Next Year":F;return ne.createElement("button",{type:"button",className:l.join(" "),onClick:d,onKeyDown:n.props.handleOnKeyDown,"aria-label":p?H:V},ne.createElement("span",{className:c.join(" ")},p?T:E))}}},n.renderCurrentMonth=function(i){i===void 0&&(i=n.state.date);var o=["react-datepicker__current-month"];return n.props.showYearDropdown&&o.push("react-datepicker__current-month--hasYearDropdown"),n.props.showMonthDropdown&&o.push("react-datepicker__current-month--hasMonthDropdown"),n.props.showMonthYearDropdown&&o.push("react-datepicker__current-month--hasMonthYearDropdown"),ne.createElement("h2",{className:o.join(" ")},Ct(i,n.props.dateFormat,n.props.locale))},n.renderYearDropdown=function(i){if(i===void 0&&(i=!1),!(!n.props.showYearDropdown||i))return ne.createElement(DV,rt({},e.defaultProps,n.props,{date:n.state.date,onChange:n.changeYear,year:$e(n.state.date)}))},n.renderMonthDropdown=function(i){if(i===void 0&&(i=!1),!(!n.props.showMonthDropdown||i))return ne.createElement(EV,rt({},e.defaultProps,n.props,{month:Sn(n.state.date),onChange:n.changeMonth}))},n.renderMonthYearDropdown=function(i){if(i===void 0&&(i=!1),!(!n.props.showMonthYearDropdown||i))return ne.createElement(TV,rt({},e.defaultProps,n.props,{date:n.state.date,onChange:n.changeMonthYear}))},n.handleTodayButtonClick=function(i){n.props.onSelect(AE(),i),n.props.setPreSelection&&n.props.setPreSelection(AE())},n.renderTodayButton=function(){if(!(!n.props.todayButton||n.props.showTimeSelectOnly))return ne.createElement("div",{className:"react-datepicker__today-button",onClick:n.handleTodayButtonClick},n.props.todayButton)},n.renderDefaultHeader=function(i){var o=i.monthDate,l=i.i;return ne.createElement("div",{className:"react-datepicker__header ".concat(n.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},n.renderCurrentMonth(o),ne.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(n.props.dropdownMode),onFocus:n.handleDropdownFocus},n.renderMonthDropdown(l!==0),n.renderMonthYearDropdown(l!==0),n.renderYearDropdown(l!==0)),ne.createElement("div",{className:"react-datepicker__day-names"},n.header(o)))},n.renderCustomHeader=function(i){var o,l,c=i.monthDate,d=i.i;if(n.props.showTimeSelect&&!n.state.monthContainer||n.props.showTimeSelectOnly)return null;var p=UE(n.state.date,n.props),m=jE(n.state.date,n.props),v=BE(n.state.date,n.props),E=zE(n.state.date,n.props),S=!n.props.showMonthYearPicker&&!n.props.showQuarterYearPicker&&!n.props.showYearPicker;return ne.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:n.props.onDropdownFocus},(l=(o=n.props).renderCustomHeader)===null||l===void 0?void 0:l.call(o,rt(rt({},n.state),{customHeaderCount:d,monthDate:c,changeMonth:n.changeMonth,changeYear:n.changeYear,decreaseMonth:n.decreaseMonth,increaseMonth:n.increaseMonth,decreaseYear:n.decreaseYear,increaseYear:n.increaseYear,prevMonthButtonDisabled:p,nextMonthButtonDisabled:m,prevYearButtonDisabled:v,nextYearButtonDisabled:E})),S&&ne.createElement("div",{className:"react-datepicker__day-names"},n.header(c)))},n.renderYearHeader=function(i){var o=i.monthDate,l=n.props,c=l.showYearPicker,d=l.yearItemNumber,p=d===void 0?e.defaultProps.yearItemNumber:d,m=Fs(o,p),v=m.startPeriod,E=m.endPeriod;return ne.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},c?"".concat(v," - ").concat(E):$e(o))},n.renderHeader=function(i){var o=i.monthDate,l=i.i,c=l===void 0?0:l,d={monthDate:o,i:c};switch(!0){case n.props.renderCustomHeader!==void 0:return n.renderCustomHeader(d);case(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker):return n.renderYearHeader(d);default:return n.renderDefaultHeader(d)}},n.renderMonths=function(){var i,o;if(!(n.props.showTimeSelectOnly||n.props.showYearPicker)){for(var l=[],c=(i=n.props.monthsShown)!==null&&i!==void 0?i:e.defaultProps.monthsShown,d=n.props.showPreviousMonths?c-1:0,p=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?ji(n.state.date,d):zo(n.state.date,d),m=(o=n.props.monthSelectedIn)!==null&&o!==void 0?o:d,v=0;v<c;++v){var E=v-m+d,S=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?ji(p,E):Ur(p,E),T="month-".concat(v),L=v<c-1,P=v>0;l.push(ne.createElement("div",{key:T,ref:function(V){n.monthContainer=V??void 0},className:"react-datepicker__month-container"},n.renderHeader({monthDate:S,i:v}),ne.createElement(_V,rt({},e.defaultProps,n.props,{ariaLabelPrefix:n.props.monthAriaLabelPrefix,day:S,onDayClick:n.handleDayClick,handleOnKeyDown:n.props.handleOnDayKeyDown,handleOnMonthKeyDown:n.props.handleOnKeyDown,onDayMouseEnter:n.handleDayMouseEnter,onMouseLeave:n.handleMonthMouseLeave,orderInDisplay:v,selectingDate:n.state.selectingDate,monthShowsDuplicateDaysEnd:L,monthShowsDuplicateDaysStart:P}))))}return l}},n.renderYears=function(){if(!n.props.showTimeSelectOnly&&n.props.showYearPicker)return ne.createElement("div",{className:"react-datepicker__year--container"},n.renderHeader({monthDate:n.state.date}),ne.createElement(bV,rt({},e.defaultProps,n.props,{selectingDate:n.state.selectingDate,date:n.state.date,onDayClick:n.handleDayClick,clearSelectingDate:n.clearSelectingDate,onYearMouseEnter:n.handleYearMouseEnter,onYearMouseLeave:n.handleYearMouseLeave})))},n.renderTimeSection=function(){if(n.props.showTimeSelect&&(n.state.monthContainer||n.props.showTimeSelectOnly))return ne.createElement(kV,rt({},e.defaultProps,n.props,{onChange:n.props.onTimeChange,format:n.props.timeFormat,intervals:n.props.timeIntervals,monthRef:n.state.monthContainer}))},n.renderInputTimeSection=function(){var i=n.props.selected?new Date(n.props.selected):void 0,o=i&&Sh(i)&&!!n.props.selected,l=o?"".concat(HE(i.getHours()),":").concat(HE(i.getMinutes())):"";if(n.props.showTimeInput)return ne.createElement(pV,rt({},e.defaultProps,n.props,{date:i,timeString:l,onChange:n.props.onTimeChange}))},n.renderAriaLiveRegion=function(){var i,o=Fs(n.state.date,(i=n.props.yearItemNumber)!==null&&i!==void 0?i:e.defaultProps.yearItemNumber),l=o.startPeriod,c=o.endPeriod,d;return n.props.showYearPicker?d="".concat(l," - ").concat(c):n.props.showMonthYearPicker||n.props.showQuarterYearPicker?d=$e(n.state.date):d="".concat(wv(Sn(n.state.date),n.props.locale)," ").concat($e(n.state.date)),ne.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},n.state.isRenderAriaLiveMessage&&d)},n.renderChildren=function(){if(n.props.children)return ne.createElement("div",{className:"react-datepicker__children-container"},n.props.children)},n.containerRef=y.createRef(),n.state={date:n.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:uc}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){var t=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){t.setState({monthContainer:t.monthContainer})}())},e.prototype.componentDidUpdate=function(t){var n=this;if(this.props.preSelection&&(!nt(this.props.preSelection,t.preSelection)||this.props.monthSelectedIn!==t.monthSelectedIn)){var i=!Cn(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return i&&n.handleCustomMonthChange(n.state.date)})}else this.props.openToDate&&!nt(this.props.openToDate,t.openToDate)&&this.setState({date:this.props.openToDate})},e.prototype.render=function(){var t=this.props.container||Y2;return ne.createElement(Ch,{onClickOutside:this.handleClickOutside,style:{display:"contents"},containerRef:this.containerRef,ignoreClass:this.props.outsideClickIgnoreClass},ne.createElement(t,{className:an("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren()))},e}(y.Component),MV=function(r){var e=r.icon,t=r.className,n=t===void 0?"":t,i=r.onClick,o="react-datepicker__calendar-icon";if(typeof e=="string")return ne.createElement("i",{className:"".concat(o," ").concat(e," ").concat(n),"aria-hidden":"true",onClick:i});if(ne.isValidElement(e)){var l=e;return ne.cloneElement(l,{className:"".concat(l.props.className||""," ").concat(o," ").concat(n),onClick:function(c){typeof l.props.onClick=="function"&&l.props.onClick(c),typeof i=="function"&&i(c)}})}return ne.createElement("svg",{className:"".concat(o," ").concat(n),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:i},ne.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},Dk=function(r){Jt(e,r);function e(t){var n=r.call(this,t)||this;return n.portalRoot=null,n.el=document.createElement("div"),n}return e.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},e.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},e.prototype.render=function(){return sI.createPortal(this.props.children,this.el)},e}(y.Component),AV="[tabindex], a, button, input, select, textarea",OV=function(r){return(r instanceof HTMLAnchorElement||!r.disabled)&&r.tabIndex!==-1},xk=function(r){Jt(e,r);function e(t){var n=r.call(this,t)||this;return n.getTabChildren=function(){var i;return Array.prototype.slice.call((i=n.tabLoopRef.current)===null||i===void 0?void 0:i.querySelectorAll(AV),1,-1).filter(OV)},n.handleFocusStart=function(){var i=n.getTabChildren();i&&i.length>1&&i[i.length-1].focus()},n.handleFocusEnd=function(){var i=n.getTabChildren();i&&i.length>1&&i[0].focus()},n.tabLoopRef=y.createRef(),n}return e.prototype.render=function(){var t;return((t=this.props.enableTabLoop)!==null&&t!==void 0?t:e.defaultProps.enableTabLoop)?ne.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},ne.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,ne.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},e.defaultProps={enableTabLoop:!0},e}(y.Component);function NV(r){var e=function(t){var n,i=typeof t.hidePopper=="boolean"?t.hidePopper:!0,o=y.useRef(null),l=$2(rt({open:!i,whileElementsMounted:S2,placement:t.popperPlacement,middleware:di([x2({padding:15}),D2(10),L2({element:o})],(n=t.popperModifiers)!==null&&n!==void 0?n:[],!0)},t.popperProps)),c=rt(rt({},t),{hidePopper:i,popperProps:rt(rt({},l),{arrowRef:o})});return ne.createElement(r,rt({},c))};return e}var VV=function(r){Jt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t=this.props,n=t.className,i=t.wrapperClassName,o=t.hidePopper,l=o===void 0?e.defaultProps.hidePopper:o,c=t.popperComponent,d=t.targetComponent,p=t.enableTabLoop,m=t.popperOnKeyDown,v=t.portalId,E=t.portalHost,S=t.popperProps,T=t.showArrow,L=void 0;if(!l){var P=an("react-datepicker-popper",n);L=ne.createElement(xk,{enableTabLoop:p},ne.createElement("div",{ref:S.refs.setFloating,style:S.floatingStyles,className:P,"data-placement":S.placement,onKeyDown:m},c,T&&ne.createElement(F2,{ref:S.arrowRef,context:S.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(L=y.createElement(this.props.popperContainer,{},L)),v&&!l&&(L=ne.createElement(Dk,{portalId:v,portalHost:E},L));var V=an("react-datepicker-wrapper",i);return ne.createElement(ne.Fragment,null,ne.createElement("div",{ref:S.refs.setReference,className:V},d),L)},e}(y.Component),FV=NV(VV),QE="react-datepicker-ignore-onclickoutside";function UV(r,e){return r&&e?Sn(r)!==Sn(e)||$e(r)!==$e(e):r!==e}var wm="Date input not valid.",XE=function(r){Jt(e,r);function e(t){var n=r.call(this,t)||this;return n.calendar=null,n.input=null,n.getPreSelection=function(){return n.props.openToDate?n.props.openToDate:n.props.selectsEnd&&n.props.startDate?n.props.startDate:n.props.selectsStart&&n.props.endDate?n.props.endDate:at()},n.modifyHolidays=function(){var i;return(i=n.props.holidays)===null||i===void 0?void 0:i.reduce(function(o,l){var c=new Date(l.date);return Sh(c)?di(di([],o,!0),[rt(rt({},l),{date:c})],!1):o},[])},n.calcInitialState=function(){var i,o=n.getPreSelection(),l=bk(n.props),c=Ik(n.props),d=l&&Ko(o,tf(l))?l:c&&to(o,OE(c))?c:o;return{open:n.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(i=n.props.selectsRange?n.props.startDate:n.props.selected)!==null&&i!==void 0?i:d,highlightDates:WE(n.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},n.resetHiddenStatus=function(){n.setState(rt(rt({},n.state),{wasHidden:!1}))},n.setHiddenStatus=function(){n.setState(rt(rt({},n.state),{wasHidden:!0}))},n.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&n.setHiddenStatus()},n.clearPreventFocusTimeout=function(){n.preventFocusTimeout&&clearTimeout(n.preventFocusTimeout)},n.safeFocus=function(){setTimeout(function(){var i,o;(o=(i=n.input)===null||i===void 0?void 0:i.focus)===null||o===void 0||o.call(i,{preventScroll:!0})},0)},n.safeBlur=function(){setTimeout(function(){var i,o;(o=(i=n.input)===null||i===void 0?void 0:i.blur)===null||o===void 0||o.call(i)},0)},n.setFocus=function(){n.safeFocus()},n.setBlur=function(){n.safeBlur(),n.cancelFocusInput()},n.setOpen=function(i,o){o===void 0&&(o=!1),n.setState({open:i,preSelection:i&&n.state.open?n.state.preSelection:n.calcInitialState().preSelection,lastPreSelectChange:Em},function(){i||n.setState(function(l){return{focused:o?l.focused:!1}},function(){!o&&n.setBlur(),n.setState({inputValue:null})})})},n.inputOk=function(){return Bi(n.state.preSelection)},n.isCalendarOpen=function(){return n.props.open===void 0?n.state.open&&!n.props.disabled&&!n.props.readOnly:n.props.open},n.handleFocus=function(i){var o,l,c=n.state.wasHidden,d=c?n.state.open:!0;c&&n.resetHiddenStatus(),n.state.preventFocus||((l=(o=n.props).onFocus)===null||l===void 0||l.call(o,i),d&&!n.props.preventOpenOnFocus&&!n.props.readOnly&&n.setOpen(!0)),n.setState({focused:!0})},n.sendFocusBackToInput=function(){n.preventFocusTimeout&&n.clearPreventFocusTimeout(),n.setState({preventFocus:!0},function(){n.preventFocusTimeout=setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})})},n.cancelFocusInput=function(){clearTimeout(n.inputFocusTimeout),n.inputFocusTimeout=void 0},n.deferFocusInput=function(){n.cancelFocusInput(),n.inputFocusTimeout=setTimeout(function(){return n.setFocus()},1)},n.handleDropdownFocus=function(){n.cancelFocusInput()},n.handleBlur=function(i){var o,l;(!n.state.open||n.props.withPortal||n.props.showTimeInput)&&((l=(o=n.props).onBlur)===null||l===void 0||l.call(o,i)),n.setState({focused:!1})},n.handleCalendarClickOutside=function(i){var o,l;n.props.inline||n.setOpen(!1),(l=(o=n.props).onClickOutside)===null||l===void 0||l.call(o,i),n.props.withPortal&&i.preventDefault()},n.handleChange=function(){for(var i,o,l,c,d,p=[],m=0;m<arguments.length;m++)p[m]=arguments[m];var v=p[0];if(!(n.props.onChangeRaw&&(n.props.onChangeRaw.apply(n,p),!v||typeof v.isDefaultPrevented!="function"||v.isDefaultPrevented()))){n.setState({inputValue:(v==null?void 0:v.target)instanceof HTMLInputElement?v.target.value:null,lastPreSelectChange:jV});var E=n.props,S=E.selectsRange,T=E.startDate,L=E.endDate,P=(i=n.props.dateFormat)!==null&&i!==void 0?i:e.defaultProps.dateFormat,V=(o=n.props.strictParsing)!==null&&o!==void 0?o:e.defaultProps.strictParsing,F=(v==null?void 0:v.target)instanceof HTMLInputElement?v.target.value:"";if(S){var H=F.split("-",2).map(function(A){return A.trim()}),j=H[0],z=H[1],$=vm(j??"",P,n.props.locale,V),D=vm(z??"",P,n.props.locale,V),I=(T==null?void 0:T.getTime())!==($==null?void 0:$.getTime()),k=(L==null?void 0:L.getTime())!==(D==null?void 0:D.getTime());if(!I&&!k||$&&fr($,n.props)||D&&fr(D,n.props))return;(c=(l=n.props).onChange)===null||c===void 0||c.call(l,[$,D],v)}else{var R=vm(F,P,n.props.locale,V,(d=n.props.selected)!==null&&d!==void 0?d:void 0);(R||!F)&&n.setSelected(R,v,!0)}}},n.handleSelect=function(i,o,l){if(n.props.shouldCloseOnSelect&&!n.props.showTimeSelect&&n.sendFocusBackToInput(),n.props.onChangeRaw&&n.props.onChangeRaw(o),n.setSelected(i,o,!1,l),n.props.showDateSelect&&n.setState({isRenderAriaLiveMessage:!0}),!n.props.shouldCloseOnSelect||n.props.showTimeSelect)n.setPreSelection(i);else if(!n.props.inline){n.props.selectsRange||n.setOpen(!1);var c=n.props,d=c.startDate,p=c.endDate;d&&!p&&(n.props.swapRange||!qE(i,d))&&n.setOpen(!1)}},n.setSelected=function(i,o,l,c){var d,p,m=i;if(n.props.showYearPicker){if(m!==null&&nf($e(m),n.props))return}else if(n.props.showMonthYearPicker){if(m!==null&&kk(m,n.props))return}else if(m!==null&&fr(m,n.props))return;var v=n.props,E=v.onChange,S=v.selectsRange,T=v.startDate,L=v.endDate,P=v.selectsMultiple,V=v.selectedDates,F=v.minTime,H=v.swapRange;if(!jo(n.props.selected,m)||n.props.allowSameDay||S||P)if(m!==null&&(n.props.selected&&(!l||!n.props.showTimeSelect&&!n.props.showTimeSelectOnly&&!n.props.showTimeInput)&&(m=ym(m,{hour:zi(n.props.selected),minute:Wi(n.props.selected),second:qs(n.props.selected)})),!l&&(n.props.showTimeSelect||n.props.showTimeSelectOnly)&&F&&(m=ym(m,{hour:F.getHours(),minute:F.getMinutes(),second:F.getSeconds()})),n.props.inline||n.setState({preSelection:m}),n.props.focusSelectedMonth||n.setState({monthSelectedIn:c})),S){var j=!T&&!L,z=T&&!L,$=T&&L;j?E==null||E([m,null],o):z&&(m===null?E==null||E([null,null],o):qE(m,T)?H?E==null||E([m,T],o):E==null||E([m,null],o):E==null||E([T,m],o)),$&&(E==null||E([m,null],o))}else if(P){if(m!==null)if(!(V!=null&&V.length))E==null||E([m],o);else{var D=V.some(function(k){return nt(k,m)});if(D){var I=V.filter(function(k){return!nt(k,m)});E==null||E(I,o)}else E==null||E(di(di([],V,!0),[m],!1),o)}}else E==null||E(m,o);l||((p=(d=n.props).onSelect)===null||p===void 0||p.call(d,m,o),n.setState({inputValue:null}))},n.setPreSelection=function(i){var o=Bi(n.props.minDate),l=Bi(n.props.maxDate),c=!0;if(i){var d=tf(i);if(o&&l)c=ku(i,n.props.minDate,n.props.maxDate);else if(o){var p=tf(n.props.minDate);c=to(i,p)||jo(d,p)}else if(l){var m=OE(n.props.maxDate);c=Ko(i,m)||jo(d,m)}}c&&n.setState({preSelection:i})},n.toggleCalendar=function(){n.setOpen(!n.state.open)},n.handleTimeChange=function(i){var o,l;if(!(n.props.selectsRange||n.props.selectsMultiple)){var c=n.props.selected?n.props.selected:n.getPreSelection(),d=n.props.selected?i:ym(c,{hour:zi(i),minute:Wi(i)});n.setState({preSelection:d}),(l=(o=n.props).onChange)===null||l===void 0||l.call(o,d),n.props.shouldCloseOnSelect&&!n.props.showTimeInput&&(n.sendFocusBackToInput(),n.setOpen(!1)),n.props.showTimeInput&&n.setOpen(!0),(n.props.showTimeSelectOnly||n.props.showTimeSelect)&&n.setState({isRenderAriaLiveMessage:!0}),n.setState({inputValue:null})}},n.onInputClick=function(){var i,o;!n.props.disabled&&!n.props.readOnly&&n.setOpen(!0),(o=(i=n.props).onInputClick)===null||o===void 0||o.call(i)},n.onInputKeyDown=function(i){var o,l,c,d,p,m;(l=(o=n.props).onKeyDown)===null||l===void 0||l.call(o,i);var v=i.key;if(!n.state.open&&!n.props.inline&&!n.props.preventOpenOnFocus){(v===ve.ArrowDown||v===ve.ArrowUp||v===ve.Enter)&&((c=n.onInputClick)===null||c===void 0||c.call(n));return}if(n.state.open){if(v===ve.ArrowDown||v===ve.ArrowUp){i.preventDefault();var E=n.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":n.props.showWeekPicker&&n.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':n.props.showFullMonthYearPicker||n.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',S=((d=n.calendar)===null||d===void 0?void 0:d.containerRef.current)instanceof Element&&n.calendar.containerRef.current.querySelector(E);S instanceof HTMLElement&&S.focus({preventScroll:!0});return}var T=at(n.state.preSelection);v===ve.Enter?(i.preventDefault(),i.target.blur(),n.inputOk()&&n.state.lastPreSelectChange===Em?(n.handleSelect(T,i),!n.props.shouldCloseOnSelect&&n.setPreSelection(T)):n.setOpen(!1)):v===ve.Escape?(i.preventDefault(),i.target.blur(),n.sendFocusBackToInput(),n.setOpen(!1)):v===ve.Tab&&n.setOpen(!1),n.inputOk()||(m=(p=n.props).onInputError)===null||m===void 0||m.call(p,{code:1,msg:wm})}},n.onPortalKeyDown=function(i){var o=i.key;o===ve.Escape&&(i.preventDefault(),n.setState({preventFocus:!0},function(){n.setOpen(!1),setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})}))},n.onDayKeyDown=function(i){var o,l,c,d,p,m,v=n.props,E=v.minDate,S=v.maxDate,T=v.disabledKeyboardNavigation,L=v.showWeekPicker,P=v.shouldCloseOnSelect,V=v.locale,F=v.calendarStartDay,H=v.adjustDateOnChange,j=v.inline;if((l=(o=n.props).onKeyDown)===null||l===void 0||l.call(o,i),!T){var z=i.key,$=i.shiftKey,D=at(n.state.preSelection),I=function(me,ce){var he=ce;switch(me){case ve.ArrowRight:he=L?kf(ce,1):Vr(ce,1);break;case ve.ArrowLeft:he=L?TE(ce):PN(ce);break;case ve.ArrowUp:he=TE(ce);break;case ve.ArrowDown:he=kf(ce,1);break;case ve.PageUp:he=$?dl(ce,1):zo(ce,1);break;case ve.PageDown:he=$?ji(ce,1):Ur(ce,1);break;case ve.Home:he=Ks(ce,V,F);break;case ve.End:he=Z2(ce);break}return he},k=function(me,ce){for(var he=40,G=me,ae=!1,re=0,U=I(me,ce);!ae;){if(re>=he){U=ce;break}E&&U<E&&(G=ve.ArrowRight,U=fr(E,n.props)?I(G,U):E),S&&U>S&&(G=ve.ArrowLeft,U=fr(S,n.props)?I(G,U):S),fr(U,n.props)?((G===ve.PageUp||G===ve.Home)&&(G=ve.ArrowRight),(G===ve.PageDown||G===ve.End)&&(G=ve.ArrowLeft),U=I(G,U)):ae=!0,re++}return U};if(z===ve.Enter){i.preventDefault(),n.handleSelect(D,i),!P&&n.setPreSelection(D);return}else if(z===ve.Escape){i.preventDefault(),n.setOpen(!1),n.inputOk()||(d=(c=n.props).onInputError)===null||d===void 0||d.call(c,{code:1,msg:wm});return}var R=null;switch(z){case ve.ArrowLeft:case ve.ArrowRight:case ve.ArrowUp:case ve.ArrowDown:case ve.PageUp:case ve.PageDown:case ve.Home:case ve.End:R=k(z,D);break}if(!R){(m=(p=n.props).onInputError)===null||m===void 0||m.call(p,{code:1,msg:wm});return}if(i.preventDefault(),n.setState({lastPreSelectChange:Em}),H&&n.setSelected(R),n.setPreSelection(R),j){var A=Sn(D),N=Sn(R),M=$e(D),fe=$e(R);A!==N||M!==fe?n.setState({shouldFocusDayInline:!0}):n.setState({shouldFocusDayInline:!1})}}},n.onPopperKeyDown=function(i){var o=i.key;o===ve.Escape&&(i.preventDefault(),n.sendFocusBackToInput())},n.onClearClick=function(i){i&&i.preventDefault&&i.preventDefault(),n.sendFocusBackToInput();var o=n.props,l=o.selectsRange,c=o.onChange;l?c==null||c([null,null],i):c==null||c(null,i),n.setState({inputValue:null})},n.clear=function(){n.onClearClick()},n.onScroll=function(i){typeof n.props.closeOnScroll=="boolean"&&n.props.closeOnScroll?(i.target===document||i.target===document.documentElement||i.target===document.body)&&n.setOpen(!1):typeof n.props.closeOnScroll=="function"&&n.props.closeOnScroll(i)&&n.setOpen(!1)},n.renderCalendar=function(){var i,o;return!n.props.inline&&!n.isCalendarOpen()?null:ne.createElement(RV,rt({showMonthYearDropdown:void 0,ref:function(l){n.calendar=l}},n.props,n.state,{setOpen:n.setOpen,dateFormat:(i=n.props.dateFormatCalendar)!==null&&i!==void 0?i:e.defaultProps.dateFormatCalendar,onSelect:n.handleSelect,onClickOutside:n.handleCalendarClickOutside,holidays:cV(n.modifyHolidays()),outsideClickIgnoreClass:QE,onDropdownFocus:n.handleDropdownFocus,onTimeChange:n.handleTimeChange,className:n.props.calendarClassName,container:n.props.calendarContainer,handleOnKeyDown:n.props.onKeyDown,handleOnDayKeyDown:n.onDayKeyDown,setPreSelection:n.setPreSelection,dropdownMode:(o=n.props.dropdownMode)!==null&&o!==void 0?o:e.defaultProps.dropdownMode}),n.props.children)},n.renderAriaLiveRegion=function(){var i=n.props,o=i.dateFormat,l=o===void 0?e.defaultProps.dateFormat:o,c=i.locale,d=n.props.showTimeInput||n.props.showTimeSelect,p=d?"PPPPp":"PPPP",m;return n.props.selectsRange?m="Selected start date: ".concat(cr(n.props.startDate,{dateFormat:p,locale:c}),". ").concat(n.props.endDate?"End date: "+cr(n.props.endDate,{dateFormat:p,locale:c}):""):n.props.showTimeSelectOnly?m="Selected time: ".concat(cr(n.props.selected,{dateFormat:l,locale:c})):n.props.showYearPicker?m="Selected year: ".concat(cr(n.props.selected,{dateFormat:"yyyy",locale:c})):n.props.showMonthYearPicker?m="Selected month: ".concat(cr(n.props.selected,{dateFormat:"MMMM yyyy",locale:c})):n.props.showQuarterYearPicker?m="Selected quarter: ".concat(cr(n.props.selected,{dateFormat:"yyyy, QQQ",locale:c})):m="Selected date: ".concat(cr(n.props.selected,{dateFormat:p,locale:c})),ne.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},m)},n.renderDateInput=function(){var i,o,l,c=an(n.props.className,(i={},i[QE]=n.state.open,i)),d=n.props.customInput||ne.createElement("input",{type:"text"}),p=n.props.customInputRef||"ref",m=n.props,v=m.dateFormat,E=v===void 0?e.defaultProps.dateFormat:v,S=m.locale,T=typeof n.props.value=="string"?n.props.value:typeof n.state.inputValue=="string"?n.state.inputValue:n.props.selectsRange?K2(n.props.startDate,n.props.endDate,{dateFormat:E,locale:S}):n.props.selectsMultiple?G2((l=n.props.selectedDates)!==null&&l!==void 0?l:[],{dateFormat:E,locale:S}):cr(n.props.selected,{dateFormat:E,locale:S});return y.cloneElement(d,(o={},o[p]=function(L){n.input=L},o.value=T,o.onBlur=n.handleBlur,o.onChange=n.handleChange,o.onClick=n.onInputClick,o.onFocus=n.handleFocus,o.onKeyDown=n.onInputKeyDown,o.id=n.props.id,o.name=n.props.name,o.form=n.props.form,o.autoFocus=n.props.autoFocus,o.placeholder=n.props.placeholderText,o.disabled=n.props.disabled,o.autoComplete=n.props.autoComplete,o.className=an(d.props.className,c),o.title=n.props.title,o.readOnly=n.props.readOnly,o.required=n.props.required,o.tabIndex=n.props.tabIndex,o["aria-describedby"]=n.props.ariaDescribedBy,o["aria-invalid"]=n.props.ariaInvalid,o["aria-labelledby"]=n.props.ariaLabelledBy,o["aria-required"]=n.props.ariaRequired,o))},n.renderClearButton=function(){var i=n.props,o=i.isClearable,l=i.disabled,c=i.selected,d=i.startDate,p=i.endDate,m=i.clearButtonTitle,v=i.clearButtonClassName,E=v===void 0?"":v,S=i.ariaLabelClose,T=S===void 0?"Close":S,L=i.selectedDates;return o&&(c!=null||d!=null||p!=null||L!=null&&L.length)?ne.createElement("button",{type:"button",className:an("react-datepicker__close-icon",E,{"react-datepicker__close-icon--disabled":l}),disabled:l,"aria-label":T,onClick:n.onClearClick,title:m,tabIndex:-1}):null},n.state=n.calcInitialState(),n.preventFocusTimeout=void 0,n}return Object.defineProperty(e,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:uc,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.componentDidUpdate=function(t,n){var i,o,l,c;t.inline&&UV(t.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&t.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),t.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:WE(this.props.highlightDates)}),!n.focused&&!jo(t.selected,this.props.selected)&&this.setState({inputValue:null}),n.open!==this.state.open&&(n.open===!1&&this.state.open===!0&&((o=(i=this.props).onCalendarOpen)===null||o===void 0||o.call(i)),n.open===!0&&this.state.open===!1&&((c=(l=this.props).onCalendarClose)===null||c===void 0||c.call(l)))},e.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.renderInputContainer=function(){var t=this.props,n=t.showIcon,i=t.icon,o=t.calendarIconClassname,l=t.calendarIconClassName,c=t.toggleCalendarOnIconClick,d=this.state.open;return o&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),ne.createElement("div",{className:"react-datepicker__input-container".concat(n?" react-datepicker__view-calendar-icon":"")},n&&ne.createElement(MV,rt({icon:i,className:an(l,!l&&o,d&&"react-datepicker-ignore-onclickoutside")},c?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},e.prototype.render=function(){var t=this.renderCalendar();if(this.props.inline)return t;if(this.props.withPortal){var n=this.state.open?ne.createElement(xk,{enableTabLoop:this.props.enableTabLoop},ne.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},t)):null;return this.state.open&&this.props.portalId&&(n=ne.createElement(Dk,rt({portalId:this.props.portalId},this.props),n)),ne.createElement("div",null,this.renderInputContainer(),n)}return ne.createElement(FV,rt({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:t,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},e}(y.Component),jV="input",Em="navigate";function Yu(r){"@babel/helpers - typeof";return Yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yu(r)}function BV(r,e){if(Yu(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(Yu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function zV(r){var e=BV(r,"string");return Yu(e)=="symbol"?e:e+""}function te(r,e,t){return(e=zV(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Lk(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Cm,ZE;function WV(){if(ZE)return Cm;ZE=1;var r=function(t,n,i,o,l,c,d,p){if(!t){var m;if(n===void 0)m=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var v=[i,o,l,c,d,p],E=0;m=new Error(n.replace(/%s/g,function(){return v[E++]})),m.name="Invariant Violation"}throw m.framesToPop=1,m}};return Cm=r,Cm}var HV=WV(),Ht=Lk(HV),We=y.createContext(null);function $V(){Ht(!!y.useContext,"useGoogleMap is React hook and requires React version 16.8+");var r=y.useContext(We);return Ht(!!r,"useGoogleMap needs a GoogleMap available up in the tree"),r}function YV(r,e,t){return Object.keys(r).reduce(function(i,o){return e(i,r[o],o)},t)}function qV(r,e){Object.keys(r).forEach(t=>e(r[t],t))}function KV(r,e,t,n){var i={},o=(l,c)=>{var d=t[c];d!==e[c]&&(i[c]=d,l(n,d))};return qV(r,o),i}function GV(r,e,t){var n=YV(t,function(o,l,c){return typeof r[c]=="function"&&o.push(google.maps.event.addListener(e,l,r[c])),o},[]);return n}function QV(r){google.maps.event.removeListener(r)}function qe(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];r.forEach(QV)}function Ye(r){var{updaterMap:e,eventMap:t,prevProps:n,nextProps:i,instance:o}=r,l=GV(i,o,t);return KV(e,n,i,o),l}var JE={onDblClick:"dblclick",onDragEnd:"dragend",onDragStart:"dragstart",onMapTypeIdChanged:"maptypeid_changed",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseDown:"mousedown",onMouseUp:"mouseup",onRightClick:"rightclick",onTilesLoaded:"tilesloaded",onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onDrag:"drag",onHeadingChanged:"heading_changed",onIdle:"idle",onProjectionChanged:"projection_changed",onResize:"resize",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed"},eC={extraMapTypes(r,e){e.forEach(function(n,i){r.mapTypes.set(String(i),n)})},center(r,e){r.setCenter(e)},clickableIcons(r,e){r.setClickableIcons(e)},heading(r,e){r.setHeading(e)},mapTypeId(r,e){r.setMapTypeId(e)},options(r,e){r.setOptions(e)},streetView(r,e){r.setStreetView(e)},tilt(r,e){r.setTilt(e)},zoom(r,e){r.setZoom(e)}};function XV(r){var{children:e,options:t,id:n,mapContainerStyle:i,mapContainerClassName:o,center:l,onClick:c,onDblClick:d,onDrag:p,onDragEnd:m,onDragStart:v,onMouseMove:E,onMouseOut:S,onMouseOver:T,onMouseDown:L,onMouseUp:P,onRightClick:V,onCenterChanged:F,onLoad:H,onUnmount:j}=r,[z,$]=y.useState(null),D=y.useRef(null),[I,k]=y.useState(null),[R,A]=y.useState(null),[N,M]=y.useState(null),[fe,me]=y.useState(null),[ce,he]=y.useState(null),[G,ae]=y.useState(null),[re,U]=y.useState(null),[J,oe]=y.useState(null),[we,X]=y.useState(null),[xe,Le]=y.useState(null),[ye,Ve]=y.useState(null),[Se,ze]=y.useState(null);return y.useEffect(()=>{t&&z!==null&&z.setOptions(t)},[z,t]),y.useEffect(()=>{z!==null&&typeof l<"u"&&z.setCenter(l)},[z,l]),y.useEffect(()=>{z&&d&&(R!==null&&google.maps.event.removeListener(R),A(google.maps.event.addListener(z,"dblclick",d)))},[d]),y.useEffect(()=>{z&&m&&(N!==null&&google.maps.event.removeListener(N),M(google.maps.event.addListener(z,"dragend",m)))},[m]),y.useEffect(()=>{z&&v&&(fe!==null&&google.maps.event.removeListener(fe),me(google.maps.event.addListener(z,"dragstart",v)))},[v]),y.useEffect(()=>{z&&L&&(ce!==null&&google.maps.event.removeListener(ce),he(google.maps.event.addListener(z,"mousedown",L)))},[L]),y.useEffect(()=>{z&&E&&(G!==null&&google.maps.event.removeListener(G),ae(google.maps.event.addListener(z,"mousemove",E)))},[E]),y.useEffect(()=>{z&&S&&(re!==null&&google.maps.event.removeListener(re),U(google.maps.event.addListener(z,"mouseout",S)))},[S]),y.useEffect(()=>{z&&T&&(J!==null&&google.maps.event.removeListener(J),oe(google.maps.event.addListener(z,"mouseover",T)))},[T]),y.useEffect(()=>{z&&P&&(we!==null&&google.maps.event.removeListener(we),X(google.maps.event.addListener(z,"mouseup",P)))},[P]),y.useEffect(()=>{z&&V&&(xe!==null&&google.maps.event.removeListener(xe),Le(google.maps.event.addListener(z,"rightclick",V)))},[V]),y.useEffect(()=>{z&&c&&(ye!==null&&google.maps.event.removeListener(ye),Ve(google.maps.event.addListener(z,"click",c)))},[c]),y.useEffect(()=>{z&&p&&(Se!==null&&google.maps.event.removeListener(Se),ze(google.maps.event.addListener(z,"drag",p)))},[p]),y.useEffect(()=>{z&&F&&(I!==null&&google.maps.event.removeListener(I),k(google.maps.event.addListener(z,"center_changed",F)))},[c]),y.useEffect(()=>{var $t=D.current===null?null:new google.maps.Map(D.current,t);return $($t),$t!==null&&H&&H($t),()=>{$t!==null&&j&&j($t)}},[]),Q.jsx("div",{id:n,ref:D,style:i,className:o,children:Q.jsx(We.Provider,{value:z,children:z!==null?e:null})})}y.memo(XV);class ZV extends y.PureComponent{constructor(){super(...arguments),te(this,"state",{map:null}),te(this,"registeredEvents",[]),te(this,"mapRef",null),te(this,"getInstance",()=>this.mapRef===null?null:new google.maps.Map(this.mapRef,this.props.options)),te(this,"panTo",e=>{var t=this.getInstance();t&&t.panTo(e)}),te(this,"setMapCallback",()=>{this.state.map!==null&&this.props.onLoad&&this.props.onLoad(this.state.map)}),te(this,"getRef",e=>{this.mapRef=e})}componentDidMount(){var e=this.getInstance();this.registeredEvents=Ye({updaterMap:eC,eventMap:JE,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{map:e}},this.setMapCallback)}componentDidUpdate(e){this.state.map!==null&&(qe(this.registeredEvents),this.registeredEvents=Ye({updaterMap:eC,eventMap:JE,prevProps:e,nextProps:this.props,instance:this.state.map}))}componentWillUnmount(){this.state.map!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.map),qe(this.registeredEvents))}render(){return Q.jsx("div",{id:this.props.id,ref:this.getRef,style:this.props.mapContainerStyle,className:this.props.mapContainerClassName,children:Q.jsx(We.Provider,{value:this.state.map,children:this.state.map!==null?this.props.children:null})})}}function tC(r,e,t,n,i,o,l){try{var c=r[o](l),d=c.value}catch(p){return void t(p)}c.done?e(d):Promise.resolve(d).then(n,i)}function Rk(r){return function(){var e=this,t=arguments;return new Promise(function(n,i){var o=r.apply(e,t);function l(d){tC(o,n,i,l,c,"next",d)}function c(d){tC(o,n,i,l,c,"throw",d)}l(void 0)})}}function Mk(r){var{googleMapsApiKey:e,googleMapsClientId:t,version:n="weekly",language:i,region:o,libraries:l,channel:c,mapIds:d,authReferrerPolicy:p}=r,m=[];return Ht(e&&t||!(e&&t),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),e?m.push("key=".concat(e)):t&&m.push("client=".concat(t)),n&&m.push("v=".concat(n)),i&&m.push("language=".concat(i)),o&&m.push("region=".concat(o)),l&&l.length&&m.push("libraries=".concat(l.sort().join(","))),c&&m.push("channel=".concat(c)),d&&d.length&&m.push("map_ids=".concat(d.join(","))),p&&m.push("auth_referrer_policy=".concat(p)),m.push("loading=async"),m.push("callback=initMap"),"https://maps.googleapis.com/maps/api/js?".concat(m.join("&"))}var Us=typeof document<"u";function Ak(r){var{url:e,id:t,nonce:n}=r;return Us?new Promise(function(o,l){var c=document.getElementById(t),d=window;if(c){var p=c.getAttribute("data-state");if(c.src===e&&p!=="error"){if(p==="ready")return o(t);var m=d.initMap,v=c.onerror;d.initMap=function(){m&&m(),o(t)},c.onerror=function(S){v&&v(S),l(S)};return}else c.remove()}var E=document.createElement("script");E.type="text/javascript",E.src=e,E.id=t,E.async=!0,E.nonce=n||"",E.onerror=function(T){E.setAttribute("data-state","error"),l(T)},d.initMap=function(){E.setAttribute("data-state","ready"),o(t)},document.head.appendChild(E)}).catch(i=>{throw console.error("injectScript error: ",i),i}):Promise.reject(new Error("document is undefined"))}function nC(r){var e=r.href;return e&&(e.indexOf("https://fonts.googleapis.com/css?family=Roboto")===0||e.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text")===0)?!0:r.tagName.toLowerCase()==="style"&&r.styleSheet&&r.styleSheet.cssText&&r.styleSheet.cssText.replace(`\r
`,"").indexOf(".gm-style")===0?(r.styleSheet.cssText="",!0):r.tagName.toLowerCase()==="style"&&r.innerHTML&&r.innerHTML.replace(`\r
`,"").indexOf(".gm-style")===0?(r.innerHTML="",!0):r.tagName.toLowerCase()==="style"&&!r.styleSheet&&!r.innerHTML}function Cv(){var r=document.getElementsByTagName("head")[0];if(r){var e=r.insertBefore.bind(r);r.insertBefore=function(i,o){return nC(i)||Reflect.apply(e,r,[i,o]),i};var t=r.appendChild.bind(r);r.appendChild=function(i){return nC(i)||Reflect.apply(t,r,[i]),i}}}var mu=!1;function Ok(){return Q.jsx("div",{children:"Loading..."})}var qu={id:"script-loader",version:"weekly"};class JV extends y.PureComponent{constructor(){super(...arguments),te(this,"check",y.createRef()),te(this,"state",{loaded:!1}),te(this,"cleanupCallback",()=>{delete window.google.maps,this.injectScript()}),te(this,"isCleaningUp",Rk(function*(){function e(t){if(!mu)t();else if(Us)var n=window.setInterval(function(){mu||(window.clearInterval(n),t())},1)}return new Promise(e)})),te(this,"cleanup",()=>{mu=!0;var e=document.getElementById(this.props.id);e&&e.parentNode&&e.parentNode.removeChild(e),Array.prototype.slice.call(document.getElementsByTagName("script")).filter(function(n){return typeof n.src=="string"&&n.src.includes("maps.googleapis")}).forEach(function(n){n.parentNode&&n.parentNode.removeChild(n)}),Array.prototype.slice.call(document.getElementsByTagName("link")).filter(function(n){return n.href==="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"}).forEach(function(n){n.parentNode&&n.parentNode.removeChild(n)}),Array.prototype.slice.call(document.getElementsByTagName("style")).filter(function(n){return n.innerText!==void 0&&n.innerText.length>0&&n.innerText.includes(".gm-")}).forEach(function(n){n.parentNode&&n.parentNode.removeChild(n)})}),te(this,"injectScript",()=>{this.props.preventGoogleFontsLoading&&Cv(),Ht(!!this.props.id,'LoadScript requires "id" prop to be a string: %s',this.props.id);var e={id:this.props.id,nonce:this.props.nonce,url:Mk(this.props)};Ak(e).then(()=>{this.props.onLoad&&this.props.onLoad(),this.setState(function(){return{loaded:!0}})}).catch(t=>{this.props.onError&&this.props.onError(t),console.error(`
          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(this.props.googleMapsApiKey||"-",") or Client ID (").concat(this.props.googleMapsClientId||"-",`) to <LoadScript />
          Otherwise it is a Network issue.
        `))})})}componentDidMount(){if(Us){if(window.google&&window.google.maps&&!mu){console.error("google api is already presented");return}this.isCleaningUp().then(this.injectScript).catch(function(t){console.error("Error at injecting script after cleaning up: ",t)})}}componentDidUpdate(e){this.props.libraries!==e.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),Us&&e.language!==this.props.language&&(this.cleanup(),this.setState(function(){return{loaded:!1}},this.cleanupCallback))}componentWillUnmount(){if(Us){this.cleanup();var e=()=>{this.check.current||(delete window.google,mu=!1)};window.setTimeout(e,1),this.props.onUnmount&&this.props.onUnmount()}}render(){return Q.jsxs(Q.Fragment,{children:[Q.jsx("div",{ref:this.check}),this.state.loaded?this.props.children:this.props.loadingElement||Q.jsx(Ok,{})]})}}te(JV,"defaultProps",qu);function eF(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.includes(n))continue;t[n]=r[n]}return t}function Sv(r,e){if(r==null)return{};var t,n,i=eF(r,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);for(n=0;n<o.length;n++)t=o[n],e.includes(t)||{}.propertyIsEnumerable.call(r,t)&&(i[t]=r[t])}return i}var rC;function tF(r){var{id:e=qu.id,version:t=qu.version,nonce:n,googleMapsApiKey:i,googleMapsClientId:o,language:l,region:c,libraries:d,preventGoogleFontsLoading:p,channel:m,mapIds:v,authReferrerPolicy:E}=r,S=y.useRef(!1),[T,L]=y.useState(!1),[P,V]=y.useState(void 0);y.useEffect(function(){return S.current=!0,()=>{S.current=!1}},[]),y.useEffect(function(){Us&&p&&Cv()},[p]),y.useEffect(function(){T&&Ht(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")},[T]);var F=Mk({version:t,googleMapsApiKey:i,googleMapsClientId:o,language:l,region:c,libraries:d,channel:m,mapIds:v,authReferrerPolicy:E});y.useEffect(function(){if(!Us)return;function z(){S.current&&(L(!0),rC=F)}if(window.google&&window.google.maps&&rC===F){z();return}Ak({id:e,url:F,nonce:n}).then(z).catch(function(D){S.current&&V(D),console.warn(`
        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(i||"-",") or Client ID (").concat(o||"-",`)
        Otherwise it is a Network issue.
      `)),console.error(D)})},[e,F,n]);var H=y.useRef();return y.useEffect(function(){H.current&&d!==H.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),H.current=d},[d]),{isLoaded:T,loadError:P,url:F}}var nF=["loadingElement","onLoad","onError","onUnmount","children"],rF=Q.jsx(Ok,{});function iF(r){var{loadingElement:e,onLoad:t,onError:n,onUnmount:i,children:o}=r,l=Sv(r,nF),{isLoaded:c,loadError:d}=tF(l);return y.useEffect(function(){c&&typeof t=="function"&&t()},[c,t]),y.useEffect(function(){d&&typeof n=="function"&&n(d)},[d,n]),y.useEffect(function(){return()=>{i&&i()}},[i]),c?o:e||rF}y.memo(iF);function sF(r,e,t,n){function i(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function c(m){try{p(n.next(m))}catch(v){l(v)}}function d(m){try{p(n.throw(m))}catch(v){l(v)}}function p(m){m.done?o(m.value):i(m.value).then(c,d)}p((n=n.apply(r,[])).next())})}function oF(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var aF=function r(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,i,o;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(i=n;i--!==0;)if(!r(e[i],t[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(t,o[i]))return!1;for(i=n;i--!==0;){var l=o[i];if(!r(e[l],t[l]))return!1}return!0}return e!==e&&t!==t},lF=oF(aF),iC="__googleMapsScriptId",Ya;(function(r){r[r.INITIALIZED=0]="INITIALIZED",r[r.LOADING=1]="LOADING",r[r.SUCCESS=2]="SUCCESS",r[r.FAILURE=3]="FAILURE"})(Ya||(Ya={}));class Vo{constructor(e){var{apiKey:t,authReferrerPolicy:n,channel:i,client:o,id:l=iC,language:c,libraries:d=[],mapIds:p,nonce:m,region:v,retries:E=3,url:S="https://maps.googleapis.com/maps/api/js",version:T}=e;if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=t,this.authReferrerPolicy=n,this.channel=i,this.client=o,this.id=l||iC,this.language=c,this.libraries=d,this.mapIds=p,this.nonce=m,this.region=v,this.retries=E,this.url=S,this.version=T,Vo.instance){if(!lF(this.options,Vo.instance.options))throw new Error("Loader must not be called again with different options. ".concat(JSON.stringify(this.options)," !== ").concat(JSON.stringify(Vo.instance.options)));return Vo.instance}Vo.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?Ya.FAILURE:this.done?Ya.SUCCESS:this.loading?Ya.LOADING:Ya.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){var e=this.url;return e+="?callback=__googleMapsCallback&loading=async",this.apiKey&&(e+="&key=".concat(this.apiKey)),this.channel&&(e+="&channel=".concat(this.channel)),this.client&&(e+="&client=".concat(this.client)),this.libraries.length>0&&(e+="&libraries=".concat(this.libraries.join(","))),this.language&&(e+="&language=".concat(this.language)),this.region&&(e+="&region=".concat(this.region)),this.version&&(e+="&v=".concat(this.version)),this.mapIds&&(e+="&map_ids=".concat(this.mapIds.join(","))),this.authReferrerPolicy&&(e+="&auth_referrer_policy=".concat(this.authReferrerPolicy)),e}deleteScript(){var e=document.getElementById(this.id);e&&e.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((e,t)=>{this.loadCallback(n=>{n?t(n.error):e(window.google)})})}importLibrary(e){return this.execute(),google.maps.importLibrary(e)}loadCallback(e){this.callbacks.push(e),this.execute()}setScript(){var e,t;if(document.getElementById(this.id)){this.callback();return}var n={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(n).forEach(o=>!n[o]&&delete n[o]),!((t=(e=window==null?void 0:window.google)===null||e===void 0?void 0:e.maps)===null||t===void 0)&&t.importLibrary||(o=>{var l,c,d,p="The Google Maps JavaScript API",m="google",v="importLibrary",E="__ib__",S=document,T=window;T=T[m]||(T[m]={});var L=T.maps||(T.maps={}),P=new Set,V=new URLSearchParams,F=()=>l||(l=new Promise((H,j)=>sF(this,void 0,void 0,function*(){var z;yield c=S.createElement("script"),c.id=this.id,V.set("libraries",[...P]+"");for(d in o)V.set(d.replace(/[A-Z]/g,$=>"_"+$[0].toLowerCase()),o[d]);V.set("callback",m+".maps."+E),c.src=this.url+"?"+V,L[E]=H,c.onerror=()=>l=j(Error(p+" could not load.")),c.nonce=this.nonce||((z=S.querySelector("script[nonce]"))===null||z===void 0?void 0:z.nonce)||"",S.head.append(c)})));L[v]?console.warn(p+" only loads once. Ignoring:",o):L[v]=function(H){for(var j=arguments.length,z=new Array(j>1?j-1:0),$=1;$<j;$++)z[$-1]=arguments[$];return P.add(H)&&F().then(()=>L[v](H,...z))}})(n);var i=this.libraries.map(o=>this.importLibrary(o));i.length||i.push(this.importLibrary("core")),Promise.all(i).then(()=>this.callback(),o=>{var l=new ErrorEvent("error",{error:o});this.loadErrorCallback(l)})}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(e){if(this.errors.push(e),this.errors.length<=this.retries){var t=this.errors.length*Math.pow(2,this.errors.length);console.error("Failed to load Google Maps script, retrying in ".concat(t," ms.")),setTimeout(()=>{this.deleteScript(),this.setScript()},t)}else this.onerrorEvent=e,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(e=>{e(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),!this.loading)if(this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version){console.warn("Google Maps already loaded outside @googlemaps/js-api-loader. This may result in undesirable behavior as options and script parameters may not match."),this.callback();return}this.loading=!0,this.setScript()}}}var uF=["maps"];function cF(r){var{id:e=qu.id,version:t=qu.version,nonce:n,googleMapsApiKey:i,language:o,region:l,libraries:c=uF,preventGoogleFontsLoading:d,mapIds:p,authReferrerPolicy:m}=r,v=y.useRef(!1),[E,S]=y.useState(!1),[T,L]=y.useState(void 0);y.useEffect(function(){return v.current=!0,()=>{v.current=!1}},[]);var P=y.useMemo(()=>new Vo({id:e,apiKey:i,version:t,libraries:c,language:o||"en",region:l||"US",mapIds:p||[],nonce:n||"",authReferrerPolicy:m||"origin"}),[e,i,t,c,o,l,p,n,m]);y.useEffect(function(){E||P.load().then(()=>{v.current&&S(!0)}).catch(H=>{L(H)})},[]),y.useEffect(()=>{Us&&d&&Cv()},[d]);var V=y.useRef();return y.useEffect(()=>{V.current&&c!==V.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),V.current=c},[c]),{isLoaded:E,loadError:T}}function sC(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Vf(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?sC(Object(t),!0).forEach(function(n){te(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):sC(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var oC={},aC={options(r,e){r.setOptions(e)}};function dF(r){var{options:e,onLoad:t,onUnmount:n}=r,i=y.useContext(We),[o,l]=y.useState(null);return y.useEffect(()=>{o!==null&&o.setMap(i)},[i]),y.useEffect(()=>{e&&o!==null&&o.setOptions(e)},[o,e]),y.useEffect(()=>{var c=new google.maps.TrafficLayer(Vf(Vf({},e),{},{map:i}));return l(c),t&&t(c),()=>{o!==null&&(n&&n(o),o.setMap(null))}},[]),null}y.memo(dF);class fF extends y.PureComponent{constructor(){super(...arguments),te(this,"state",{trafficLayer:null}),te(this,"setTrafficLayerCallback",()=>{this.state.trafficLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.trafficLayer)}),te(this,"registeredEvents",[])}componentDidMount(){var e=new google.maps.TrafficLayer(Vf(Vf({},this.props.options),{},{map:this.context}));this.registeredEvents=Ye({updaterMap:aC,eventMap:oC,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{trafficLayer:e}},this.setTrafficLayerCallback)}componentDidUpdate(e){this.state.trafficLayer!==null&&(qe(this.registeredEvents),this.registeredEvents=Ye({updaterMap:aC,eventMap:oC,prevProps:e,nextProps:this.props,instance:this.state.trafficLayer}))}componentWillUnmount(){this.state.trafficLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),qe(this.registeredEvents),this.state.trafficLayer.setMap(null))}render(){return null}}te(fF,"contextType",We);function hF(r){var{onLoad:e,onUnmount:t}=r,n=y.useContext(We),[i,o]=y.useState(null);return y.useEffect(()=>{i!==null&&i.setMap(n)},[n]),y.useEffect(()=>{var l=new google.maps.BicyclingLayer;return o(l),l.setMap(n),e&&e(l),()=>{l!==null&&(t&&t(l),l.setMap(null))}},[]),null}y.memo(hF);class pF extends y.PureComponent{constructor(){super(...arguments),te(this,"state",{bicyclingLayer:null}),te(this,"setBicyclingLayerCallback",()=>{this.state.bicyclingLayer!==null&&(this.state.bicyclingLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.bicyclingLayer))})}componentDidMount(){var e=new google.maps.BicyclingLayer;this.setState(()=>({bicyclingLayer:e}),this.setBicyclingLayerCallback)}componentWillUnmount(){this.state.bicyclingLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))}render(){return null}}te(pF,"contextType",We);function mF(r){var{onLoad:e,onUnmount:t}=r,n=y.useContext(We),[i,o]=y.useState(null);return y.useEffect(()=>{i!==null&&i.setMap(n)},[n]),y.useEffect(()=>{var l=new google.maps.TransitLayer;return o(l),l.setMap(n),e&&e(l),()=>{i!==null&&(t&&t(i),i.setMap(null))}},[]),null}y.memo(mF);class gF extends y.PureComponent{constructor(){super(...arguments),te(this,"state",{transitLayer:null}),te(this,"setTransitLayerCallback",()=>{this.state.transitLayer!==null&&(this.state.transitLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.transitLayer))})}componentDidMount(){var e=new google.maps.TransitLayer;this.setState(function(){return{transitLayer:e}},this.setTransitLayerCallback)}componentWillUnmount(){this.state.transitLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))}render(){return null}}te(gF,"contextType",We);function lC(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Ff(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?lC(Object(t),!0).forEach(function(n){te(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):lC(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var uC={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},cC={drawingMode(r,e){r.setDrawingMode(e)},options(r,e){r.setOptions(e)}};function vF(r){var{options:e,drawingMode:t,onCircleComplete:n,onMarkerComplete:i,onOverlayComplete:o,onPolygonComplete:l,onPolylineComplete:c,onRectangleComplete:d,onLoad:p,onUnmount:m}=r,v=y.useContext(We),[E,S]=y.useState(null),[T,L]=y.useState(null),[P,V]=y.useState(null),[F,H]=y.useState(null),[j,z]=y.useState(null),[$,D]=y.useState(null),[I,k]=y.useState(null);return y.useEffect(()=>{E!==null&&E.setMap(v)},[v]),y.useEffect(()=>{e&&E!==null&&E.setOptions(e)},[E,e]),y.useEffect(()=>{E!==null&&E.setDrawingMode(t??null)},[E,t]),y.useEffect(()=>{E&&n&&(T!==null&&google.maps.event.removeListener(T),L(google.maps.event.addListener(E,"circlecomplete",n)))},[E,n]),y.useEffect(()=>{E&&i&&(P!==null&&google.maps.event.removeListener(P),V(google.maps.event.addListener(E,"markercomplete",i)))},[E,i]),y.useEffect(()=>{E&&o&&(F!==null&&google.maps.event.removeListener(F),H(google.maps.event.addListener(E,"overlaycomplete",o)))},[E,o]),y.useEffect(()=>{E&&l&&(j!==null&&google.maps.event.removeListener(j),z(google.maps.event.addListener(E,"polygoncomplete",l)))},[E,l]),y.useEffect(()=>{E&&c&&($!==null&&google.maps.event.removeListener($),D(google.maps.event.addListener(E,"polylinecomplete",c)))},[E,c]),y.useEffect(()=>{E&&d&&(I!==null&&google.maps.event.removeListener(I),k(google.maps.event.addListener(E,"rectanglecomplete",d)))},[E,d]),y.useEffect(()=>{Ht(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var R=new google.maps.drawing.DrawingManager(Ff(Ff({},e),{},{map:v}));return t&&R.setDrawingMode(t),n&&L(google.maps.event.addListener(R,"circlecomplete",n)),i&&V(google.maps.event.addListener(R,"markercomplete",i)),o&&H(google.maps.event.addListener(R,"overlaycomplete",o)),l&&z(google.maps.event.addListener(R,"polygoncomplete",l)),c&&D(google.maps.event.addListener(R,"polylinecomplete",c)),d&&k(google.maps.event.addListener(R,"rectanglecomplete",d)),S(R),p&&p(R),()=>{E!==null&&(T&&google.maps.event.removeListener(T),P&&google.maps.event.removeListener(P),F&&google.maps.event.removeListener(F),j&&google.maps.event.removeListener(j),$&&google.maps.event.removeListener($),I&&google.maps.event.removeListener(I),m&&m(E),E.setMap(null))}},[]),null}y.memo(vF);class yF extends y.PureComponent{constructor(e){super(e),te(this,"registeredEvents",[]),te(this,"state",{drawingManager:null}),te(this,"setDrawingManagerCallback",()=>{this.state.drawingManager!==null&&this.props.onLoad&&this.props.onLoad(this.state.drawingManager)}),Ht(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing)}componentDidMount(){var e=new google.maps.drawing.DrawingManager(Ff(Ff({},this.props.options),{},{map:this.context}));this.registeredEvents=Ye({updaterMap:cC,eventMap:uC,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{drawingManager:e}},this.setDrawingManagerCallback)}componentDidUpdate(e){this.state.drawingManager!==null&&(qe(this.registeredEvents),this.registeredEvents=Ye({updaterMap:cC,eventMap:uC,prevProps:e,nextProps:this.props,instance:this.state.drawingManager}))}componentWillUnmount(){this.state.drawingManager!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),qe(this.registeredEvents),this.state.drawingManager.setMap(null))}render(){return null}}te(yF,"contextType",We);function dC(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Ja(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?dC(Object(t),!0).forEach(function(n){te(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):dC(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var fC={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},hC={animation(r,e){r.setAnimation(e)},clickable(r,e){r.setClickable(e)},cursor(r,e){r.setCursor(e)},draggable(r,e){r.setDraggable(e)},icon(r,e){r.setIcon(e)},label(r,e){r.setLabel(e)},map(r,e){r.setMap(e)},opacity(r,e){r.setOpacity(e)},options(r,e){r.setOptions(e)},position(r,e){r.setPosition(e)},shape(r,e){r.setShape(e)},title(r,e){r.setTitle(e)},visible(r,e){r.setVisible(e)},zIndex(r,e){r.setZIndex(e)}},Uf={};function _F(r){var{position:e,options:t,clusterer:n,noClustererRedraw:i,children:o,draggable:l,visible:c,animation:d,clickable:p,cursor:m,icon:v,label:E,opacity:S,shape:T,title:L,zIndex:P,onClick:V,onDblClick:F,onDrag:H,onDragEnd:j,onDragStart:z,onMouseOut:$,onMouseOver:D,onMouseUp:I,onMouseDown:k,onRightClick:R,onClickableChanged:A,onCursorChanged:N,onAnimationChanged:M,onDraggableChanged:fe,onFlatChanged:me,onIconChanged:ce,onPositionChanged:he,onShapeChanged:G,onTitleChanged:ae,onVisibleChanged:re,onZindexChanged:U,onLoad:J,onUnmount:oe}=r,we=y.useContext(We),[X,xe]=y.useState(null),[Le,ye]=y.useState(null),[Ve,Se]=y.useState(null),[ze,$t]=y.useState(null),[Yt,Vn]=y.useState(null),[Qe,es]=y.useState(null),[jr,lo]=y.useState(null),[mr,Qn]=y.useState(null),[kn,ts]=y.useState(null),[gr,wi]=y.useState(null),[ns,It]=y.useState(null),[_t,Xn]=y.useState(null),[Br,vr]=y.useState(null),[Zn,zr]=y.useState(null),[Wr,rs]=y.useState(null),[Hr,is]=y.useState(null),[$r,Yr]=y.useState(null),[yr,Ei]=y.useState(null),[vn,Fn]=y.useState(null),[_r,Un]=y.useState(null),[qr,Kr]=y.useState(null),[Gr,Jn]=y.useState(null);y.useEffect(()=>{X!==null&&X.setMap(we)},[we]),y.useEffect(()=>{typeof t<"u"&&X!==null&&X.setOptions(t)},[X,t]),y.useEffect(()=>{typeof l<"u"&&X!==null&&X.setDraggable(l)},[X,l]),y.useEffect(()=>{e&&X!==null&&X.setPosition(e)},[X,e]),y.useEffect(()=>{typeof c<"u"&&X!==null&&X.setVisible(c)},[X,c]),y.useEffect(()=>{X==null||X.setAnimation(d)},[X,d]),y.useEffect(()=>{X&&p!==void 0&&X.setClickable(p)},[X,p]),y.useEffect(()=>{X&&m!==void 0&&X.setCursor(m)},[X,m]),y.useEffect(()=>{X&&v!==void 0&&X.setIcon(v)},[X,v]),y.useEffect(()=>{X&&E!==void 0&&X.setLabel(E)},[X,E]),y.useEffect(()=>{X&&S!==void 0&&X.setOpacity(S)},[X,S]),y.useEffect(()=>{X&&T!==void 0&&X.setShape(T)},[X,T]),y.useEffect(()=>{X&&L!==void 0&&X.setTitle(L)},[X,L]),y.useEffect(()=>{X&&P!==void 0&&X.setZIndex(P)},[X,P]),y.useEffect(()=>{X&&F&&(Le!==null&&google.maps.event.removeListener(Le),ye(google.maps.event.addListener(X,"dblclick",F)))},[F]),y.useEffect(()=>{X&&j&&(Ve!==null&&google.maps.event.removeListener(Ve),Se(google.maps.event.addListener(X,"dragend",j)))},[j]),y.useEffect(()=>{X&&z&&(ze!==null&&google.maps.event.removeListener(ze),$t(google.maps.event.addListener(X,"dragstart",z)))},[z]),y.useEffect(()=>{X&&k&&(Yt!==null&&google.maps.event.removeListener(Yt),Vn(google.maps.event.addListener(X,"mousedown",k)))},[k]),y.useEffect(()=>{X&&$&&(Qe!==null&&google.maps.event.removeListener(Qe),es(google.maps.event.addListener(X,"mouseout",$)))},[$]),y.useEffect(()=>{X&&D&&(jr!==null&&google.maps.event.removeListener(jr),lo(google.maps.event.addListener(X,"mouseover",D)))},[D]),y.useEffect(()=>{X&&I&&(mr!==null&&google.maps.event.removeListener(mr),Qn(google.maps.event.addListener(X,"mouseup",I)))},[I]),y.useEffect(()=>{X&&R&&(kn!==null&&google.maps.event.removeListener(kn),ts(google.maps.event.addListener(X,"rightclick",R)))},[R]),y.useEffect(()=>{X&&V&&(gr!==null&&google.maps.event.removeListener(gr),wi(google.maps.event.addListener(X,"click",V)))},[V]),y.useEffect(()=>{X&&H&&(ns!==null&&google.maps.event.removeListener(ns),It(google.maps.event.addListener(X,"drag",H)))},[H]),y.useEffect(()=>{X&&A&&(_t!==null&&google.maps.event.removeListener(_t),Xn(google.maps.event.addListener(X,"clickable_changed",A)))},[A]),y.useEffect(()=>{X&&N&&(Br!==null&&google.maps.event.removeListener(Br),vr(google.maps.event.addListener(X,"cursor_changed",N)))},[N]),y.useEffect(()=>{X&&M&&(Zn!==null&&google.maps.event.removeListener(Zn),zr(google.maps.event.addListener(X,"animation_changed",M)))},[M]),y.useEffect(()=>{X&&fe&&(Wr!==null&&google.maps.event.removeListener(Wr),rs(google.maps.event.addListener(X,"draggable_changed",fe)))},[fe]),y.useEffect(()=>{X&&me&&(Hr!==null&&google.maps.event.removeListener(Hr),is(google.maps.event.addListener(X,"flat_changed",me)))},[me]),y.useEffect(()=>{X&&ce&&($r!==null&&google.maps.event.removeListener($r),Yr(google.maps.event.addListener(X,"icon_changed",ce)))},[ce]),y.useEffect(()=>{X&&he&&(yr!==null&&google.maps.event.removeListener(yr),Ei(google.maps.event.addListener(X,"position_changed",he)))},[he]),y.useEffect(()=>{X&&G&&(vn!==null&&google.maps.event.removeListener(vn),Fn(google.maps.event.addListener(X,"shape_changed",G)))},[G]),y.useEffect(()=>{X&&ae&&(_r!==null&&google.maps.event.removeListener(_r),Un(google.maps.event.addListener(X,"title_changed",ae)))},[ae]),y.useEffect(()=>{X&&re&&(qr!==null&&google.maps.event.removeListener(qr),Kr(google.maps.event.addListener(X,"visible_changed",re)))},[re]),y.useEffect(()=>{X&&U&&(Gr!==null&&google.maps.event.removeListener(Gr),Jn(google.maps.event.addListener(X,"zindex_changed",U)))},[U]),y.useEffect(()=>{var ft=Ja(Ja(Ja({},t||Uf),n?Uf:{map:we}),{},{position:e}),Oe=new google.maps.Marker(ft);return n?n.addMarker(Oe,!!i):Oe.setMap(we),e&&Oe.setPosition(e),typeof c<"u"&&Oe.setVisible(c),typeof l<"u"&&Oe.setDraggable(l),typeof p<"u"&&Oe.setClickable(p),typeof m=="string"&&Oe.setCursor(m),v&&Oe.setIcon(v),typeof E<"u"&&Oe.setLabel(E),typeof S<"u"&&Oe.setOpacity(S),T&&Oe.setShape(T),typeof L=="string"&&Oe.setTitle(L),typeof P=="number"&&Oe.setZIndex(P),F&&ye(google.maps.event.addListener(Oe,"dblclick",F)),j&&Se(google.maps.event.addListener(Oe,"dragend",j)),z&&$t(google.maps.event.addListener(Oe,"dragstart",z)),k&&Vn(google.maps.event.addListener(Oe,"mousedown",k)),$&&es(google.maps.event.addListener(Oe,"mouseout",$)),D&&lo(google.maps.event.addListener(Oe,"mouseover",D)),I&&Qn(google.maps.event.addListener(Oe,"mouseup",I)),R&&ts(google.maps.event.addListener(Oe,"rightclick",R)),V&&wi(google.maps.event.addListener(Oe,"click",V)),H&&It(google.maps.event.addListener(Oe,"drag",H)),A&&Xn(google.maps.event.addListener(Oe,"clickable_changed",A)),N&&vr(google.maps.event.addListener(Oe,"cursor_changed",N)),M&&zr(google.maps.event.addListener(Oe,"animation_changed",M)),fe&&rs(google.maps.event.addListener(Oe,"draggable_changed",fe)),me&&is(google.maps.event.addListener(Oe,"flat_changed",me)),ce&&Yr(google.maps.event.addListener(Oe,"icon_changed",ce)),he&&Ei(google.maps.event.addListener(Oe,"position_changed",he)),G&&Fn(google.maps.event.addListener(Oe,"shape_changed",G)),ae&&Un(google.maps.event.addListener(Oe,"title_changed",ae)),re&&Kr(google.maps.event.addListener(Oe,"visible_changed",re)),U&&Jn(google.maps.event.addListener(Oe,"zindex_changed",U)),xe(Oe),J&&J(Oe),()=>{Le!==null&&google.maps.event.removeListener(Le),Ve!==null&&google.maps.event.removeListener(Ve),ze!==null&&google.maps.event.removeListener(ze),Yt!==null&&google.maps.event.removeListener(Yt),Qe!==null&&google.maps.event.removeListener(Qe),jr!==null&&google.maps.event.removeListener(jr),mr!==null&&google.maps.event.removeListener(mr),kn!==null&&google.maps.event.removeListener(kn),gr!==null&&google.maps.event.removeListener(gr),_t!==null&&google.maps.event.removeListener(_t),Br!==null&&google.maps.event.removeListener(Br),Zn!==null&&google.maps.event.removeListener(Zn),Wr!==null&&google.maps.event.removeListener(Wr),Hr!==null&&google.maps.event.removeListener(Hr),$r!==null&&google.maps.event.removeListener($r),yr!==null&&google.maps.event.removeListener(yr),_r!==null&&google.maps.event.removeListener(_r),qr!==null&&google.maps.event.removeListener(qr),Gr!==null&&google.maps.event.removeListener(Gr),oe&&oe(Oe),n?n.removeMarker(Oe,!!i):Oe&&Oe.setMap(null)}},[]);var uo=y.useMemo(()=>o?y.Children.map(o,ft=>{if(!y.isValidElement(ft))return ft;var Oe=ft;return y.cloneElement(Oe,{anchor:X})}):null,[o,X]);return Q.jsx(Q.Fragment,{children:uo})||null}var wF=y.memo(_F);class EF extends y.PureComponent{constructor(){super(...arguments),te(this,"registeredEvents",[])}componentDidMount(){var e=this;return Rk(function*(){var t=Ja(Ja(Ja({},e.props.options||Uf),e.props.clusterer?Uf:{map:e.context}),{},{position:e.props.position});e.marker=new google.maps.Marker(t),e.props.clusterer?e.props.clusterer.addMarker(e.marker,!!e.props.noClustererRedraw):e.marker.setMap(e.context),e.registeredEvents=Ye({updaterMap:hC,eventMap:fC,prevProps:{},nextProps:e.props,instance:e.marker}),e.props.onLoad&&e.props.onLoad(e.marker)})()}componentDidUpdate(e){this.marker&&(qe(this.registeredEvents),this.registeredEvents=Ye({updaterMap:hC,eventMap:fC,prevProps:e,nextProps:this.props,instance:this.marker}))}componentWillUnmount(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),qe(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))}render(){var e=this.props.children?y.Children.map(this.props.children,t=>{if(!y.isValidElement(t))return t;var n=t;return y.cloneElement(n,{anchor:this.marker})}):null;return e||null}}te(EF,"contextType",We);var CF=function(){function r(e,t){e.getClusterer().extend(r,google.maps.OverlayView),this.cluster=e,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=t,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(e.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return r.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},r.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},r.prototype.onClick=function(e){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var t=this.cluster.getClusterer();if(google.maps.event.trigger(t,"click",this.cluster),google.maps.event.trigger(t,"clusterclick",this.cluster),t.getZoomOnClick()){var n=t.getMaxZoom(),i=this.cluster.getBounds(),o=t.getMap();o!==null&&"fitBounds"in o&&o.fitBounds(i),this.timeOut=window.setTimeout(function(){var l=t.getMap();if(l!==null){"fitBounds"in l&&l.fitBounds(i);var c=l.getZoom()||0;n!==null&&c>n&&l.setZoom(n+1)}},100)}e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}},r.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},r.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},r.prototype.onAdd=function(){var e;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),(e=this.getPanes())===null||e===void 0||e.overlayMouseTarget.appendChild(this.div);var t=this.getMap();t!==null&&(this.boundsChangedListener=google.maps.event.addListener(t,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},r.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),this.boundsChangedListener!==null&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),this.timeOut!==null&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},r.prototype.draw=function(){if(this.visible&&this.div!==null&&this.center){var e=this.getPosFromLatLng(this.center);this.div.style.top=e!==null?"".concat(e.y,"px"):"0",this.div.style.left=e!==null?"".concat(e.x,"px"):"0"}},r.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},r.prototype.show=function(){var e,t,n,i,o,l;if(this.div&&this.center){var c=this.sums===null||typeof this.sums.title>"u"||this.sums.title===""?this.cluster.getClusterer().getTitle():this.sums.title,d=this.backgroundPosition.split(" "),p=parseInt(((e=d[0])===null||e===void 0?void 0:e.replace(/^\s+|\s+$/g,""))||"0",10),m=parseInt(((t=d[1])===null||t===void 0?void 0:t.replace(/^\s+|\s+$/g,""))||"0",10),v=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(v!==null?"".concat(v.y,"px"):"0","; left: ").concat(v!==null?"".concat(v.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var E=document.createElement("img");E.alt=c,E.src=this.url,E.width=this.width,E.height=this.height,E.setAttribute("style","position: absolute; top: ".concat(m,"px; left: ").concat(p,"px")),this.cluster.getClusterer().enableRetinaIcons||(E.style.clip="rect(-".concat(m,"px, -").concat(p+this.width,"px, -").concat(m+this.height,", -").concat(p,")"));var S=document.createElement("div");S.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),!((n=this.sums)===null||n===void 0)&&n.text&&(S.innerText="".concat((i=this.sums)===null||i===void 0?void 0:i.text)),!((o=this.sums)===null||o===void 0)&&o.html&&(S.innerHTML="".concat((l=this.sums)===null||l===void 0?void 0:l.html)),this.div.innerHTML="",this.div.appendChild(E),this.div.appendChild(S),this.div.title=c,this.div.style.display=""}this.visible=!0},r.prototype.useStyle=function(e){this.sums=e;var t=this.cluster.getClusterer().getStyles(),n=t[Math.min(t.length-1,Math.max(0,e.index-1))];n&&(this.url=n.url,this.height=n.height,this.width=n.width,n.className&&(this.className="".concat(this.clusterClassName," ").concat(n.className)),this.anchorText=n.anchorText||[0,0],this.anchorIcon=n.anchorIcon||[this.height/2,this.width/2],this.textColor=n.textColor||"black",this.textSize=n.textSize||11,this.textDecoration=n.textDecoration||"none",this.fontWeight=n.fontWeight||"bold",this.fontStyle=n.fontStyle||"normal",this.fontFamily=n.fontFamily||"Arial,sans-serif",this.backgroundPosition=n.backgroundPosition||"0 0")},r.prototype.setCenter=function(e){this.center=e},r.prototype.getPosFromLatLng=function(e){var t=this.getProjection().fromLatLngToDivPixel(e);return t!==null&&(t.x-=this.anchorIcon[1],t.y-=this.anchorIcon[0]),t},r}(),SF=function(){function r(e){this.markerClusterer=e,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new CF(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return r.prototype.getSize=function(){return this.markers.length},r.prototype.getMarkers=function(){return this.markers},r.prototype.getCenter=function(){return this.center},r.prototype.getMap=function(){return this.map},r.prototype.getClusterer=function(){return this.markerClusterer},r.prototype.getBounds=function(){for(var e=new google.maps.LatLngBounds(this.center,this.center),t=this.getMarkers(),n=0,i=t;n<i.length;n++){var o=i[n],l=o.getPosition();l&&e.extend(l)}return e},r.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},r.prototype.addMarker=function(e){var t;if(this.isMarkerAlreadyAdded(e))return!1;if(this.center){if(this.averageCenter){var n=e.getPosition();if(n){var i=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(i-1)+n.lat())/i,(this.center.lng()*(i-1)+n.lng())/i),this.calculateBounds()}}}else{var n=e.getPosition();n&&(this.center=n,this.calculateBounds())}e.isAdded=!0,this.markers.push(e);var o=this.markers.length,l=this.markerClusterer.getMaxZoom(),c=(t=this.map)===null||t===void 0?void 0:t.getZoom();if(l!==null&&typeof c<"u"&&c>l)e.getMap()!==this.map&&e.setMap(this.map);else if(o<this.minClusterSize)e.getMap()!==this.map&&e.setMap(this.map);else if(o===this.minClusterSize)for(var d=0,p=this.markers;d<p.length;d++){var m=p[d];m.setMap(null)}else e.setMap(null);return!0},r.prototype.isMarkerInClusterBounds=function(e){if(this.bounds!==null){var t=e.getPosition();if(t)return this.bounds.contains(t)}return!1},r.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},r.prototype.updateIcon=function(){var e,t=this.markers.length,n=this.markerClusterer.getMaxZoom(),i=(e=this.map)===null||e===void 0?void 0:e.getZoom();if(n!==null&&typeof i<"u"&&i>n){this.clusterIcon.hide();return}if(t<this.minClusterSize){this.clusterIcon.hide();return}this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show()},r.prototype.isMarkerAlreadyAdded=function(e){if(this.markers.includes)return this.markers.includes(e);for(var t=0;t<this.markers.length;t++)if(e===this.markers[t])return!0;return!1},r}();function TF(r,e){var t=r.length,n=t.toString().length,i=Math.min(n,e);return{text:t.toString(),index:i,title:""}}var kF=2e3,bF=500,IF="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",PF="png",DF=[53,56,66,78,90],xF="cluster",Nk=function(){function r(e,t,n){t===void 0&&(t=[]),n===void 0&&(n={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(r,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=n.gridSize||60,this.minClusterSize=n.minimumClusterSize||2,this.maxZoom=n.maxZoom||null,this.styles=n.styles||[],this.title=n.title||"",this.zoomOnClick=!0,n.zoomOnClick!==void 0&&(this.zoomOnClick=n.zoomOnClick),this.averageCenter=!1,n.averageCenter!==void 0&&(this.averageCenter=n.averageCenter),this.ignoreHidden=!1,n.ignoreHidden!==void 0&&(this.ignoreHidden=n.ignoreHidden),this.enableRetinaIcons=!1,n.enableRetinaIcons!==void 0&&(this.enableRetinaIcons=n.enableRetinaIcons),this.imagePath=n.imagePath||IF,this.imageExtension=n.imageExtension||PF,this.imageSizes=n.imageSizes||DF,this.calculator=n.calculator||TF,this.batchSize=n.batchSize||kF,this.batchSizeIE=n.batchSizeIE||bF,this.clusterClass=n.clusterClass||xF,navigator.userAgent.toLowerCase().indexOf("msie")!==-1&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(t,!0),this.setMap(e)}return r.prototype.onZoomChanged=function(){var e,t;this.resetViewport(!1),(((e=this.getMap())===null||e===void 0?void 0:e.getZoom())===(this.get("minZoom")||0)||((t=this.getMap())===null||t===void 0?void 0:t.getZoom())===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")},r.prototype.onIdle=function(){this.redraw()},r.prototype.onAdd=function(){var e=this.getMap();this.activeMap=e,this.ready=!0,this.repaint(),e!==null&&(this.listeners=[google.maps.event.addListener(e,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(e,"idle",this.onIdle)])},r.prototype.onRemove=function(){for(var e=0,t=this.markers;e<t.length;e++){var n=t[e];n.getMap()!==this.activeMap&&n.setMap(this.activeMap)}for(var i=0,o=this.clusters;i<o.length;i++){var l=o[i];l.remove()}this.clusters=[];for(var c=0,d=this.listeners;c<d.length;c++){var p=d[c];google.maps.event.removeListener(p)}this.listeners=[],this.activeMap=null,this.ready=!1},r.prototype.draw=function(){},r.prototype.getMap=function(){return null},r.prototype.getPanes=function(){return null},r.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},r.prototype.setMap=function(){},r.prototype.addListener=function(){return{remove:function(){}}},r.prototype.bindTo=function(){},r.prototype.get=function(){},r.prototype.notify=function(){},r.prototype.set=function(){},r.prototype.setValues=function(){},r.prototype.unbind=function(){},r.prototype.unbindAll=function(){},r.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var e=0;e<this.imageSizes.length;e++)this.styles.push({url:"".concat(this.imagePath+(e+1),".").concat(this.imageExtension),height:this.imageSizes[e]||0,width:this.imageSizes[e]||0})},r.prototype.fitMapToMarkers=function(){for(var e=this.getMarkers(),t=new google.maps.LatLngBounds,n=0,i=e;n<i.length;n++){var o=i[n],l=o.getPosition();l&&t.extend(l)}var c=this.getMap();c!==null&&"fitBounds"in c&&c.fitBounds(t)},r.prototype.getGridSize=function(){return this.gridSize},r.prototype.setGridSize=function(e){this.gridSize=e},r.prototype.getMinimumClusterSize=function(){return this.minClusterSize},r.prototype.setMinimumClusterSize=function(e){this.minClusterSize=e},r.prototype.getMaxZoom=function(){return this.maxZoom},r.prototype.setMaxZoom=function(e){this.maxZoom=e},r.prototype.getStyles=function(){return this.styles},r.prototype.setStyles=function(e){this.styles=e},r.prototype.getTitle=function(){return this.title},r.prototype.setTitle=function(e){this.title=e},r.prototype.getZoomOnClick=function(){return this.zoomOnClick},r.prototype.setZoomOnClick=function(e){this.zoomOnClick=e},r.prototype.getAverageCenter=function(){return this.averageCenter},r.prototype.setAverageCenter=function(e){this.averageCenter=e},r.prototype.getIgnoreHidden=function(){return this.ignoreHidden},r.prototype.setIgnoreHidden=function(e){this.ignoreHidden=e},r.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},r.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons=e},r.prototype.getImageExtension=function(){return this.imageExtension},r.prototype.setImageExtension=function(e){this.imageExtension=e},r.prototype.getImagePath=function(){return this.imagePath},r.prototype.setImagePath=function(e){this.imagePath=e},r.prototype.getImageSizes=function(){return this.imageSizes},r.prototype.setImageSizes=function(e){this.imageSizes=e},r.prototype.getCalculator=function(){return this.calculator},r.prototype.setCalculator=function(e){this.calculator=e},r.prototype.getBatchSizeIE=function(){return this.batchSizeIE},r.prototype.setBatchSizeIE=function(e){this.batchSizeIE=e},r.prototype.getClusterClass=function(){return this.clusterClass},r.prototype.setClusterClass=function(e){this.clusterClass=e},r.prototype.getMarkers=function(){return this.markers},r.prototype.getTotalMarkers=function(){return this.markers.length},r.prototype.getClusters=function(){return this.clusters},r.prototype.getTotalClusters=function(){return this.clusters.length},r.prototype.addMarker=function(e,t){this.pushMarkerTo(e),t||this.redraw()},r.prototype.addMarkers=function(e,t){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=e[n];i&&this.pushMarkerTo(i)}t||this.redraw()},r.prototype.pushMarkerTo=function(e){var t=this;e.getDraggable()&&google.maps.event.addListener(e,"dragend",function(){t.ready&&(e.isAdded=!1,t.repaint())}),e.isAdded=!1,this.markers.push(e)},r.prototype.removeMarker_=function(e){var t=-1;if(this.markers.indexOf)t=this.markers.indexOf(e);else for(var n=0;n<this.markers.length;n++)if(e===this.markers[n]){t=n;break}return t===-1?!1:(e.setMap(null),this.markers.splice(t,1),!0)},r.prototype.removeMarker=function(e,t){var n=this.removeMarker_(e);return!t&&n&&this.repaint(),n},r.prototype.removeMarkers=function(e,t){for(var n=!1,i=0,o=e;i<o.length;i++){var l=o[i];n=n||this.removeMarker_(l)}return!t&&n&&this.repaint(),n},r.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},r.prototype.repaint=function(){var e=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout(function(){for(var n=0,i=e;n<i.length;n++){var o=i[n];o.remove()}},0)},r.prototype.getExtendedBounds=function(e){var t=this.getProjection(),n=t.fromLatLngToDivPixel(new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()));n!==null&&(n.x+=this.gridSize,n.y-=this.gridSize);var i=t.fromLatLngToDivPixel(new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()));if(i!==null&&(i.x-=this.gridSize,i.y+=this.gridSize),n!==null){var o=t.fromDivPixelToLatLng(n);o!==null&&e.extend(o)}if(i!==null){var l=t.fromDivPixelToLatLng(i);l!==null&&e.extend(l)}return e},r.prototype.redraw=function(){this.createClusters(0)},r.prototype.resetViewport=function(e){for(var t=0,n=this.clusters;t<n.length;t++){var i=n[t];i.remove()}this.clusters=[];for(var o=0,l=this.markers;o<l.length;o++){var c=l[o];c.isAdded=!1,e&&c.setMap(null)}},r.prototype.distanceBetweenPoints=function(e,t){var n=6371,i=(t.lat()-e.lat())*Math.PI/180,o=(t.lng()-e.lng())*Math.PI/180,l=Math.sin(i/2)*Math.sin(i/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(t.lat()*Math.PI/180)*Math.sin(o/2)*Math.sin(o/2);return n*(2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l)))},r.prototype.isMarkerInBounds=function(e,t){var n=e.getPosition();return n?t.contains(n):!1},r.prototype.addToClosestCluster=function(e){for(var t,n=4e4,i=null,o=0,l=this.clusters;o<l.length;o++){var c=l[o];t=c;var d=t.getCenter(),p=e.getPosition();if(d&&p){var m=this.distanceBetweenPoints(d,p);m<n&&(n=m,i=t)}}i&&i.isMarkerInClusterBounds(e)?i.addMarker(e):(t=new SF(this),t.addMarker(e),this.clusters.push(t))},r.prototype.createClusters=function(e){var t=this;if(this.ready){e===0&&(google.maps.event.trigger(this,"clusteringbegin",this),this.timerRefStatic!==null&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var n=this.getMap(),i=n!==null&&("getBounds"in n)?n.getBounds():null,o=(n==null?void 0:n.getZoom())||0,l=o>3?new google.maps.LatLngBounds(i==null?void 0:i.getSouthWest(),i==null?void 0:i.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),c=this.getExtendedBounds(l),d=Math.min(e+this.batchSize,this.markers.length),p=e;p<d;p++){var m=this.markers[p];m&&!m.isAdded&&this.isMarkerInBounds(m,c)&&(!this.ignoreHidden||this.ignoreHidden&&m.getVisible())&&this.addToClosestCluster(m)}if(d<this.markers.length)this.timerRefStatic=window.setTimeout(function(){t.createClusters(d)},0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var v=0,E=this.clusters;v<E.length;v++){var S=E[v];S.updateIcon()}}}},r.prototype.extend=function(e,t){return(function(i){for(var o in i.prototype){var l=o;this.prototype[l]=i.prototype[l]}return this}).apply(e,[t])},r}();function pC(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function LF(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?pC(Object(t),!0).forEach(function(n){te(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):pC(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var ur={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},st={averageCenter(r,e){r.setAverageCenter(e)},batchSizeIE(r,e){r.setBatchSizeIE(e)},calculator(r,e){r.setCalculator(e)},clusterClass(r,e){r.setClusterClass(e)},enableRetinaIcons(r,e){r.setEnableRetinaIcons(e)},gridSize(r,e){r.setGridSize(e)},ignoreHidden(r,e){r.setIgnoreHidden(e)},imageExtension(r,e){r.setImageExtension(e)},imagePath(r,e){r.setImagePath(e)},imageSizes(r,e){r.setImageSizes(e)},maxZoom(r,e){r.setMaxZoom(e)},minimumClusterSize(r,e){r.setMinimumClusterSize(e)},styles(r,e){r.setStyles(e)},title(r,e){r.setTitle(e)},zoomOnClick(r,e){r.setZoomOnClick(e)}},RF={};function MF(r){var{children:e,options:t,averageCenter:n,batchSizeIE:i,calculator:o,clusterClass:l,enableRetinaIcons:c,gridSize:d,ignoreHidden:p,imageExtension:m,imagePath:v,imageSizes:E,maxZoom:S,minimumClusterSize:T,styles:L,title:P,zoomOnClick:V,onClick:F,onClusteringBegin:H,onClusteringEnd:j,onMouseOver:z,onMouseOut:$,onLoad:D,onUnmount:I}=r,[k,R]=y.useState(null),A=y.useContext(We),[N,M]=y.useState(null),[fe,me]=y.useState(null),[ce,he]=y.useState(null),[G,ae]=y.useState(null),[re,U]=y.useState(null);return y.useEffect(()=>{k&&$&&(G!==null&&google.maps.event.removeListener(G),ae(google.maps.event.addListener(k,ur.onMouseOut,$)))},[$]),y.useEffect(()=>{k&&z&&(re!==null&&google.maps.event.removeListener(re),U(google.maps.event.addListener(k,ur.onMouseOver,z)))},[z]),y.useEffect(()=>{k&&F&&(N!==null&&google.maps.event.removeListener(N),M(google.maps.event.addListener(k,ur.onClick,F)))},[F]),y.useEffect(()=>{k&&H&&(fe!==null&&google.maps.event.removeListener(fe),me(google.maps.event.addListener(k,ur.onClusteringBegin,H)))},[H]),y.useEffect(()=>{k&&j&&(ce!==null&&google.maps.event.removeListener(ce),me(google.maps.event.addListener(k,ur.onClusteringEnd,j)))},[j]),y.useEffect(()=>{typeof n<"u"&&k!==null&&st.averageCenter(k,n)},[k,n]),y.useEffect(()=>{typeof i<"u"&&k!==null&&st.batchSizeIE(k,i)},[k,i]),y.useEffect(()=>{typeof o<"u"&&k!==null&&st.calculator(k,o)},[k,o]),y.useEffect(()=>{typeof l<"u"&&k!==null&&st.clusterClass(k,l)},[k,l]),y.useEffect(()=>{typeof c<"u"&&k!==null&&st.enableRetinaIcons(k,c)},[k,c]),y.useEffect(()=>{typeof d<"u"&&k!==null&&st.gridSize(k,d)},[k,d]),y.useEffect(()=>{typeof p<"u"&&k!==null&&st.ignoreHidden(k,p)},[k,p]),y.useEffect(()=>{typeof m<"u"&&k!==null&&st.imageExtension(k,m)},[k,m]),y.useEffect(()=>{typeof v<"u"&&k!==null&&st.imagePath(k,v)},[k,v]),y.useEffect(()=>{typeof E<"u"&&k!==null&&st.imageSizes(k,E)},[k,E]),y.useEffect(()=>{typeof S<"u"&&k!==null&&st.maxZoom(k,S)},[k,S]),y.useEffect(()=>{typeof T<"u"&&k!==null&&st.minimumClusterSize(k,T)},[k,T]),y.useEffect(()=>{typeof L<"u"&&k!==null&&st.styles(k,L)},[k,L]),y.useEffect(()=>{typeof P<"u"&&k!==null&&st.title(k,P)},[k,P]),y.useEffect(()=>{typeof V<"u"&&k!==null&&st.zoomOnClick(k,V)},[k,V]),y.useEffect(()=>{if(A){var J=LF({},t||RF),oe=new Nk(A,[],J);return n&&st.averageCenter(oe,n),i&&st.batchSizeIE(oe,i),o&&st.calculator(oe,o),l&&st.clusterClass(oe,l),c&&st.enableRetinaIcons(oe,c),d&&st.gridSize(oe,d),p&&st.ignoreHidden(oe,p),m&&st.imageExtension(oe,m),v&&st.imagePath(oe,v),E&&st.imageSizes(oe,E),S&&st.maxZoom(oe,S),T&&st.minimumClusterSize(oe,T),L&&st.styles(oe,L),P&&st.title(oe,P),V&&st.zoomOnClick(oe,V),$&&ae(google.maps.event.addListener(oe,ur.onMouseOut,$)),z&&U(google.maps.event.addListener(oe,ur.onMouseOver,z)),F&&M(google.maps.event.addListener(oe,ur.onClick,F)),H&&me(google.maps.event.addListener(oe,ur.onClusteringBegin,H)),j&&he(google.maps.event.addListener(oe,ur.onClusteringEnd,j)),R(oe),D&&D(oe),()=>{G!==null&&google.maps.event.removeListener(G),re!==null&&google.maps.event.removeListener(re),N!==null&&google.maps.event.removeListener(N),fe!==null&&google.maps.event.removeListener(fe),ce!==null&&google.maps.event.removeListener(ce),I&&I(oe)}}},[]),k!==null&&e(k)||null}y.memo(MF);class AF extends y.PureComponent{constructor(){super(...arguments),te(this,"registeredEvents",[]),te(this,"state",{markerClusterer:null}),te(this,"setClustererCallback",()=>{this.state.markerClusterer!==null&&this.props.onLoad&&this.props.onLoad(this.state.markerClusterer)})}componentDidMount(){if(this.context){var e=new Nk(this.context,[],this.props.options);this.registeredEvents=Ye({updaterMap:st,eventMap:ur,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({markerClusterer:e}),this.setClustererCallback)}}componentDidUpdate(e){this.state.markerClusterer&&(qe(this.registeredEvents),this.registeredEvents=Ye({updaterMap:st,eventMap:ur,prevProps:e,nextProps:this.props,instance:this.state.markerClusterer}))}componentWillUnmount(){this.state.markerClusterer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),qe(this.registeredEvents),this.state.markerClusterer.setMap(null))}render(){return this.state.markerClusterer!==null?this.props.children(this.state.markerClusterer):null}}te(AF,"contextType",We);function mC(r){r.cancelBubble=!0,r.stopPropagation&&r.stopPropagation()}var Vk=function(){function r(e){e===void 0&&(e={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(r,google.maps.OverlayView),this.content=e.content||"",this.disableAutoPan=e.disableAutoPan||!1,this.maxWidth=e.maxWidth||0,this.pixelOffset=e.pixelOffset||new google.maps.Size(0,0),this.position=e.position||new google.maps.LatLng(0,0),this.zIndex=e.zIndex||null,this.boxClass=e.boxClass||"infoBox",this.boxStyle=e.boxStyle||{},this.closeBoxMargin=e.closeBoxMargin||"2px",this.closeBoxURL=e.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",e.closeBoxURL===""&&(this.closeBoxURL=""),this.infoBoxClearance=e.infoBoxClearance||new google.maps.Size(1,1),typeof e.visible>"u"&&(typeof e.isHidden>"u"?e.visible=!0:e.visible=!e.isHidden),this.isHidden=!e.visible,this.alignBottom=e.alignBottom||!1,this.pane=e.pane||"floatPane",this.enableEventPropagation=e.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return r.prototype.createInfoBoxDiv=function(){var e=this,t=function(m){m.returnValue=!1,m.preventDefault&&m.preventDefault(),e.enableEventPropagation||mC(m)};if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),typeof this.content=="string"?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var n=this.getPanes();if(n!==null&&n[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(this.maxWidth!==0&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var i=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-i.left-i.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var o=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],l=0,c=o;l<c.length;l++){var d=c[l];this.eventListeners.push(google.maps.event.addListener(this.div,d,mC))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",function(){e.div&&(e.div.style.cursor="default")}))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",t),google.maps.event.trigger(this,"domready")}},r.prototype.getCloseBoxImg=function(){var e="";return this.closeBoxURL!==""&&(e='<img alt=""',e+=' aria-hidden="true"',e+=" src='"+this.closeBoxURL+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin+";",e+="'>"),e},r.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&this.closeBoxURL!==""?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},r.prototype.closeClickHandler=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},r.prototype.getCloseClickHandler=function(){return this.closeClickHandler},r.prototype.panBox=function(e){if(this.div&&!e){var t=this.getMap();if(t instanceof google.maps.Map){var n=0,i=0,o=t.getBounds();o&&!o.contains(this.position)&&t.setCenter(this.position);var l=t.getDiv(),c=l.offsetWidth,d=l.offsetHeight,p=this.pixelOffset.width,m=this.pixelOffset.height,v=this.div.offsetWidth,E=this.div.offsetHeight,S=this.infoBoxClearance.width,T=this.infoBoxClearance.height,L=this.getProjection(),P=L.fromLatLngToContainerPixel(this.position);P!==null&&(P.x<-p+S?n=P.x+p-S:P.x+v+p+S>c&&(n=P.x+v+p+S-c),this.alignBottom?P.y<-m+T+E?i=P.y+m-T-E:P.y+m+T>d&&(i=P.y+m+T-d):P.y<-m+T?i=P.y+m-T:P.y+E+m+T>d&&(i=P.y+E+m+T-d)),n===0&&i===0||t.panBy(n,i)}}},r.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var e=this.boxStyle;for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(this.div.style[t]=e[t]);if(this.div.style.webkitTransform="translateZ(0)",typeof this.div.style.opacity<"u"&&this.div.style.opacity!==""){var n=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+n*100+')"',this.div.style.filter="alpha(opacity="+n*100+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",this.zIndex!==null&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},r.prototype.getBoxWidths=function(){var e={top:0,bottom:0,left:0,right:0};if(!this.div)return e;if(document.defaultView){var t=this.div.ownerDocument,n=t&&t.defaultView?t.defaultView.getComputedStyle(this.div,""):null;n&&(e.top=parseInt(n.borderTopWidth||"",10)||0,e.bottom=parseInt(n.borderBottomWidth||"",10)||0,e.left=parseInt(n.borderLeftWidth||"",10)||0,e.right=parseInt(n.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var i=this.div.currentStyle;i&&(e.top=parseInt(i.borderTopWidth||"",10)||0,e.bottom=parseInt(i.borderBottomWidth||"",10)||0,e.left=parseInt(i.borderLeftWidth||"",10)||0,e.right=parseInt(i.borderRightWidth||"",10)||0)}return e},r.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},r.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var e=this.getProjection(),t=e.fromLatLngToDivPixel(this.position);t!==null&&(this.div.style.left=t.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(t.y+this.pixelOffset.height)+"px":this.div.style.top=t.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},r.prototype.setOptions=function(e){e===void 0&&(e={}),typeof e.boxClass<"u"&&(this.boxClass=e.boxClass,this.setBoxStyle()),typeof e.boxStyle<"u"&&(this.boxStyle=e.boxStyle,this.setBoxStyle()),typeof e.content<"u"&&this.setContent(e.content),typeof e.disableAutoPan<"u"&&(this.disableAutoPan=e.disableAutoPan),typeof e.maxWidth<"u"&&(this.maxWidth=e.maxWidth),typeof e.pixelOffset<"u"&&(this.pixelOffset=e.pixelOffset),typeof e.alignBottom<"u"&&(this.alignBottom=e.alignBottom),typeof e.position<"u"&&this.setPosition(e.position),typeof e.zIndex<"u"&&this.setZIndex(e.zIndex),typeof e.closeBoxMargin<"u"&&(this.closeBoxMargin=e.closeBoxMargin),typeof e.closeBoxURL<"u"&&(this.closeBoxURL=e.closeBoxURL),typeof e.infoBoxClearance<"u"&&(this.infoBoxClearance=e.infoBoxClearance),typeof e.isHidden<"u"&&(this.isHidden=e.isHidden),typeof e.visible<"u"&&(this.isHidden=!e.visible),typeof e.enableEventPropagation<"u"&&(this.enableEventPropagation=e.enableEventPropagation),this.div&&this.draw()},r.prototype.setContent=function(e){this.content=e,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px",typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},r.prototype.setPosition=function(e){this.position=e,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},r.prototype.setVisible=function(e){this.isHidden=!e,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},r.prototype.setZIndex=function(e){this.zIndex=e,this.div&&(this.div.style.zIndex=e+""),google.maps.event.trigger(this,"zindex_changed")},r.prototype.getContent=function(){return this.content},r.prototype.getPosition=function(){return this.position},r.prototype.getZIndex=function(){return this.zIndex},r.prototype.getVisible=function(){var e=this.getMap();return typeof e>"u"||e===null?!1:!this.isHidden},r.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},r.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},r.prototype.open=function(e,t){var n=this;t&&(this.position=t.getPosition(),this.moveListener=google.maps.event.addListener(t,"position_changed",function(){var i=t.getPosition();n.setPosition(i)}),this.mapListener=google.maps.event.addListener(t,"map_changed",function(){n.setMap(t.map)})),this.setMap(e),this.div&&this.panBox()},r.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var e=0,t=this.eventListeners;e<t.length;e++){var n=t[e];google.maps.event.removeListener(n)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},r.prototype.extend=function(e,t){return(function(i){for(var o in i.prototype)Object.prototype.hasOwnProperty.call(this,o)||(this.prototype[o]=i.prototype[o]);return this}).apply(e,[t])},r}(),OF=["position"],NF=["position"];function gC(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function jf(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?gC(Object(t),!0).forEach(function(n){te(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):gC(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var vC={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},yC={options(r,e){r.setOptions(e)},position(r,e){e instanceof google.maps.LatLng?r.setPosition(e):r.setPosition(new google.maps.LatLng(e.lat,e.lng))},visible(r,e){r.setVisible(e)},zIndex(r,e){r.setZIndex(e)}},VF={};function FF(r){var{children:e,anchor:t,options:n,position:i,zIndex:o,onCloseClick:l,onDomReady:c,onContentChanged:d,onPositionChanged:p,onZindexChanged:m,onLoad:v,onUnmount:E}=r,S=y.useContext(We),[T,L]=y.useState(null),[P,V]=y.useState(null),[F,H]=y.useState(null),[j,z]=y.useState(null),[$,D]=y.useState(null),[I,k]=y.useState(null),R=y.useRef(null);return y.useEffect(()=>{S&&T!==null&&(T.close(),t?T.open(S,t):T.getPosition()&&T.open(S))},[S,T,t]),y.useEffect(()=>{n&&T!==null&&T.setOptions(n)},[T,n]),y.useEffect(()=>{if(i&&T!==null){var A=i instanceof google.maps.LatLng?i:new google.maps.LatLng(i.lat,i.lng);T.setPosition(A)}},[i]),y.useEffect(()=>{typeof o=="number"&&T!==null&&T.setZIndex(o)},[o]),y.useEffect(()=>{T&&l&&(P!==null&&google.maps.event.removeListener(P),V(google.maps.event.addListener(T,"closeclick",l)))},[l]),y.useEffect(()=>{T&&c&&(F!==null&&google.maps.event.removeListener(F),H(google.maps.event.addListener(T,"domready",c)))},[c]),y.useEffect(()=>{T&&d&&(j!==null&&google.maps.event.removeListener(j),z(google.maps.event.addListener(T,"content_changed",d)))},[d]),y.useEffect(()=>{T&&p&&($!==null&&google.maps.event.removeListener($),D(google.maps.event.addListener(T,"position_changed",p)))},[p]),y.useEffect(()=>{T&&m&&(I!==null&&google.maps.event.removeListener(I),k(google.maps.event.addListener(T,"zindex_changed",m)))},[m]),y.useEffect(()=>{if(S){var A=n||VF,{position:N}=A,M=Sv(A,OF),fe;N&&!(N instanceof google.maps.LatLng)&&(fe=new google.maps.LatLng(N.lat,N.lng));var me=new Vk(jf(jf({},M),fe?{position:fe}:{}));R.current=document.createElement("div"),L(me),l&&V(google.maps.event.addListener(me,"closeclick",l)),c&&H(google.maps.event.addListener(me,"domready",c)),d&&z(google.maps.event.addListener(me,"content_changed",d)),p&&D(google.maps.event.addListener(me,"position_changed",p)),m&&k(google.maps.event.addListener(me,"zindex_changed",m)),me.setContent(R.current),t?me.open(S,t):me.getPosition()?me.open(S):Ht(!1,"You must provide either an anchor or a position prop for <InfoBox>."),v&&v(me)}return()=>{T!==null&&(P&&google.maps.event.removeListener(P),j&&google.maps.event.removeListener(j),F&&google.maps.event.removeListener(F),$&&google.maps.event.removeListener($),I&&google.maps.event.removeListener(I),E&&E(T),T.close())}},[]),R.current?ro.createPortal(y.Children.only(e),R.current):null}y.memo(FF);class UF extends y.PureComponent{constructor(){super(...arguments),te(this,"registeredEvents",[]),te(this,"containerElement",null),te(this,"state",{infoBox:null}),te(this,"open",(e,t)=>{t?this.context!==null&&e.open(this.context,t):e.getPosition()?this.context!==null&&e.open(this.context):Ht(!1,"You must provide either an anchor or a position prop for <InfoBox>.")}),te(this,"setInfoBoxCallback",()=>{this.state.infoBox!==null&&this.containerElement!==null&&(this.state.infoBox.setContent(this.containerElement),this.open(this.state.infoBox,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoBox))})}componentDidMount(){var e=this.props.options||{},{position:t}=e,n=Sv(e,NF),i;t&&!(t instanceof google.maps.LatLng)&&(i=new google.maps.LatLng(t.lat,t.lng));var o=new Vk(jf(jf({},n),i?{position:i}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=Ye({updaterMap:yC,eventMap:vC,prevProps:{},nextProps:this.props,instance:o}),this.setState({infoBox:o},this.setInfoBoxCallback)}componentDidUpdate(e){var{infoBox:t}=this.state;t!==null&&(qe(this.registeredEvents),this.registeredEvents=Ye({updaterMap:yC,eventMap:vC,prevProps:e,nextProps:this.props,instance:t}))}componentWillUnmount(){var{onUnmount:e}=this.props,{infoBox:t}=this.state;t!==null&&(e&&e(t),qe(this.registeredEvents),t.close())}render(){return this.containerElement?ro.createPortal(y.Children.only(this.props.children),this.containerElement):null}}te(UF,"contextType",We);var Sm,_C;function jF(){return _C||(_C=1,Sm=function r(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,i,o;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(i=n;i--!==0;)if(!r(e[i],t[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(t,o[i]))return!1;for(i=n;i--!==0;){var l=o[i];if(!r(e[l],t[l]))return!1}return!0}return e!==e&&t!==t}),Sm}var BF=jF(),wC=Lk(BF),EC=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],Tm=1,gu=8;class Tv{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");var[t,n]=new Uint8Array(e,0,2);if(t!==219)throw new Error("Data does not appear to be in a KDBush format.");var i=n>>4;if(i!==Tm)throw new Error("Got v".concat(i," data when expected v").concat(Tm,"."));var o=EC[n&15];if(!o)throw new Error("Unrecognized array type.");var[l]=new Uint16Array(e,2,1),[c]=new Uint32Array(e,4,1);return new Tv(c,l,o,e)}constructor(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:64,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Float64Array,i=arguments.length>3?arguments[3]:void 0;if(isNaN(e)||e<0)throw new Error("Unpexpected numItems value: ".concat(e,"."));this.numItems=+e,this.nodeSize=Math.min(Math.max(+t,2),65535),this.ArrayType=n,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;var o=EC.indexOf(this.ArrayType),l=e*2*this.ArrayType.BYTES_PER_ELEMENT,c=e*this.IndexArrayType.BYTES_PER_ELEMENT,d=(8-c%8)%8;if(o<0)throw new Error("Unexpected typed array class: ".concat(n,"."));i&&i instanceof ArrayBuffer?(this.data=i,this.ids=new this.IndexArrayType(this.data,gu,e),this.coords=new this.ArrayType(this.data,gu+c+d,e*2),this._pos=e*2,this._finished=!0):(this.data=new ArrayBuffer(gu+l+c+d),this.ids=new this.IndexArrayType(this.data,gu,e),this.coords=new this.ArrayType(this.data,gu+c+d,e*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(Tm<<4)+o]),new Uint16Array(this.data,2,1)[0]=t,new Uint32Array(this.data,4,1)[0]=e)}add(e,t){var n=this._pos>>1;return this.ids[n]=n,this.coords[this._pos++]=e,this.coords[this._pos++]=t,n}finish(){var e=this._pos>>1;if(e!==this.numItems)throw new Error("Added ".concat(e," items when expected ").concat(this.numItems,"."));return ag(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,t,n,i){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:o,coords:l,nodeSize:c}=this,d=[0,o.length-1,0],p=[];d.length;){var m=d.pop()||0,v=d.pop()||0,E=d.pop()||0;if(v-E<=c){for(var S=E;S<=v;S++){var T=l[2*S],L=l[2*S+1];T>=e&&T<=n&&L>=t&&L<=i&&p.push(o[S])}continue}var P=E+v>>1,V=l[2*P],F=l[2*P+1];V>=e&&V<=n&&F>=t&&F<=i&&p.push(o[P]),(m===0?e<=V:t<=F)&&(d.push(E),d.push(P-1),d.push(1-m)),(m===0?n>=V:i>=F)&&(d.push(P+1),d.push(v),d.push(1-m))}return p}within(e,t,n){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:i,coords:o,nodeSize:l}=this,c=[0,i.length-1,0],d=[],p=n*n;c.length;){var m=c.pop()||0,v=c.pop()||0,E=c.pop()||0;if(v-E<=l){for(var S=E;S<=v;S++)CC(o[2*S],o[2*S+1],e,t)<=p&&d.push(i[S]);continue}var T=E+v>>1,L=o[2*T],P=o[2*T+1];CC(L,P,e,t)<=p&&d.push(i[T]),(m===0?e-n<=L:t-n<=P)&&(c.push(E),c.push(T-1),c.push(1-m)),(m===0?e+n>=L:t+n>=P)&&(c.push(T+1),c.push(v),c.push(1-m))}return d}}function ag(r,e,t,n,i,o){if(!(i-n<=t)){var l=n+i>>1;Fk(r,e,l,n,i,o),ag(r,e,t,n,l-1,1-o),ag(r,e,t,l+1,i,1-o)}}function Fk(r,e,t,n,i,o){for(;i>n;){if(i-n>600){var l=i-n+1,c=t-n+1,d=Math.log(l),p=.5*Math.exp(2*d/3),m=.5*Math.sqrt(d*p*(l-p)/l)*(c-l/2<0?-1:1),v=Math.max(n,Math.floor(t-c*p/l+m)),E=Math.min(i,Math.floor(t+(l-c)*p/l+m));Fk(r,e,t,v,E,o)}var S=e[2*t+o],T=n,L=i;for(vu(r,e,n,t),e[2*i+o]>S&&vu(r,e,n,i);T<L;){for(vu(r,e,T,L),T++,L--;e[2*T+o]<S;)T++;for(;e[2*L+o]>S;)L--}e[2*n+o]===S?vu(r,e,n,L):(L++,vu(r,e,L,i)),L<=t&&(n=L+1),t<=L&&(i=L-1)}}function vu(r,e,t,n){km(r,t,n),km(e,2*t,2*n),km(e,2*t+1,2*n+1)}function km(r,e,t){var n=r[e];r[e]=r[t],r[t]=n}function CC(r,e,t,n){var i=r-t,o=e-n;return i*i+o*o}var zF={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:r=>r},SC=Math.fround||(r=>e=>(r[0]=+e,r[0]))(new Float32Array(1)),Ao=2,Rs=3,bm=4,Ls=5,Uk=6;class WF{constructor(e){this.options=Object.assign(Object.create(zF),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){var{log:t,minZoom:n,maxZoom:i}=this.options;t&&console.time("total time");var o="prepare ".concat(e.length," points");t&&console.time(o),this.points=e;for(var l=[],c=0;c<e.length;c++){var d=e[c];if(d.geometry){var[p,m]=d.geometry.coordinates,v=SC(Ud(p)),E=SC(jd(m));l.push(v,E,1/0,c,-1,1),this.options.reduce&&l.push(0)}}var S=this.trees[i+1]=this._createTree(l);t&&console.timeEnd(o);for(var T=i;T>=n;T--){var L=+Date.now();S=this.trees[T]=this._createTree(this._cluster(S,T)),t&&console.log("z%d: %d clusters in %dms",T,S.numItems,+Date.now()-L)}return t&&console.timeEnd("total time"),this}getClusters(e,t){var n=((e[0]+180)%360+360)%360-180,i=Math.max(-90,Math.min(90,e[1])),o=e[2]===180?180:((e[2]+180)%360+360)%360-180,l=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)n=-180,o=180;else if(n>o){var c=this.getClusters([n,i,180,l],t),d=this.getClusters([-180,i,o,l],t);return c.concat(d)}var p=this.trees[this._limitZoom(t)],m=p.range(Ud(n),jd(l),Ud(o),jd(i)),v=p.data,E=[];for(var S of m){var T=this.stride*S;E.push(v[T+Ls]>1?TC(v,T,this.clusterProps):this.points[v[T+Rs]])}return E}getChildren(e){var t=this._getOriginId(e),n=this._getOriginZoom(e),i="No cluster with the specified id.",o=this.trees[n];if(!o)throw new Error(i);var l=o.data;if(t*this.stride>=l.length)throw new Error(i);var c=this.options.radius/(this.options.extent*Math.pow(2,n-1)),d=l[t*this.stride],p=l[t*this.stride+1],m=o.within(d,p,c),v=[];for(var E of m){var S=E*this.stride;l[S+bm]===e&&v.push(l[S+Ls]>1?TC(l,S,this.clusterProps):this.points[l[S+Rs]])}if(v.length===0)throw new Error(i);return v}getLeaves(e,t,n){t=t||10,n=n||0;var i=[];return this._appendLeaves(i,e,t,n,0),i}getTile(e,t,n){var i=this.trees[this._limitZoom(e)],o=Math.pow(2,e),{extent:l,radius:c}=this.options,d=c/l,p=(n-d)/o,m=(n+1+d)/o,v={features:[]};return this._addTileFeatures(i.range((t-d)/o,p,(t+1+d)/o,m),i.data,t,n,o,v),t===0&&this._addTileFeatures(i.range(1-d/o,p,1,m),i.data,o,n,o,v),t===o-1&&this._addTileFeatures(i.range(0,p,d/o,m),i.data,-1,n,o,v),v.features.length?v:null}getClusterExpansionZoom(e){for(var t=this._getOriginZoom(e)-1;t<=this.options.maxZoom;){var n=this.getChildren(e);if(t++,n.length!==1)break;e=n[0].properties.cluster_id}return t}_appendLeaves(e,t,n,i,o){var l=this.getChildren(t);for(var c of l){var d=c.properties;if(d&&d.cluster?o+d.point_count<=i?o+=d.point_count:o=this._appendLeaves(e,d.cluster_id,n,i,o):o<i?o++:e.push(c),e.length===n)break}return o}_createTree(e){for(var t=new Tv(e.length/this.stride|0,this.options.nodeSize,Float32Array),n=0;n<e.length;n+=this.stride)t.add(e[n],e[n+1]);return t.finish(),t.data=e,t}_addTileFeatures(e,t,n,i,o,l){for(var c of e){var d=c*this.stride,p=t[d+Ls]>1,m=void 0,v=void 0,E=void 0;if(p)m=jk(t,d,this.clusterProps),v=t[d],E=t[d+1];else{var S=this.points[t[d+Rs]];m=S.properties;var[T,L]=S.geometry.coordinates;v=Ud(T),E=jd(L)}var P={type:1,geometry:[[Math.round(this.options.extent*(v*o-n)),Math.round(this.options.extent*(E*o-i))]],tags:m},V=void 0;p||this.options.generateId?V=t[d+Rs]:V=this.points[t[d+Rs]].id,V!==void 0&&(P.id=V),l.features.push(P)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,t){for(var{radius:n,extent:i,reduce:o,minPoints:l}=this.options,c=n/(i*Math.pow(2,t)),d=e.data,p=[],m=this.stride,v=0;v<d.length;v+=m)if(!(d[v+Ao]<=t)){d[v+Ao]=t;var E=d[v],S=d[v+1],T=e.within(d[v],d[v+1],c),L=d[v+Ls],P=L;for(var V of T){var F=V*m;d[F+Ao]>t&&(P+=d[F+Ls])}if(P>L&&P>=l){var H=E*L,j=S*L,z=void 0,$=-1,D=((v/m|0)<<5)+(t+1)+this.points.length;for(var I of T){var k=I*m;if(!(d[k+Ao]<=t)){d[k+Ao]=t;var R=d[k+Ls];H+=d[k]*R,j+=d[k+1]*R,d[k+bm]=D,o&&(z||(z=this._map(d,v,!0),$=this.clusterProps.length,this.clusterProps.push(z)),o(z,this._map(d,k)))}}d[v+bm]=D,p.push(H/P,j/P,1/0,D,-1,P),o&&p.push($)}else{for(var A=0;A<m;A++)p.push(d[v+A]);if(P>1)for(var N of T){var M=N*m;if(!(d[M+Ao]<=t)){d[M+Ao]=t;for(var fe=0;fe<m;fe++)p.push(d[M+fe])}}}}return p}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,t,n){if(e[t+Ls]>1){var i=this.clusterProps[e[t+Uk]];return n?Object.assign({},i):i}var o=this.points[e[t+Rs]].properties,l=this.options.map(o);return n&&l===o?Object.assign({},l):l}}function TC(r,e,t){return{type:"Feature",id:r[e+Rs],properties:jk(r,e,t),geometry:{type:"Point",coordinates:[HF(r[e]),$F(r[e+1])]}}}function jk(r,e,t){var n=r[e+Ls],i=n>=1e4?"".concat(Math.round(n/1e3),"k"):n>=1e3?"".concat(Math.round(n/100)/10,"k"):n,o=r[e+Uk],l=o===-1?{}:Object.assign({},t[o]);return Object.assign(l,{cluster:!0,cluster_id:r[e+Rs],point_count:n,point_count_abbreviated:i})}function Ud(r){return r/360+.5}function jd(r){var e=Math.sin(r*Math.PI/180),t=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return t<0?0:t>1?1:t}function HF(r){return(r-.5)*360}function $F(r){var e=(180-r*360)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function YF(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t}class qn{static isAdvancedMarkerAvailable(e){return google.maps.marker&&e.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,t){this.isAdvancedMarker(e)?e.map=t:e.setMap(t)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return this.isAdvancedMarker(e)?!0:e.getVisible()}}class lg{constructor(e){var{markers:t,position:n}=e;this.markers=t,n&&(n instanceof google.maps.LatLng?this._position=n:this._position=new google.maps.LatLng(n))}get bounds(){if(!(this.markers.length===0&&!this._position)){var e=new google.maps.LatLngBounds(this._position,this._position);for(var t of this.markers)e.extend(qn.getPosition(t));return e}}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>qn.getVisible(e)).length}push(e){this.markers.push(e)}delete(){this.marker&&(qn.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class qF{constructor(e){var{maxZoom:t=16}=e;this.maxZoom=t}noop(e){var{markers:t}=e;return KF(t)}}var KF=r=>{var e=r.map(t=>new lg({position:qn.getPosition(t),markers:[t]}));return e};class GF extends qF{constructor(e){var{maxZoom:t,radius:n=60}=e,i=YF(e,["maxZoom","radius"]);super({maxZoom:t}),this.state={zoom:-1},this.superCluster=new WF(Object.assign({maxZoom:this.maxZoom,radius:n},i))}calculate(e){var t=!1,n={zoom:e.map.getZoom()};if(!wC(e.markers,this.markers)){t=!0,this.markers=[...e.markers];var i=this.markers.map(o=>{var l=qn.getPosition(o),c=[l.lng(),l.lat()];return{type:"Feature",geometry:{type:"Point",coordinates:c},properties:{marker:o}}});this.superCluster.load(i)}return t||(this.state.zoom<=this.maxZoom||n.zoom<=this.maxZoom)&&(t=!wC(this.state,n)),this.state=n,t&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:t}}cluster(e){var{map:t}=e;return this.superCluster.getClusters([-180,-90,180,90],Math.round(t.getZoom())).map(n=>this.transformCluster(n))}transformCluster(e){var{geometry:{coordinates:[t,n]},properties:i}=e;if(i.cluster)return new lg({markers:this.superCluster.getLeaves(i.cluster_id,1/0).map(l=>l.properties.marker),position:{lat:n,lng:t}});var o=i.marker;return new lg({markers:[o],position:qn.getPosition(o)})}}class QF{constructor(e,t){this.markers={sum:e.length};var n=t.map(o=>o.count),i=n.reduce((o,l)=>o+l,0);this.clusters={count:t.length,markers:{mean:i/t.length,sum:i,min:Math.min(...n),max:Math.max(...n)}}}}class XF{render(e,t,n){var{count:i,position:o}=e,l=i>Math.max(10,t.clusters.markers.mean)?"#ff0000":"#0000ff",c='<svg fill="'.concat(l,`" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">`).concat(i,`</text>
</svg>`),d="Cluster of ".concat(i," markers"),p=Number(google.maps.Marker.MAX_ZINDEX)+i;if(qn.isAdvancedMarkerAvailable(n)){var m=new DOMParser,v=m.parseFromString(c,"image/svg+xml").documentElement;v.setAttribute("transform","translate(0 25)");var E={map:n,position:o,zIndex:p,title:d,content:v};return new google.maps.marker.AdvancedMarkerElement(E)}var S={position:o,zIndex:p,title:d,icon:{url:"data:image/svg+xml;base64,".concat(btoa(c)),anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(S)}}function ZF(r,e){for(var t in e.prototype)r.prototype[t]=e.prototype[t]}class kv{constructor(){ZF(kv,google.maps.OverlayView)}}var Lu;(function(r){r.CLUSTERING_BEGIN="clusteringbegin",r.CLUSTERING_END="clusteringend",r.CLUSTER_CLICK="click"})(Lu||(Lu={}));var JF=(r,e,t)=>{t.fitBounds(e.bounds)};class eU extends kv{constructor(e){var{map:t,markers:n=[],algorithmOptions:i={},algorithm:o=new GF(i),renderer:l=new XF,onClusterClick:c=JF}=e;super(),this.markers=[...n],this.clusters=[],this.algorithm=o,this.renderer=l,this.onClusterClick=c,t&&this.setMap(t)}addMarker(e,t){this.markers.includes(e)||(this.markers.push(e),t||this.render())}addMarkers(e,t){e.forEach(n=>{this.addMarker(n,!0)}),t||this.render()}removeMarker(e,t){var n=this.markers.indexOf(e);return n===-1?!1:(qn.setMap(e,null),this.markers.splice(n,1),t||this.render(),!0)}removeMarkers(e,t){var n=!1;return e.forEach(i=>{n=this.removeMarker(i,!0)||n}),n&&!t&&this.render(),n}clearMarkers(e){this.markers.length=0,e||this.render()}render(){var e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,Lu.CLUSTERING_BEGIN,this);var{clusters:t,changed:n}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(n||n==null){var i=new Set;for(var o of t)o.markers.length==1&&i.add(o.markers[0]);var l=[];for(var c of this.clusters)c.marker!=null&&(c.markers.length==1?i.has(c.marker)||qn.setMap(c.marker,null):l.push(c.marker));this.clusters=t,this.renderClusters(),requestAnimationFrame(()=>l.forEach(d=>qn.setMap(d,null)))}google.maps.event.trigger(this,Lu.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>qn.setMap(e,null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){var e=new QF(this.markers,this.clusters),t=this.getMap();this.clusters.forEach(n=>{n.markers.length===1?n.marker=n.markers[0]:(n.marker=this.renderer.render(n,e,t),n.markers.forEach(i=>qn.setMap(i,null)),this.onClusterClick&&n.marker.addListener("click",i=>{google.maps.event.trigger(this,Lu.CLUSTER_CLICK,n),this.onClusterClick(i,n,t)})),qn.setMap(n.marker,t)})}}function kC(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function bC(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?kC(Object(t),!0).forEach(function(n){te(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):kC(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function tU(r){var e=$V(),[t,n]=y.useState(null);return y.useEffect(()=>{if(e&&t===null){var i=new eU(bC(bC({},r),{},{map:e}));n(i)}},[e]),t}function nU(r){var{children:e,options:t}=r,n=tU(t);return n!==null?e(n):null}y.memo(nU);var IC={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},PC={options(r,e){r.setOptions(e)},position(r,e){r.setPosition(e)},zIndex(r,e){r.setZIndex(e)}};function rU(r){var{children:e,anchor:t,options:n,position:i,zIndex:o,onCloseClick:l,onDomReady:c,onContentChanged:d,onPositionChanged:p,onZindexChanged:m,onLoad:v,onUnmount:E}=r,S=y.useContext(We),[T,L]=y.useState(null),[P,V]=y.useState(null),[F,H]=y.useState(null),[j,z]=y.useState(null),[$,D]=y.useState(null),[I,k]=y.useState(null),R=y.useRef(null);return y.useEffect(()=>{T!==null&&(T.close(),t?T.open(S,t):T.getPosition()&&T.open(S))},[S,T,t]),y.useEffect(()=>{n&&T!==null&&T.setOptions(n)},[T,n]),y.useEffect(()=>{i&&T!==null&&T.setPosition(i)},[i]),y.useEffect(()=>{typeof o=="number"&&T!==null&&T.setZIndex(o)},[o]),y.useEffect(()=>{T&&l&&(P!==null&&google.maps.event.removeListener(P),V(google.maps.event.addListener(T,"closeclick",l)))},[l]),y.useEffect(()=>{T&&c&&(F!==null&&google.maps.event.removeListener(F),H(google.maps.event.addListener(T,"domready",c)))},[c]),y.useEffect(()=>{T&&d&&(j!==null&&google.maps.event.removeListener(j),z(google.maps.event.addListener(T,"content_changed",d)))},[d]),y.useEffect(()=>{T&&p&&($!==null&&google.maps.event.removeListener($),D(google.maps.event.addListener(T,"position_changed",p)))},[p]),y.useEffect(()=>{T&&m&&(I!==null&&google.maps.event.removeListener(I),k(google.maps.event.addListener(T,"zindex_changed",m)))},[m]),y.useEffect(()=>{var A=new google.maps.InfoWindow(n);return L(A),R.current=document.createElement("div"),l&&V(google.maps.event.addListener(A,"closeclick",l)),c&&H(google.maps.event.addListener(A,"domready",c)),d&&z(google.maps.event.addListener(A,"content_changed",d)),p&&D(google.maps.event.addListener(A,"position_changed",p)),m&&k(google.maps.event.addListener(A,"zindex_changed",m)),A.setContent(R.current),i&&A.setPosition(i),o&&A.setZIndex(o),t?A.open(S,t):A.getPosition()?A.open(S):Ht(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),v&&v(A),()=>{P&&google.maps.event.removeListener(P),j&&google.maps.event.removeListener(j),F&&google.maps.event.removeListener(F),$&&google.maps.event.removeListener($),I&&google.maps.event.removeListener(I),E&&E(A),A.close()}},[]),R.current?ro.createPortal(y.Children.only(e),R.current):null}y.memo(rU);class iU extends y.PureComponent{constructor(){super(...arguments),te(this,"registeredEvents",[]),te(this,"containerElement",null),te(this,"state",{infoWindow:null}),te(this,"open",(e,t)=>{t?e.open(this.context,t):e.getPosition()?e.open(this.context):Ht(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")}),te(this,"setInfoWindowCallback",()=>{this.state.infoWindow!==null&&this.containerElement!==null&&(this.state.infoWindow.setContent(this.containerElement),this.open(this.state.infoWindow,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoWindow))})}componentDidMount(){var e=new google.maps.InfoWindow(this.props.options);this.containerElement=document.createElement("div"),this.registeredEvents=Ye({updaterMap:PC,eventMap:IC,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({infoWindow:e}),this.setInfoWindowCallback)}componentDidUpdate(e){this.state.infoWindow!==null&&(qe(this.registeredEvents),this.registeredEvents=Ye({updaterMap:PC,eventMap:IC,prevProps:e,nextProps:this.props,instance:this.state.infoWindow}))}componentWillUnmount(){this.state.infoWindow!==null&&(qe(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())}render(){return this.containerElement?ro.createPortal(y.Children.only(this.props.children),this.containerElement):null}}te(iU,"contextType",We);function DC(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Bf(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?DC(Object(t),!0).forEach(function(n){te(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):DC(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var xC={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},LC={draggable(r,e){r.setDraggable(e)},editable(r,e){r.setEditable(e)},map(r,e){r.setMap(e)},options(r,e){r.setOptions(e)},path(r,e){r.setPath(e)},visible(r,e){r.setVisible(e)}},sU={};function oU(r){var{options:e,draggable:t,editable:n,visible:i,path:o,onDblClick:l,onDragEnd:c,onDragStart:d,onMouseDown:p,onMouseMove:m,onMouseOut:v,onMouseOver:E,onMouseUp:S,onRightClick:T,onClick:L,onDrag:P,onLoad:V,onUnmount:F}=r,H=y.useContext(We),[j,z]=y.useState(null),[$,D]=y.useState(null),[I,k]=y.useState(null),[R,A]=y.useState(null),[N,M]=y.useState(null),[fe,me]=y.useState(null),[ce,he]=y.useState(null),[G,ae]=y.useState(null),[re,U]=y.useState(null),[J,oe]=y.useState(null),[we,X]=y.useState(null),[xe,Le]=y.useState(null);return y.useEffect(()=>{j!==null&&j.setMap(H)},[H]),y.useEffect(()=>{typeof e<"u"&&j!==null&&j.setOptions(e)},[j,e]),y.useEffect(()=>{typeof t<"u"&&j!==null&&j.setDraggable(t)},[j,t]),y.useEffect(()=>{typeof n<"u"&&j!==null&&j.setEditable(n)},[j,n]),y.useEffect(()=>{typeof i<"u"&&j!==null&&j.setVisible(i)},[j,i]),y.useEffect(()=>{typeof o<"u"&&j!==null&&j.setPath(o)},[j,o]),y.useEffect(()=>{j&&l&&($!==null&&google.maps.event.removeListener($),D(google.maps.event.addListener(j,"dblclick",l)))},[l]),y.useEffect(()=>{j&&c&&(I!==null&&google.maps.event.removeListener(I),k(google.maps.event.addListener(j,"dragend",c)))},[c]),y.useEffect(()=>{j&&d&&(R!==null&&google.maps.event.removeListener(R),A(google.maps.event.addListener(j,"dragstart",d)))},[d]),y.useEffect(()=>{j&&p&&(N!==null&&google.maps.event.removeListener(N),M(google.maps.event.addListener(j,"mousedown",p)))},[p]),y.useEffect(()=>{j&&m&&(fe!==null&&google.maps.event.removeListener(fe),me(google.maps.event.addListener(j,"mousemove",m)))},[m]),y.useEffect(()=>{j&&v&&(ce!==null&&google.maps.event.removeListener(ce),he(google.maps.event.addListener(j,"mouseout",v)))},[v]),y.useEffect(()=>{j&&E&&(G!==null&&google.maps.event.removeListener(G),ae(google.maps.event.addListener(j,"mouseover",E)))},[E]),y.useEffect(()=>{j&&S&&(re!==null&&google.maps.event.removeListener(re),U(google.maps.event.addListener(j,"mouseup",S)))},[S]),y.useEffect(()=>{j&&T&&(J!==null&&google.maps.event.removeListener(J),oe(google.maps.event.addListener(j,"rightclick",T)))},[T]),y.useEffect(()=>{j&&L&&(we!==null&&google.maps.event.removeListener(we),X(google.maps.event.addListener(j,"click",L)))},[L]),y.useEffect(()=>{j&&P&&(xe!==null&&google.maps.event.removeListener(xe),Le(google.maps.event.addListener(j,"drag",P)))},[P]),y.useEffect(()=>{var ye=new google.maps.Polyline(Bf(Bf({},e||sU),{},{map:H}));return o&&ye.setPath(o),typeof i<"u"&&ye.setVisible(i),typeof n<"u"&&ye.setEditable(n),typeof t<"u"&&ye.setDraggable(t),l&&D(google.maps.event.addListener(ye,"dblclick",l)),c&&k(google.maps.event.addListener(ye,"dragend",c)),d&&A(google.maps.event.addListener(ye,"dragstart",d)),p&&M(google.maps.event.addListener(ye,"mousedown",p)),m&&me(google.maps.event.addListener(ye,"mousemove",m)),v&&he(google.maps.event.addListener(ye,"mouseout",v)),E&&ae(google.maps.event.addListener(ye,"mouseover",E)),S&&U(google.maps.event.addListener(ye,"mouseup",S)),T&&oe(google.maps.event.addListener(ye,"rightclick",T)),L&&X(google.maps.event.addListener(ye,"click",L)),P&&Le(google.maps.event.addListener(ye,"drag",P)),z(ye),V&&V(ye),()=>{$!==null&&google.maps.event.removeListener($),I!==null&&google.maps.event.removeListener(I),R!==null&&google.maps.event.removeListener(R),N!==null&&google.maps.event.removeListener(N),fe!==null&&google.maps.event.removeListener(fe),ce!==null&&google.maps.event.removeListener(ce),G!==null&&google.maps.event.removeListener(G),re!==null&&google.maps.event.removeListener(re),J!==null&&google.maps.event.removeListener(J),we!==null&&google.maps.event.removeListener(we),F&&F(ye),ye.setMap(null)}},[]),null}y.memo(oU);class aU extends y.PureComponent{constructor(){super(...arguments),te(this,"registeredEvents",[]),te(this,"state",{polyline:null}),te(this,"setPolylineCallback",()=>{this.state.polyline!==null&&this.props.onLoad&&this.props.onLoad(this.state.polyline)})}componentDidMount(){var e=new google.maps.Polyline(Bf(Bf({},this.props.options),{},{map:this.context}));this.registeredEvents=Ye({updaterMap:LC,eventMap:xC,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{polyline:e}},this.setPolylineCallback)}componentDidUpdate(e){this.state.polyline!==null&&(qe(this.registeredEvents),this.registeredEvents=Ye({updaterMap:LC,eventMap:xC,prevProps:e,nextProps:this.props,instance:this.state.polyline}))}componentWillUnmount(){this.state.polyline!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),qe(this.registeredEvents),this.state.polyline.setMap(null))}render(){return null}}te(aU,"contextType",We);function RC(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function MC(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?RC(Object(t),!0).forEach(function(n){te(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):RC(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var AC={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},OC={draggable(r,e){r.setDraggable(e)},editable(r,e){r.setEditable(e)},map(r,e){r.setMap(e)},options(r,e){r.setOptions(e)},path(r,e){r.setPath(e)},paths(r,e){r.setPaths(e)},visible(r,e){r.setVisible(e)}};function lU(r){var{options:e,draggable:t,editable:n,visible:i,path:o,paths:l,onDblClick:c,onDragEnd:d,onDragStart:p,onMouseDown:m,onMouseMove:v,onMouseOut:E,onMouseOver:S,onMouseUp:T,onRightClick:L,onClick:P,onDrag:V,onLoad:F,onUnmount:H,onEdit:j}=r,z=y.useContext(We),[$,D]=y.useState(null),[I,k]=y.useState(null),[R,A]=y.useState(null),[N,M]=y.useState(null),[fe,me]=y.useState(null),[ce,he]=y.useState(null),[G,ae]=y.useState(null),[re,U]=y.useState(null),[J,oe]=y.useState(null),[we,X]=y.useState(null),[xe,Le]=y.useState(null),[ye,Ve]=y.useState(null);return y.useEffect(()=>{$!==null&&$.setMap(z)},[z]),y.useEffect(()=>{typeof e<"u"&&$!==null&&$.setOptions(e)},[$,e]),y.useEffect(()=>{typeof t<"u"&&$!==null&&$.setDraggable(t)},[$,t]),y.useEffect(()=>{typeof n<"u"&&$!==null&&$.setEditable(n)},[$,n]),y.useEffect(()=>{typeof i<"u"&&$!==null&&$.setVisible(i)},[$,i]),y.useEffect(()=>{typeof o<"u"&&$!==null&&$.setPath(o)},[$,o]),y.useEffect(()=>{typeof l<"u"&&$!==null&&$.setPaths(l)},[$,l]),y.useEffect(()=>{$&&typeof c=="function"&&(I!==null&&google.maps.event.removeListener(I),k(google.maps.event.addListener($,"dblclick",c)))},[c]),y.useEffect(()=>{$&&(google.maps.event.addListener($.getPath(),"insert_at",()=>{j==null||j($)}),google.maps.event.addListener($.getPath(),"set_at",()=>{j==null||j($)}),google.maps.event.addListener($.getPath(),"remove_at",()=>{j==null||j($)}))},[$,j]),y.useEffect(()=>{$&&typeof d=="function"&&(R!==null&&google.maps.event.removeListener(R),A(google.maps.event.addListener($,"dragend",d)))},[d]),y.useEffect(()=>{$&&typeof p=="function"&&(N!==null&&google.maps.event.removeListener(N),M(google.maps.event.addListener($,"dragstart",p)))},[p]),y.useEffect(()=>{$&&typeof m=="function"&&(fe!==null&&google.maps.event.removeListener(fe),me(google.maps.event.addListener($,"mousedown",m)))},[m]),y.useEffect(()=>{$&&typeof v=="function"&&(ce!==null&&google.maps.event.removeListener(ce),he(google.maps.event.addListener($,"mousemove",v)))},[v]),y.useEffect(()=>{$&&typeof E=="function"&&(G!==null&&google.maps.event.removeListener(G),ae(google.maps.event.addListener($,"mouseout",E)))},[E]),y.useEffect(()=>{$&&typeof S=="function"&&(re!==null&&google.maps.event.removeListener(re),U(google.maps.event.addListener($,"mouseover",S)))},[S]),y.useEffect(()=>{$&&typeof T=="function"&&(J!==null&&google.maps.event.removeListener(J),oe(google.maps.event.addListener($,"mouseup",T)))},[T]),y.useEffect(()=>{$&&typeof L=="function"&&(we!==null&&google.maps.event.removeListener(we),X(google.maps.event.addListener($,"rightclick",L)))},[L]),y.useEffect(()=>{$&&typeof P=="function"&&(xe!==null&&google.maps.event.removeListener(xe),Le(google.maps.event.addListener($,"click",P)))},[P]),y.useEffect(()=>{$&&typeof V=="function"&&(ye!==null&&google.maps.event.removeListener(ye),Ve(google.maps.event.addListener($,"drag",V)))},[V]),y.useEffect(()=>{var Se=new google.maps.Polygon(MC(MC({},e),{},{map:z}));return o&&Se.setPath(o),l&&Se.setPaths(l),typeof i<"u"&&Se.setVisible(i),typeof n<"u"&&Se.setEditable(n),typeof t<"u"&&Se.setDraggable(t),c&&k(google.maps.event.addListener(Se,"dblclick",c)),d&&A(google.maps.event.addListener(Se,"dragend",d)),p&&M(google.maps.event.addListener(Se,"dragstart",p)),m&&me(google.maps.event.addListener(Se,"mousedown",m)),v&&he(google.maps.event.addListener(Se,"mousemove",v)),E&&ae(google.maps.event.addListener(Se,"mouseout",E)),S&&U(google.maps.event.addListener(Se,"mouseover",S)),T&&oe(google.maps.event.addListener(Se,"mouseup",T)),L&&X(google.maps.event.addListener(Se,"rightclick",L)),P&&Le(google.maps.event.addListener(Se,"click",P)),V&&Ve(google.maps.event.addListener(Se,"drag",V)),D(Se),F&&F(Se),()=>{I!==null&&google.maps.event.removeListener(I),R!==null&&google.maps.event.removeListener(R),N!==null&&google.maps.event.removeListener(N),fe!==null&&google.maps.event.removeListener(fe),ce!==null&&google.maps.event.removeListener(ce),G!==null&&google.maps.event.removeListener(G),re!==null&&google.maps.event.removeListener(re),J!==null&&google.maps.event.removeListener(J),we!==null&&google.maps.event.removeListener(we),xe!==null&&google.maps.event.removeListener(xe),H&&H(Se),Se.setMap(null)}},[]),null}y.memo(lU);class uU extends y.PureComponent{constructor(){super(...arguments),te(this,"registeredEvents",[])}componentDidMount(){var e=this.props.options||{};this.polygon=new google.maps.Polygon(e),this.polygon.setMap(this.context),this.registeredEvents=Ye({updaterMap:OC,eventMap:AC,prevProps:{},nextProps:this.props,instance:this.polygon}),this.props.onLoad&&this.props.onLoad(this.polygon)}componentDidUpdate(e){this.polygon&&(qe(this.registeredEvents),this.registeredEvents=Ye({updaterMap:OC,eventMap:AC,prevProps:e,nextProps:this.props,instance:this.polygon}))}componentWillUnmount(){this.polygon&&(this.props.onUnmount&&this.props.onUnmount(this.polygon),qe(this.registeredEvents),this.polygon&&this.polygon.setMap(null))}render(){return null}}te(uU,"contextType",We);function NC(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function zf(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?NC(Object(t),!0).forEach(function(n){te(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):NC(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var VC={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},FC={bounds(r,e){r.setBounds(e)},draggable(r,e){r.setDraggable(e)},editable(r,e){r.setEditable(e)},map(r,e){r.setMap(e)},options(r,e){r.setOptions(e)},visible(r,e){r.setVisible(e)}};function cU(r){var{options:e,bounds:t,draggable:n,editable:i,visible:o,onDblClick:l,onDragEnd:c,onDragStart:d,onMouseDown:p,onMouseMove:m,onMouseOut:v,onMouseOver:E,onMouseUp:S,onRightClick:T,onClick:L,onDrag:P,onBoundsChanged:V,onLoad:F,onUnmount:H}=r,j=y.useContext(We),[z,$]=y.useState(null),[D,I]=y.useState(null),[k,R]=y.useState(null),[A,N]=y.useState(null),[M,fe]=y.useState(null),[me,ce]=y.useState(null),[he,G]=y.useState(null),[ae,re]=y.useState(null),[U,J]=y.useState(null),[oe,we]=y.useState(null),[X,xe]=y.useState(null),[Le,ye]=y.useState(null),[Ve,Se]=y.useState(null);return y.useEffect(()=>{z!==null&&z.setMap(j)},[j]),y.useEffect(()=>{typeof e<"u"&&z!==null&&z.setOptions(e)},[z,e]),y.useEffect(()=>{typeof n<"u"&&z!==null&&z.setDraggable(n)},[z,n]),y.useEffect(()=>{typeof i<"u"&&z!==null&&z.setEditable(i)},[z,i]),y.useEffect(()=>{typeof o<"u"&&z!==null&&z.setVisible(o)},[z,o]),y.useEffect(()=>{typeof t<"u"&&z!==null&&z.setBounds(t)},[z,t]),y.useEffect(()=>{z&&l&&(D!==null&&google.maps.event.removeListener(D),I(google.maps.event.addListener(z,"dblclick",l)))},[l]),y.useEffect(()=>{z&&c&&(k!==null&&google.maps.event.removeListener(k),R(google.maps.event.addListener(z,"dragend",c)))},[c]),y.useEffect(()=>{z&&d&&(A!==null&&google.maps.event.removeListener(A),N(google.maps.event.addListener(z,"dragstart",d)))},[d]),y.useEffect(()=>{z&&p&&(M!==null&&google.maps.event.removeListener(M),fe(google.maps.event.addListener(z,"mousedown",p)))},[p]),y.useEffect(()=>{z&&m&&(me!==null&&google.maps.event.removeListener(me),ce(google.maps.event.addListener(z,"mousemove",m)))},[m]),y.useEffect(()=>{z&&v&&(he!==null&&google.maps.event.removeListener(he),G(google.maps.event.addListener(z,"mouseout",v)))},[v]),y.useEffect(()=>{z&&E&&(ae!==null&&google.maps.event.removeListener(ae),re(google.maps.event.addListener(z,"mouseover",E)))},[E]),y.useEffect(()=>{z&&S&&(U!==null&&google.maps.event.removeListener(U),J(google.maps.event.addListener(z,"mouseup",S)))},[S]),y.useEffect(()=>{z&&T&&(oe!==null&&google.maps.event.removeListener(oe),we(google.maps.event.addListener(z,"rightclick",T)))},[T]),y.useEffect(()=>{z&&L&&(X!==null&&google.maps.event.removeListener(X),xe(google.maps.event.addListener(z,"click",L)))},[L]),y.useEffect(()=>{z&&P&&(Le!==null&&google.maps.event.removeListener(Le),ye(google.maps.event.addListener(z,"drag",P)))},[P]),y.useEffect(()=>{z&&V&&(Ve!==null&&google.maps.event.removeListener(Ve),Se(google.maps.event.addListener(z,"bounds_changed",V)))},[V]),y.useEffect(()=>{var ze=new google.maps.Rectangle(zf(zf({},e),{},{map:j}));return typeof o<"u"&&ze.setVisible(o),typeof i<"u"&&ze.setEditable(i),typeof n<"u"&&ze.setDraggable(n),typeof t<"u"&&ze.setBounds(t),l&&I(google.maps.event.addListener(ze,"dblclick",l)),c&&R(google.maps.event.addListener(ze,"dragend",c)),d&&N(google.maps.event.addListener(ze,"dragstart",d)),p&&fe(google.maps.event.addListener(ze,"mousedown",p)),m&&ce(google.maps.event.addListener(ze,"mousemove",m)),v&&G(google.maps.event.addListener(ze,"mouseout",v)),E&&re(google.maps.event.addListener(ze,"mouseover",E)),S&&J(google.maps.event.addListener(ze,"mouseup",S)),T&&we(google.maps.event.addListener(ze,"rightclick",T)),L&&xe(google.maps.event.addListener(ze,"click",L)),P&&ye(google.maps.event.addListener(ze,"drag",P)),V&&Se(google.maps.event.addListener(ze,"bounds_changed",V)),$(ze),F&&F(ze),()=>{D!==null&&google.maps.event.removeListener(D),k!==null&&google.maps.event.removeListener(k),A!==null&&google.maps.event.removeListener(A),M!==null&&google.maps.event.removeListener(M),me!==null&&google.maps.event.removeListener(me),he!==null&&google.maps.event.removeListener(he),ae!==null&&google.maps.event.removeListener(ae),U!==null&&google.maps.event.removeListener(U),oe!==null&&google.maps.event.removeListener(oe),X!==null&&google.maps.event.removeListener(X),Le!==null&&google.maps.event.removeListener(Le),Ve!==null&&google.maps.event.removeListener(Ve),H&&H(ze),ze.setMap(null)}},[]),null}y.memo(cU);class dU extends y.PureComponent{constructor(){super(...arguments),te(this,"registeredEvents",[]),te(this,"state",{rectangle:null}),te(this,"setRectangleCallback",()=>{this.state.rectangle!==null&&this.props.onLoad&&this.props.onLoad(this.state.rectangle)})}componentDidMount(){var e=new google.maps.Rectangle(zf(zf({},this.props.options),{},{map:this.context}));this.registeredEvents=Ye({updaterMap:FC,eventMap:VC,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{rectangle:e}},this.setRectangleCallback)}componentDidUpdate(e){this.state.rectangle!==null&&(qe(this.registeredEvents),this.registeredEvents=Ye({updaterMap:FC,eventMap:VC,prevProps:e,nextProps:this.props,instance:this.state.rectangle}))}componentWillUnmount(){this.state.rectangle!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),qe(this.registeredEvents),this.state.rectangle.setMap(null))}render(){return null}}te(dU,"contextType",We);function UC(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Wf(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?UC(Object(t),!0).forEach(function(n){te(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):UC(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var jC={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},BC={center(r,e){r.setCenter(e)},draggable(r,e){r.setDraggable(e)},editable(r,e){r.setEditable(e)},map(r,e){r.setMap(e)},options(r,e){r.setOptions(e)},radius(r,e){r.setRadius(e)},visible(r,e){r.setVisible(e)}},fU={};function hU(r){var{options:e,center:t,radius:n,draggable:i,editable:o,visible:l,onDblClick:c,onDragEnd:d,onDragStart:p,onMouseDown:m,onMouseMove:v,onMouseOut:E,onMouseOver:S,onMouseUp:T,onRightClick:L,onClick:P,onDrag:V,onCenterChanged:F,onRadiusChanged:H,onLoad:j,onUnmount:z}=r,$=y.useContext(We),[D,I]=y.useState(null),[k,R]=y.useState(null),[A,N]=y.useState(null),[M,fe]=y.useState(null),[me,ce]=y.useState(null),[he,G]=y.useState(null),[ae,re]=y.useState(null),[U,J]=y.useState(null),[oe,we]=y.useState(null),[X,xe]=y.useState(null),[Le,ye]=y.useState(null),[Ve,Se]=y.useState(null),[ze,$t]=y.useState(null),[Yt,Vn]=y.useState(null);return y.useEffect(()=>{D!==null&&D.setMap($)},[$]),y.useEffect(()=>{typeof e<"u"&&D!==null&&D.setOptions(e)},[D,e]),y.useEffect(()=>{typeof i<"u"&&D!==null&&D.setDraggable(i)},[D,i]),y.useEffect(()=>{typeof o<"u"&&D!==null&&D.setEditable(o)},[D,o]),y.useEffect(()=>{typeof l<"u"&&D!==null&&D.setVisible(l)},[D,l]),y.useEffect(()=>{typeof n=="number"&&D!==null&&D.setRadius(n)},[D,n]),y.useEffect(()=>{typeof t<"u"&&D!==null&&D.setCenter(t)},[D,t]),y.useEffect(()=>{D&&c&&(k!==null&&google.maps.event.removeListener(k),R(google.maps.event.addListener(D,"dblclick",c)))},[c]),y.useEffect(()=>{D&&d&&(A!==null&&google.maps.event.removeListener(A),N(google.maps.event.addListener(D,"dragend",d)))},[d]),y.useEffect(()=>{D&&p&&(M!==null&&google.maps.event.removeListener(M),fe(google.maps.event.addListener(D,"dragstart",p)))},[p]),y.useEffect(()=>{D&&m&&(me!==null&&google.maps.event.removeListener(me),ce(google.maps.event.addListener(D,"mousedown",m)))},[m]),y.useEffect(()=>{D&&v&&(he!==null&&google.maps.event.removeListener(he),G(google.maps.event.addListener(D,"mousemove",v)))},[v]),y.useEffect(()=>{D&&E&&(ae!==null&&google.maps.event.removeListener(ae),re(google.maps.event.addListener(D,"mouseout",E)))},[E]),y.useEffect(()=>{D&&S&&(U!==null&&google.maps.event.removeListener(U),J(google.maps.event.addListener(D,"mouseover",S)))},[S]),y.useEffect(()=>{D&&T&&(oe!==null&&google.maps.event.removeListener(oe),we(google.maps.event.addListener(D,"mouseup",T)))},[T]),y.useEffect(()=>{D&&L&&(X!==null&&google.maps.event.removeListener(X),xe(google.maps.event.addListener(D,"rightclick",L)))},[L]),y.useEffect(()=>{D&&P&&(Le!==null&&google.maps.event.removeListener(Le),ye(google.maps.event.addListener(D,"click",P)))},[P]),y.useEffect(()=>{D&&V&&(Ve!==null&&google.maps.event.removeListener(Ve),Se(google.maps.event.addListener(D,"drag",V)))},[V]),y.useEffect(()=>{D&&F&&(ze!==null&&google.maps.event.removeListener(ze),$t(google.maps.event.addListener(D,"center_changed",F)))},[P]),y.useEffect(()=>{D&&H&&(Yt!==null&&google.maps.event.removeListener(Yt),Vn(google.maps.event.addListener(D,"radius_changed",H)))},[H]),y.useEffect(()=>{var Qe=new google.maps.Circle(Wf(Wf({},e||fU),{},{map:$}));return typeof n=="number"&&Qe.setRadius(n),typeof t<"u"&&Qe.setCenter(t),typeof n=="number"&&Qe.setRadius(n),typeof l<"u"&&Qe.setVisible(l),typeof o<"u"&&Qe.setEditable(o),typeof i<"u"&&Qe.setDraggable(i),c&&R(google.maps.event.addListener(Qe,"dblclick",c)),d&&N(google.maps.event.addListener(Qe,"dragend",d)),p&&fe(google.maps.event.addListener(Qe,"dragstart",p)),m&&ce(google.maps.event.addListener(Qe,"mousedown",m)),v&&G(google.maps.event.addListener(Qe,"mousemove",v)),E&&re(google.maps.event.addListener(Qe,"mouseout",E)),S&&J(google.maps.event.addListener(Qe,"mouseover",S)),T&&we(google.maps.event.addListener(Qe,"mouseup",T)),L&&xe(google.maps.event.addListener(Qe,"rightclick",L)),P&&ye(google.maps.event.addListener(Qe,"click",P)),V&&Se(google.maps.event.addListener(Qe,"drag",V)),F&&$t(google.maps.event.addListener(Qe,"center_changed",F)),H&&Vn(google.maps.event.addListener(Qe,"radius_changed",H)),I(Qe),j&&j(Qe),()=>{k!==null&&google.maps.event.removeListener(k),A!==null&&google.maps.event.removeListener(A),M!==null&&google.maps.event.removeListener(M),me!==null&&google.maps.event.removeListener(me),he!==null&&google.maps.event.removeListener(he),ae!==null&&google.maps.event.removeListener(ae),U!==null&&google.maps.event.removeListener(U),oe!==null&&google.maps.event.removeListener(oe),X!==null&&google.maps.event.removeListener(X),Le!==null&&google.maps.event.removeListener(Le),ze!==null&&google.maps.event.removeListener(ze),Yt!==null&&google.maps.event.removeListener(Yt),z&&z(Qe),Qe.setMap(null)}},[]),null}y.memo(hU);class pU extends y.PureComponent{constructor(){super(...arguments),te(this,"registeredEvents",[]),te(this,"state",{circle:null}),te(this,"setCircleCallback",()=>{this.state.circle!==null&&this.props.onLoad&&this.props.onLoad(this.state.circle)})}componentDidMount(){var e=new google.maps.Circle(Wf(Wf({},this.props.options),{},{map:this.context}));this.registeredEvents=Ye({updaterMap:BC,eventMap:jC,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{circle:e}},this.setCircleCallback)}componentDidUpdate(e){this.state.circle!==null&&(qe(this.registeredEvents),this.registeredEvents=Ye({updaterMap:BC,eventMap:jC,prevProps:e,nextProps:this.props,instance:this.state.circle}))}componentWillUnmount(){if(this.state.circle!==null){var e;this.props.onUnmount&&this.props.onUnmount(this.state.circle),qe(this.registeredEvents),(e=this.state.circle)===null||e===void 0||e.setMap(null)}}render(){return null}}te(pU,"contextType",We);function zC(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Hf(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?zC(Object(t),!0).forEach(function(n){te(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):zC(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var WC={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},HC={add(r,e){r.add(e)},addgeojson(r,e,t){r.addGeoJson(e,t)},contains(r,e){r.contains(e)},foreach(r,e){r.forEach(e)},loadgeojson(r,e,t,n){r.loadGeoJson(e,t,n)},overridestyle(r,e,t){r.overrideStyle(e,t)},remove(r,e){r.remove(e)},revertstyle(r,e){r.revertStyle(e)},controlposition(r,e){r.setControlPosition(e)},controls(r,e){r.setControls(e)},drawingmode(r,e){r.setDrawingMode(e)},map(r,e){r.setMap(e)},style(r,e){r.setStyle(e)},togeojson(r,e){r.toGeoJson(e)}};function mU(r){var{options:e,onClick:t,onDblClick:n,onMouseDown:i,onMouseMove:o,onMouseOut:l,onMouseOver:c,onMouseUp:d,onRightClick:p,onAddFeature:m,onRemoveFeature:v,onRemoveProperty:E,onSetGeometry:S,onSetProperty:T,onLoad:L,onUnmount:P}=r,V=y.useContext(We),[F,H]=y.useState(null),[j,z]=y.useState(null),[$,D]=y.useState(null),[I,k]=y.useState(null),[R,A]=y.useState(null),[N,M]=y.useState(null),[fe,me]=y.useState(null),[ce,he]=y.useState(null),[G,ae]=y.useState(null),[re,U]=y.useState(null),[J,oe]=y.useState(null),[we,X]=y.useState(null),[xe,Le]=y.useState(null),[ye,Ve]=y.useState(null);return y.useEffect(()=>{F!==null&&F.setMap(V)},[V]),y.useEffect(()=>{F&&n&&(j!==null&&google.maps.event.removeListener(j),z(google.maps.event.addListener(F,"dblclick",n)))},[n]),y.useEffect(()=>{F&&i&&($!==null&&google.maps.event.removeListener($),D(google.maps.event.addListener(F,"mousedown",i)))},[i]),y.useEffect(()=>{F&&o&&(I!==null&&google.maps.event.removeListener(I),k(google.maps.event.addListener(F,"mousemove",o)))},[o]),y.useEffect(()=>{F&&l&&(R!==null&&google.maps.event.removeListener(R),A(google.maps.event.addListener(F,"mouseout",l)))},[l]),y.useEffect(()=>{F&&c&&(N!==null&&google.maps.event.removeListener(N),M(google.maps.event.addListener(F,"mouseover",c)))},[c]),y.useEffect(()=>{F&&d&&(fe!==null&&google.maps.event.removeListener(fe),me(google.maps.event.addListener(F,"mouseup",d)))},[d]),y.useEffect(()=>{F&&p&&(ce!==null&&google.maps.event.removeListener(ce),he(google.maps.event.addListener(F,"rightclick",p)))},[p]),y.useEffect(()=>{F&&t&&(G!==null&&google.maps.event.removeListener(G),ae(google.maps.event.addListener(F,"click",t)))},[t]),y.useEffect(()=>{F&&m&&(re!==null&&google.maps.event.removeListener(re),U(google.maps.event.addListener(F,"addfeature",m)))},[m]),y.useEffect(()=>{F&&v&&(J!==null&&google.maps.event.removeListener(J),oe(google.maps.event.addListener(F,"removefeature",v)))},[v]),y.useEffect(()=>{F&&E&&(we!==null&&google.maps.event.removeListener(we),X(google.maps.event.addListener(F,"removeproperty",E)))},[E]),y.useEffect(()=>{F&&S&&(xe!==null&&google.maps.event.removeListener(xe),Le(google.maps.event.addListener(F,"setgeometry",S)))},[S]),y.useEffect(()=>{F&&T&&(ye!==null&&google.maps.event.removeListener(ye),Ve(google.maps.event.addListener(F,"setproperty",T)))},[T]),y.useEffect(()=>{if(V!==null){var Se=new google.maps.Data(Hf(Hf({},e),{},{map:V}));n&&z(google.maps.event.addListener(Se,"dblclick",n)),i&&D(google.maps.event.addListener(Se,"mousedown",i)),o&&k(google.maps.event.addListener(Se,"mousemove",o)),l&&A(google.maps.event.addListener(Se,"mouseout",l)),c&&M(google.maps.event.addListener(Se,"mouseover",c)),d&&me(google.maps.event.addListener(Se,"mouseup",d)),p&&he(google.maps.event.addListener(Se,"rightclick",p)),t&&ae(google.maps.event.addListener(Se,"click",t)),m&&U(google.maps.event.addListener(Se,"addfeature",m)),v&&oe(google.maps.event.addListener(Se,"removefeature",v)),E&&X(google.maps.event.addListener(Se,"removeproperty",E)),S&&Le(google.maps.event.addListener(Se,"setgeometry",S)),T&&Ve(google.maps.event.addListener(Se,"setproperty",T)),H(Se),L&&L(Se)}return()=>{F&&(j!==null&&google.maps.event.removeListener(j),$!==null&&google.maps.event.removeListener($),I!==null&&google.maps.event.removeListener(I),R!==null&&google.maps.event.removeListener(R),N!==null&&google.maps.event.removeListener(N),fe!==null&&google.maps.event.removeListener(fe),ce!==null&&google.maps.event.removeListener(ce),G!==null&&google.maps.event.removeListener(G),re!==null&&google.maps.event.removeListener(re),J!==null&&google.maps.event.removeListener(J),we!==null&&google.maps.event.removeListener(we),xe!==null&&google.maps.event.removeListener(xe),ye!==null&&google.maps.event.removeListener(ye),P&&P(F),F.setMap(null))}},[]),null}y.memo(mU);class gU extends y.PureComponent{constructor(){super(...arguments),te(this,"registeredEvents",[]),te(this,"state",{data:null}),te(this,"setDataCallback",()=>{this.state.data!==null&&this.props.onLoad&&this.props.onLoad(this.state.data)})}componentDidMount(){if(this.context!==null){var e=new google.maps.Data(Hf(Hf({},this.props.options),{},{map:this.context}));this.registeredEvents=Ye({updaterMap:HC,eventMap:WC,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({data:e}),this.setDataCallback)}}componentDidUpdate(e){this.state.data!==null&&(qe(this.registeredEvents),this.registeredEvents=Ye({updaterMap:HC,eventMap:WC,prevProps:e,nextProps:this.props,instance:this.state.data}))}componentWillUnmount(){this.state.data!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),qe(this.registeredEvents),this.state.data&&this.state.data.setMap(null))}render(){return null}}te(gU,"contextType",We);function $C(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function YC(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?$C(Object(t),!0).forEach(function(n){te(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):$C(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var qC={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},KC={options(r,e){r.setOptions(e)},url(r,e){r.setUrl(e)},zIndex(r,e){r.setZIndex(e)}};class vU extends y.PureComponent{constructor(){super(...arguments),te(this,"registeredEvents",[]),te(this,"state",{kmlLayer:null}),te(this,"setKmlLayerCallback",()=>{this.state.kmlLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.kmlLayer)})}componentDidMount(){var e=new google.maps.KmlLayer(YC(YC({},this.props.options),{},{map:this.context}));this.registeredEvents=Ye({updaterMap:KC,eventMap:qC,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{kmlLayer:e}},this.setKmlLayerCallback)}componentDidUpdate(e){this.state.kmlLayer!==null&&(qe(this.registeredEvents),this.registeredEvents=Ye({updaterMap:KC,eventMap:qC,prevProps:e,nextProps:this.props,instance:this.state.kmlLayer}))}componentWillUnmount(){this.state.kmlLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),qe(this.registeredEvents),this.state.kmlLayer.setMap(null))}render(){return null}}te(vU,"contextType",We);function Bk(r,e){return typeof e=="function"?e(r.offsetWidth,r.offsetHeight):{x:0,y:0}}function yU(r,e){return new e(r.lat,r.lng)}function _U(r,e){return new e(new google.maps.LatLng(r.ne.lat,r.ne.lng),new google.maps.LatLng(r.sw.lat,r.sw.lng))}function wU(r,e,t){return r instanceof e?r:t(r,e)}function EU(r,e,t){return r instanceof e?r:t(r,e)}function CU(r,e,t){var n=r&&r.fromLatLngToDivPixel(t.getNorthEast()),i=r&&r.fromLatLngToDivPixel(t.getSouthWest());return n&&i?{left:"".concat(i.x+e.x,"px"),top:"".concat(n.y+e.y,"px"),width:"".concat(n.x-i.x-e.x,"px"),height:"".concat(i.y-n.y-e.y,"px")}:{left:"-9999px",top:"-9999px"}}function SU(r,e,t){var n=r&&r.fromLatLngToDivPixel(t);if(n){var{x:i,y:o}=n;return{left:"".concat(i+e.x,"px"),top:"".concat(o+e.y,"px")}}return{left:"-9999px",top:"-9999px"}}function zk(r,e,t,n){return t!==void 0?CU(r,e,EU(t,google.maps.LatLngBounds,_U)):SU(r,e,wU(n,google.maps.LatLng,yU))}function TU(r,e){return r.left===e.left&&r.top===e.top&&r.width===e.height&&r.height===e.height}function GC(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function kU(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?GC(Object(t),!0).forEach(function(n){te(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):GC(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function bU(r,e,t,n,i){class o extends google.maps.OverlayView{constructor(c,d,p,m){super(),this.container=c,this.pane=d,this.position=p,this.bounds=m}onAdd(){var c,d=(c=this.getPanes())===null||c===void 0?void 0:c[this.pane];d==null||d.appendChild(this.container)}draw(){var c=this.getProjection(),d=kU({},this.container?Bk(this.container,i):{x:0,y:0}),p=zk(c,d,this.bounds,this.position);for(var[m,v]of Object.entries(p))this.container.style[m]=v}onRemove(){this.container.parentNode!==null&&this.container.parentNode.removeChild(this.container)}}return new o(r,e,t,n)}function QC(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function IU(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?QC(Object(t),!0).forEach(function(n){te(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):QC(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function XC(r){if(!r)return"";var e=r instanceof google.maps.LatLng?r:new google.maps.LatLng(r.lat,r.lng);return e+""}function ZC(r){if(!r)return"";var e=r instanceof google.maps.LatLngBounds?r:new google.maps.LatLngBounds(new google.maps.LatLng(r.south,r.east),new google.maps.LatLng(r.north,r.west));return e+""}function PU(r){var{position:e,bounds:t,mapPaneName:n,zIndex:i,onLoad:o,onUnmount:l,getPixelPositionOffset:c,children:d}=r,p=y.useContext(We),m=y.useMemo(()=>{var E=document.createElement("div");return E.style.position="absolute",E},[]),v=y.useMemo(()=>bU(m,n,e,t,c),[m,n,e,t]);return y.useEffect(()=>(o==null||o(v),v==null||v.setMap(p),()=>{l==null||l(v),v==null||v.setMap(null)}),[p,v]),y.useEffect(()=>{m.style.zIndex="".concat(i)},[i,m]),ro.createPortal(d,m)}y.memo(PU);class Pl extends y.PureComponent{constructor(e){super(e),te(this,"state",{paneEl:null,containerStyle:{position:"absolute"}}),te(this,"updatePane",()=>{var n=this.props.mapPaneName,i=this.overlayView.getPanes();Ht(!!n,"OverlayView requires props.mapPaneName but got %s",n),i?this.setState({paneEl:i[n]}):this.setState({paneEl:null})}),te(this,"onAdd",()=>{var n,i;this.updatePane(),(n=(i=this.props).onLoad)===null||n===void 0||n.call(i,this.overlayView)}),te(this,"onPositionElement",()=>{var n=this.overlayView.getProjection(),i=IU({x:0,y:0},this.containerRef.current?Bk(this.containerRef.current,this.props.getPixelPositionOffset):{}),o=zk(n,i,this.props.bounds,this.props.position);if(!TU(o,{left:this.state.containerStyle.left,top:this.state.containerStyle.top,width:this.state.containerStyle.width,height:this.state.containerStyle.height})){var l,c,d,p;this.setState({containerStyle:{top:(l=o.top)!==null&&l!==void 0?l:0,left:(c=o.left)!==null&&c!==void 0?c:0,width:(d=o.width)!==null&&d!==void 0?d:0,height:(p=o.height)!==null&&p!==void 0?p:0,position:"absolute"}})}}),te(this,"draw",()=>{this.onPositionElement()}),te(this,"onRemove",()=>{var n,i;this.setState(()=>({paneEl:null})),(n=(i=this.props).onUnmount)===null||n===void 0||n.call(i,this.overlayView)}),this.containerRef=y.createRef();var t=new google.maps.OverlayView;t.onAdd=this.onAdd,t.draw=this.draw,t.onRemove=this.onRemove,this.overlayView=t}componentDidMount(){this.overlayView.setMap(this.context)}componentDidUpdate(e){var t=XC(e.position),n=XC(this.props.position),i=ZC(e.bounds),o=ZC(this.props.bounds);(t!==n||i!==o)&&this.overlayView.draw(),e.mapPaneName!==this.props.mapPaneName&&this.updatePane()}componentWillUnmount(){this.overlayView.setMap(null)}render(){var e=this.state.paneEl;return e?ro.createPortal(Q.jsx("div",{ref:this.containerRef,style:this.state.containerStyle,children:y.Children.only(this.props.children)}),e):null}}te(Pl,"FLOAT_PANE","floatPane");te(Pl,"MAP_PANE","mapPane");te(Pl,"MARKER_LAYER","markerLayer");te(Pl,"OVERLAY_LAYER","overlayLayer");te(Pl,"OVERLAY_MOUSE_TARGET","overlayMouseTarget");te(Pl,"contextType",We);function DU(){}function JC(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function eS(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?JC(Object(t),!0).forEach(function(n){te(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):JC(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var tS={onDblClick:"dblclick",onClick:"click"},nS={opacity(r,e){r.setOpacity(e)}};function xU(r){var{url:e,bounds:t,options:n,visible:i}=r,o=y.useContext(We),l=new google.maps.LatLngBounds(new google.maps.LatLng(t.south,t.west),new google.maps.LatLng(t.north,t.east)),c=y.useMemo(()=>new google.maps.GroundOverlay(e,l,n),[]);return y.useEffect(()=>{c!==null&&c.setMap(o)},[o]),y.useEffect(()=>{typeof e<"u"&&c!==null&&(c.set("url",e),c.setMap(o))},[c,e]),y.useEffect(()=>{typeof i<"u"&&c!==null&&c.setOpacity(i?1:0)},[c,i]),y.useEffect(()=>{var d=new google.maps.LatLngBounds(new google.maps.LatLng(t.south,t.west),new google.maps.LatLng(t.north,t.east));typeof t<"u"&&c!==null&&(c.set("bounds",d),c.setMap(o))},[c,t]),null}y.memo(xU);class Wk extends y.PureComponent{constructor(){super(...arguments),te(this,"registeredEvents",[]),te(this,"state",{groundOverlay:null}),te(this,"setGroundOverlayCallback",()=>{this.state.groundOverlay!==null&&this.props.onLoad&&this.props.onLoad(this.state.groundOverlay)})}componentDidMount(){Ht(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var e=new google.maps.GroundOverlay(this.props.url,this.props.bounds,eS(eS({},this.props.options),{},{map:this.context}));this.registeredEvents=Ye({updaterMap:nS,eventMap:tS,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{groundOverlay:e}},this.setGroundOverlayCallback)}componentDidUpdate(e){this.state.groundOverlay!==null&&(qe(this.registeredEvents),this.registeredEvents=Ye({updaterMap:nS,eventMap:tS,prevProps:e,nextProps:this.props,instance:this.state.groundOverlay}))}componentWillUnmount(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))}render(){return null}}te(Wk,"defaultProps",{onLoad:DU});te(Wk,"contextType",We);function rS(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function $f(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?rS(Object(t),!0).forEach(function(n){te(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):rS(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var iS={},sS={data(r,e){r.setData(e)},map(r,e){r.setMap(e)},options(r,e){r.setOptions(e)}};function LU(r){var{data:e,onLoad:t,onUnmount:n,options:i}=r,o=y.useContext(We),[l,c]=y.useState(null);return y.useEffect(()=>{google.maps.visualization||Ht(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)},[]),y.useEffect(()=>{Ht(!!e,"data property is required in HeatmapLayer %s",e)},[e]),y.useEffect(()=>{l!==null&&l.setMap(o)},[o]),y.useEffect(()=>{i&&l!==null&&l.setOptions(i)},[l,i]),y.useEffect(()=>{var d=new google.maps.visualization.HeatmapLayer($f($f({},i),{},{data:e,map:o}));return c(d),t&&t(d),()=>{l!==null&&(n&&n(l),l.setMap(null))}},[]),null}y.memo(LU);class RU extends y.PureComponent{constructor(){super(...arguments),te(this,"registeredEvents",[]),te(this,"state",{heatmapLayer:null}),te(this,"setHeatmapLayerCallback",()=>{this.state.heatmapLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.heatmapLayer)})}componentDidMount(){Ht(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),Ht(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var e=new google.maps.visualization.HeatmapLayer($f($f({},this.props.options),{},{data:this.props.data,map:this.context}));this.registeredEvents=Ye({updaterMap:sS,eventMap:iS,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{heatmapLayer:e}},this.setHeatmapLayerCallback)}componentDidUpdate(e){qe(this.registeredEvents),this.registeredEvents=Ye({updaterMap:sS,eventMap:iS,prevProps:e,nextProps:this.props,instance:this.state.heatmapLayer})}componentWillUnmount(){this.state.heatmapLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),qe(this.registeredEvents),this.state.heatmapLayer.setMap(null))}render(){return null}}te(RU,"contextType",We);var oS={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},aS={register(r,e,t){r.registerPanoProvider(e,t)},links(r,e){r.setLinks(e)},motionTracking(r,e){r.setMotionTracking(e)},options(r,e){r.setOptions(e)},pano(r,e){r.setPano(e)},position(r,e){r.setPosition(e)},pov(r,e){r.setPov(e)},visible(r,e){r.setVisible(e)},zoom(r,e){r.setZoom(e)}};class MU extends y.PureComponent{constructor(){super(...arguments),te(this,"registeredEvents",[]),te(this,"state",{streetViewPanorama:null}),te(this,"setStreetViewPanoramaCallback",()=>{this.state.streetViewPanorama!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewPanorama)})}componentDidMount(){var e,t,n=(e=(t=this.context)===null||t===void 0?void 0:t.getStreetView())!==null&&e!==void 0?e:null;this.registeredEvents=Ye({updaterMap:aS,eventMap:oS,prevProps:{},nextProps:this.props,instance:n}),this.setState(()=>({streetViewPanorama:n}),this.setStreetViewPanoramaCallback)}componentDidUpdate(e){this.state.streetViewPanorama!==null&&(qe(this.registeredEvents),this.registeredEvents=Ye({updaterMap:aS,eventMap:oS,prevProps:e,nextProps:this.props,instance:this.state.streetViewPanorama}))}componentWillUnmount(){this.state.streetViewPanorama!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),qe(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))}render(){return null}}te(MU,"contextType",We);class AU extends y.PureComponent{constructor(){super(...arguments),te(this,"state",{streetViewService:null}),te(this,"setStreetViewServiceCallback",()=>{this.state.streetViewService!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewService)})}componentDidMount(){var e=new google.maps.StreetViewService;this.setState(function(){return{streetViewService:e}},this.setStreetViewServiceCallback)}componentWillUnmount(){this.state.streetViewService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)}render(){return null}}te(AU,"contextType",We);var lS={onDirectionsChanged:"directions_changed"},uS={directions(r,e){r.setDirections(e)},map(r,e){r.setMap(e)},options(r,e){r.setOptions(e)},panel(r,e){r.setPanel(e)},routeIndex(r,e){r.setRouteIndex(e)}};class OU extends y.PureComponent{constructor(){super(...arguments),te(this,"registeredEvents",[]),te(this,"state",{directionsRenderer:null}),te(this,"setDirectionsRendererCallback",()=>{this.state.directionsRenderer!==null&&(this.state.directionsRenderer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.directionsRenderer))})}componentDidMount(){var e=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=Ye({updaterMap:uS,eventMap:lS,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{directionsRenderer:e}},this.setDirectionsRendererCallback)}componentDidUpdate(e){this.state.directionsRenderer!==null&&(qe(this.registeredEvents),this.registeredEvents=Ye({updaterMap:uS,eventMap:lS,prevProps:e,nextProps:this.props,instance:this.state.directionsRenderer}))}componentWillUnmount(){this.state.directionsRenderer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),qe(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))}render(){return null}}te(OU,"contextType",We);var cS={onPlacesChanged:"places_changed"},dS={bounds(r,e){r.setBounds(e)}};class NU extends y.PureComponent{constructor(){super(...arguments),te(this,"registeredEvents",[]),te(this,"containerElement",y.createRef()),te(this,"state",{searchBox:null}),te(this,"setSearchBoxCallback",()=>{this.state.searchBox!==null&&this.props.onLoad&&this.props.onLoad(this.state.searchBox)})}componentDidMount(){if(Ht(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),this.containerElement!==null&&this.containerElement.current!==null){var e=this.containerElement.current.querySelector("input");if(e!==null){var t=new google.maps.places.SearchBox(e,this.props.options);this.registeredEvents=Ye({updaterMap:dS,eventMap:cS,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{searchBox:t}},this.setSearchBoxCallback)}}}componentDidUpdate(e){this.state.searchBox!==null&&(qe(this.registeredEvents),this.registeredEvents=Ye({updaterMap:dS,eventMap:cS,prevProps:e,nextProps:this.props,instance:this.state.searchBox}))}componentWillUnmount(){this.state.searchBox!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),qe(this.registeredEvents))}render(){return Q.jsx("div",{ref:this.containerElement,children:y.Children.only(this.props.children)})}}te(NU,"contextType",We);var fS={onPlaceChanged:"place_changed"},hS={bounds(r,e){r.setBounds(e)},restrictions(r,e){r.setComponentRestrictions(e)},fields(r,e){r.setFields(e)},options(r,e){r.setOptions(e)},types(r,e){r.setTypes(e)}};class Hk extends y.PureComponent{constructor(){super(...arguments),te(this,"registeredEvents",[]),te(this,"containerElement",y.createRef()),te(this,"state",{autocomplete:null}),te(this,"setAutocompleteCallback",()=>{this.state.autocomplete!==null&&this.props.onLoad&&this.props.onLoad(this.state.autocomplete)})}componentDidMount(){var e;Ht(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var t=(e=this.containerElement.current)===null||e===void 0?void 0:e.querySelector("input");if(t){var n=new google.maps.places.Autocomplete(t,this.props.options);this.registeredEvents=Ye({updaterMap:hS,eventMap:fS,prevProps:{},nextProps:this.props,instance:n}),this.setState(()=>({autocomplete:n}),this.setAutocompleteCallback)}}componentDidUpdate(e){qe(this.registeredEvents),this.registeredEvents=Ye({updaterMap:hS,eventMap:fS,prevProps:e,nextProps:this.props,instance:this.state.autocomplete})}componentWillUnmount(){this.state.autocomplete!==null&&qe(this.registeredEvents)}render(){return Q.jsx("div",{ref:this.containerElement,className:this.props.className,children:y.Children.only(this.props.children)})}}te(Hk,"defaultProps",{className:""});te(Hk,"contextType",We);const VU="AIzaSyA6CI9bIGzcpHhEvis6zC26ciBgTRdaxrg",FU={width:"100%",height:"400px",borderRadius:"12px",boxShadow:"0px 4px 10px rgba(0, 0, 0, 0.1)"},UU="https://via.placeholder.com/800x500?text=Image+Non+Disponible",jU=[{id:1,title:"Appartement cosy à Paris",image:"https://images.unsplash.com/photo-1564013799919-ab600027ffc6",price:120,location:"Paris, France",description:"Un charmant appartement lumineux au cœur de Paris, proche des attractions principales.",lat:48.8566,lng:2.3522},{id:2,title:"Villa avec piscine à Nice",image:"https://images.unsplash.com/photo-1600585154340-be6161a56a0c",price:250,location:"Nice, France",description:"Une villa luxueuse avec piscine et vue panoramique sur la mer Méditerranée.",lat:43.7034,lng:7.2663},{id:3,title:"Chalet en montagne à Chamonix",image:"https://images.unsplash.com/photo-1582719478250-c89cae4dc85b",price:180,location:"Chamonix, France",description:"Un chalet rustique avec une cheminée et une vue imprenable sur le Mont Blanc.",lat:45.9237,lng:6.8694},{id:4,title:"Loft moderne à Lyon",image:"https://images.pexels.com/photos/4703/inside-apartment-design-home.jpg",price:140,location:"Lyon, France",description:"Un loft spacieux et design, situé dans un quartier dynamique de Lyon.",lat:45.764,lng:4.8357},{id:5,title:"Maison de campagne en Provence",image:"https://images.unsplash.com/photo-1564013799919-ab600027ffc6",price:200,location:"Provence, France",description:"Une maison chaleureuse entourée de lavande et d'oliviers, idéale pour se détendre.",lat:43.9471,lng:5.7711},{id:6,title:"Appartement avec terrasse à Bordeaux",image:"https://images.pexels.com/photos/206172/pexels-photo-206172.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",price:160,location:"Bordeaux, France",description:"Un appartement élégant avec une grande terrasse et vue sur la Garonne.",lat:44.8378,lng:-.5792},{id:7,title:"Penthouse à Marseille",image:"https://images.pexels.com/photos/3225531/pexels-photo-3225531.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",price:300,location:"Marseille, France",description:"Un penthouse ultra-moderne avec jacuzzi et vue à 360° sur la ville et la mer.",lat:43.2965,lng:5.3698},{id:8,title:"Studio économique à Toulouse",image:"https://images.pexels.com/photos/53610/large-home-residential-house-architecture-53610.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",price:90,location:"Toulouse, France",description:"Un studio confortable et bien équipé, parfait pour les courts séjours.",lat:43.6045,lng:1.4442}],BU=()=>{const{id:r}=TS(),e=jU.find(p=>p.id===Number(r)),[t]=bl(vi),[n,i]=y.useState(null),[o,l]=y.useState(null),{isLoaded:c}=cF({googleMapsApiKey:VU,libraries:["places","marker"]}),d=async()=>{if(!n||!o){alert("Veuillez sélectionner une période valide !");return}if(!t){alert("Vous devez être connecté pour réserver !");return}try{await c0(ah(eo,"reservations"),{userId:t.uid,listingId:e==null?void 0:e.id,title:e==null?void 0:e.title,location:e==null?void 0:e.location,price:e==null?void 0:e.price,startDate:n.toISOString(),endDate:o.toISOString(),createdAt:new Date().toISOString()}),alert(`Réservation confirmée du ${n.toLocaleDateString()} au ${o.toLocaleDateString()}`)}catch(p){console.error("Erreur lors de la réservation :",p),alert("Erreur lors de la réservation !")}};return Q.jsxs("div",{className:"max-w-6xl mx-auto mt-10 p-6 bg-white rounded-lg shadow-lg",children:[Q.jsx("h1",{className:"text-4xl font-bold text-gray-900",children:e==null?void 0:e.title}),Q.jsx("p",{className:"text-gray-500 text-lg",children:e==null?void 0:e.location}),Q.jsx("img",{src:e==null?void 0:e.image,alt:e==null?void 0:e.title,className:"w-full h-96 object-cover rounded-lg mt-4 shadow-md",onError:p=>p.currentTarget.src=UU}),Q.jsxs("div",{className:"mt-6",children:[Q.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"📍 Localisation"}),Q.jsx("div",{className:"rounded-lg shadow-md overflow-hidden mt-4",children:c&&e?Q.jsx(ZV,{mapContainerStyle:FU,center:{lat:e.lat,lng:e.lng},zoom:14,children:Q.jsx(wF,{position:{lat:e.lat,lng:e.lng}})}):Q.jsx("p",{className:"text-gray-600 mt-2",children:"Chargement de la carte..."})})]}),Q.jsxs("div",{className:"mt-6 p-6 bg-gray-100 rounded-lg shadow-md",children:[Q.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"🛏️ Détails du logement"}),Q.jsx("p",{className:"text-gray-700 mt-3 text-lg",children:e==null?void 0:e.description}),Q.jsxs("p",{className:"text-gray-900 font-bold mt-3 text-xl",children:["💰 ",e==null?void 0:e.price,"€ / nuit"]})]}),Q.jsxs("div",{className:"mt-8 p-6 bg-blue-50 rounded-lg shadow-lg",children:[Q.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"🛎️ Réserver ce logement"}),Q.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mt-4",children:[Q.jsxs("div",{className:"w-full md:w-1/2",children:[Q.jsx("label",{className:"block text-gray-700 font-medium",children:"📅 Date d'arrivée :"}),Q.jsx(XE,{selected:n,onChange:p=>i(p),className:"mt-2 p-3 border rounded-md w-full shadow-sm",placeholderText:"Sélectionner une date"})]}),Q.jsxs("div",{className:"w-full md:w-1/2",children:[Q.jsx("label",{className:"block text-gray-700 font-medium",children:"📅 Date de départ :"}),Q.jsx(XE,{selected:o,onChange:p=>l(p),className:"mt-2 p-3 border rounded-md w-full shadow-sm",placeholderText:"Sélectionner une date"})]})]}),Q.jsx("button",{onClick:d,className:"mt-6 w-full bg-blue-500 text-white text-lg px-6 py-3 rounded-lg shadow-md hover:bg-blue-600 transition",children:"✅ Confirmer la réservation"})]})]})},zU=()=>{const[r,e]=y.useState(""),[t,n]=y.useState(""),i=Gu(),o=async c=>{c.preventDefault();try{await ZM(vi,r,t),alert("Connexion réussie !"),i("/")}catch{alert("Erreur lors de la connexion")}},l=async()=>{try{await E1(vi,mA),alert("Connexion réussie avec Google !"),i("/")}catch{alert("Erreur lors de la connexion avec Google")}};return Q.jsxs("div",{className:"container mx-auto mt-10 p-6",children:[Q.jsx("h2",{className:"text-3xl font-bold text-center",children:"Connexion"}),Q.jsxs("div",{className:"max-w-md mx-auto bg-white p-6 rounded shadow-md mt-6",children:[Q.jsxs("form",{onSubmit:o,children:[Q.jsx("input",{type:"email",placeholder:"Email",className:"w-full p-2 border rounded-md mb-4",value:r,onChange:c=>e(c.target.value)}),Q.jsx("input",{type:"password",placeholder:"Mot de passe",className:"w-full p-2 border rounded-md mb-4",value:t,onChange:c=>n(c.target.value)}),Q.jsx("button",{type:"submit",className:"w-full bg-blue-500 text-white p-2 rounded-md",children:"Connexion"})]}),Q.jsx("button",{onClick:l,className:"w-full bg-red-500 text-white p-2 rounded-md mt-2",children:"Connexion avec Google"})]})]})},WU=()=>{const[r,e]=y.useState(null);y.useEffect(()=>{const n=M0(vi,i=>{e(i)});return()=>n()},[]);const t=async()=>{await t1(vi),e(null)};return Q.jsxs("nav",{className:"glass fixed top-0 w-full flex justify-between px-10 py-4 z-10",children:[Q.jsx("h1",{className:"text-xl font-bold text-white",children:"🏡 Airbnb Clone"}),Q.jsxs("ul",{className:"flex space-x-6 text-white",children:[Q.jsx("li",{children:Q.jsx(Ha,{to:"/",className:"hover:text-gray-200 transition",children:"Accueil"})}),r?Q.jsxs(Q.Fragment,{children:[Q.jsx("li",{children:Q.jsx(Ha,{to:"/create-listing",className:"hover:text-gray-300",children:"📌 Créer une annonce"})}),Q.jsx("li",{children:Q.jsx(Ha,{to:"/favorites",className:"hover:text-blue-500",children:"❤️ Favoris"})}),Q.jsxs("li",{className:"text-white",children:["Bienvenue, ",r.displayName||"Utilisateur"]}),Q.jsx("li",{children:Q.jsx("button",{onClick:t,className:"bg-red-500 text-white px-4 py-1 rounded hover:bg-red-600 transition",children:"Déconnexion"})})]}):Q.jsx("li",{children:Q.jsx(Ha,{to:"/login",className:"hover:text-gray-200 transition",children:"Se connecter"})})]})]})},pS=({children:r})=>{const[e,t]=bl(vi);return t?Q.jsx("p",{className:"text-center mt-10",children:"Chargement..."}):e?Q.jsx(Q.Fragment,{children:r}):Q.jsx(GI,{to:"/login"})},HU=()=>{const[r]=bl(vi),[e,t]=y.useState([]);y.useEffect(()=>{if(!r)return;(async()=>{const o=HR(ah(eo,"reservations"),$R("userId","==",r.uid)),c=(await l0(o)).docs.map(d=>({id:d.id,...d.data()}));t(c)})()},[r]);const n=async i=>{if(window.confirm("Voulez-vous vraiment annuler cette réservation ?"))try{await u0(ju(eo,"reservations",i)),t(o=>o.filter(l=>l.id!==i)),alert("Réservation annulée !")}catch(o){console.error("Erreur lors de l'annulation :",o),alert("Erreur lors de l'annulation !")}};return r?Q.jsxs("div",{className:"container mx-auto mt-10 p-6",children:[Q.jsx("h1",{className:"text-3xl font-bold text-center",children:"Mes Réservations"}),Q.jsx("div",{className:"mt-6",children:e.length>0?e.map(i=>Q.jsxs("div",{className:"p-4 bg-gray-100 rounded-lg shadow-md mb-4",children:[Q.jsx("h2",{className:"text-lg font-semibold",children:i.title}),Q.jsx("p",{className:"text-gray-600",children:i.location}),Q.jsxs("p",{className:"text-gray-900 font-bold",children:[i.price,"€ / nuit"]}),Q.jsxs("p",{className:"text-gray-700 mt-2",children:["Du ",new Date(i.startDate).toLocaleDateString()," au ",new Date(i.endDate).toLocaleDateString()]}),Q.jsx("button",{onClick:()=>n(i.id),className:"mt-4 bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600",children:"Annuler la réservation"})]},i.id)):Q.jsx("p",{className:"text-gray-600",children:"Aucune réservation."})})]}):Q.jsx("p",{className:"text-center mt-10",children:"Veuillez vous connecter pour voir vos réservations."})},$U=[{id:1,title:"Appartement cosy à Paris",image:"https://source.unsplash.com/400x300/?apartment",price:120,location:"Paris, France"},{id:2,title:"Villa avec piscine à Nice",image:"https://source.unsplash.com/400x300/?villa",price:250,location:"Nice, France"},{id:3,title:"Chalet en montagne",image:"https://source.unsplash.com/400x300/?chalet",price:180,location:"Chamonix, France"}],YU=()=>{const[r,e]=y.useState([]);return y.useEffect(()=>{const t=JSON.parse(localStorage.getItem("favorites")||"[]");e(t)},[]),Q.jsxs("div",{className:"container mx-auto mt-10 p-6",children:[Q.jsx("h1",{className:"text-3xl font-bold text-center",children:"❤️ Mes Favoris"}),r.length>0?Q.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6 mt-8",children:$U.filter(t=>r.includes(t.id)).map(t=>Q.jsx(q0,{...t,id:t.id.toString(),userId:"defaultUserId"},t.id))}):Q.jsx("p",{className:"text-center text-gray-500 mt-6",children:"Aucun logement en favoris."})]})},qU=()=>{const[r]=bl(vi),e=Gu(),[t,n]=y.useState({title:"",image:"",location:"",price:"",description:""}),i=l=>{n({...t,[l.target.name]:l.target.value})},o=async l=>{if(l.preventDefault(),!r){alert("Vous devez être connecté pour créer une annonce !");return}if(!t.title||!t.image||!t.location||!t.price||!t.description){alert("Veuillez remplir tous les champs !");return}try{await c0(ah(eo,"listings"),{...t,price:Number(t.price),userId:r.uid,createdAt:new Date().toISOString()}),alert("Annonce créée avec succès !"),e("/")}catch(c){console.error("Erreur lors de la création :",c),alert("Erreur lors de la création !")}};return Q.jsxs("div",{className:"container mx-auto mt-10 p-6 max-w-lg bg-white shadow-lg rounded-lg",children:[Q.jsx("h2",{className:"text-2xl font-bold text-center mb-6",children:"Créer une annonce"}),Q.jsxs("form",{onSubmit:o,className:"space-y-4",children:[Q.jsx("input",{type:"text",name:"title",placeholder:"Titre",value:t.title,onChange:i,className:"w-full p-2 border rounded-md"}),Q.jsx("input",{type:"text",name:"image",placeholder:"URL de l'image",value:t.image,onChange:i,className:"w-full p-2 border rounded-md"}),Q.jsx("input",{type:"text",name:"location",placeholder:"Localisation",value:t.location,onChange:i,className:"w-full p-2 border rounded-md"}),Q.jsx("input",{type:"number",name:"price",placeholder:"Prix par nuit (€)",value:t.price,onChange:i,className:"w-full p-2 border rounded-md"}),Q.jsx("textarea",{name:"description",placeholder:"Description",value:t.description,onChange:i,className:"w-full p-2 border rounded-md",rows:4}),Q.jsx("button",{type:"submit",className:"w-full bg-blue-500 text-white py-2 rounded-lg hover:bg-blue-600",children:"Créer l'annonce"})]})]})},KU=()=>{const{id:r}=TS(),e=Gu(),[t]=bl(vi),[n,i]=y.useState(""),[o,l]=y.useState(""),[c,d]=y.useState(""),[p,m]=y.useState(""),[v,E]=y.useState("");y.useEffect(()=>{(async()=>{if(!r)return;const L=ju(eo,"listings",r),P=await QR(L);if(P.exists()){const V=P.data();i(V.title),l(V.location),d(V.price),m(V.description),E(V.image)}else console.error("Annonce non trouvée !"),e("/")})()},[r,e]);const S=async T=>{if(T.preventDefault(),!(!r||!t))try{await XR(ju(eo,"listings",r),{title:n,location:o,price:Number(c),description:p,image:v}),alert("Annonce mise à jour avec succès !"),e("/")}catch(L){console.error("Erreur lors de la mise à jour :",L),alert("Erreur lors de la mise à jour !")}};return Q.jsxs("div",{className:"container mx-auto mt-10 p-6",children:[Q.jsx("h1",{className:"text-3xl font-bold text-center",children:"Modifier l'annonce"}),Q.jsxs("form",{onSubmit:S,className:"max-w-md mx-auto mt-6 space-y-4",children:[Q.jsx("input",{type:"text",placeholder:"Titre",value:n,onChange:T=>i(T.target.value),className:"p-2 border rounded-md w-full"}),Q.jsx("input",{type:"text",placeholder:"Lieu",value:o,onChange:T=>l(T.target.value),className:"p-2 border rounded-md w-full"}),Q.jsx("input",{type:"number",placeholder:"Prix",value:c,onChange:T=>d(T.target.value),className:"p-2 border rounded-md w-full"}),Q.jsx("textarea",{placeholder:"Description",value:p,onChange:T=>m(T.target.value),className:"p-2 border rounded-md w-full"}),Q.jsx("input",{type:"text",placeholder:"Image URL",value:v,onChange:T=>E(T.target.value),className:"p-2 border rounded-md w-full"}),Q.jsx("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded-lg w-full hover:bg-blue-600",children:"Mettre à jour"})]})]})};function GU(){return Q.jsxs(iP,{basename:"/airbnb-clone",children:[Q.jsx(WU,{}),Q.jsxs(XI,{children:[Q.jsx(xs,{path:"/",element:Q.jsx(wA,{})}),Q.jsx(xs,{path:"/login",element:Q.jsx(zU,{})}),Q.jsx(xs,{path:"/listing/:id",element:Q.jsx(pS,{children:Q.jsx(BU,{})})}),Q.jsx(xs,{path:"/my-reservations",element:Q.jsx(pS,{children:Q.jsx(HU,{})})}),Q.jsx(xs,{path:"/favorites",element:Q.jsx(YU,{})}),Q.jsx(xs,{path:"/create-listing",element:Q.jsx(qU,{})}),Q.jsx(xs,{path:"/edit-listing/:id",element:Q.jsx(KU,{})})]})]})}iI.createRoot(document.getElementById("root")).render(Q.jsx(y.StrictMode,{children:Q.jsx(GU,{})}));
